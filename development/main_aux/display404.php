<?php $rj = json_decode($_GET['r'], true); $ynfile = $rj['status']; $assetFolder = $rj['assetFolder']; $scanType = $rj['scanType']; $sboxH = ($scanType == 'extf')? '302px' : '335px';  $VER = $_GET['VER']; $TESTING = ( isset($_GET['TESTING']) )? $_GET['TESTING'] : 0; $x65bf9XX0 = ($TESTING == 1)? '../cssfiles/button.css' : "css/mpc.button.$VER.min.css"; $thm_sbbody = (isset($_GET['thm_sbbody']))? $_GET['thm_sbbody'] : 'url(images/bg.gif)'; $thm_sbload = (isset($_GET['thm_sbload']))? $_GET['thm_sbload'] : 'none)'; $thm_text = (isset($_GET['thm_text']))? $_GET['thm_text'] : 'black'; $thm_inpColor = (isset($_GET['thm_inpColor']))? $_GET['thm_inpColor'] : 'black'; $thm_inpBgnd = (isset($_GET['thm_inpBgnd']))? $_GET['thm_inpBgnd'] : 'white'; $thm_inpBord = (isset($_GET['thm_inpBord']))? $_GET['thm_inpBord'] : '#808080'; $ht_sb = ($TESTING == 1)? '../cssfiles/button.css' : "css/mpc.button.$VER.min.css"; ?> <!DOCTYPE html> <html> <head> <meta charset="utf-8" /> <title>404</title> <link rel="stylesheet" href="<?php echo $ht_sb ?>" type="text/css" /> <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" ></script>  <style type="text/css"> body { font-family: Verdana,Arial,Helvetica,sans-serif; margin:0; padding:0; color: #000; } a { color:blue; font-weight:norm; text-decoration: none; } a:hover { text-decoration: underline; } .lab11 { font-size:11px; padding:6px 0 2px 4px; text-align:left; } .twrap1 { padding:7px 10px 10px; border:2px solid #f8f8f8; border-radius:10px; -moz-border-radius:10px; -webkit-border-radius:10px; }  .tab_content { padding: 10px 20px 0; font-size: 12px; text-align:left  -moz-user-select: -moz-none; -khtml-user-select: none; -webkit-user-select: none; cursor:default; } .tab_hdr { font-size: 14px; margin-bottom:0px; } input#inOrigUrl { padding:3px 0 3px 4px; margin-left:0px; border:1px solid #808080; width:494px; -moz-border-radius:5px; border-radius:5px; -webkit-border-radius:5px; }  #scrollbox { position:relative; height: <?php echo $sboxH ?>; width: 498px; margin: 10px auto 0 auto; overflow: auto; padding:4px 0; border:1px solid #808080; border-radius:10px; -moz-border-radius:10px; -webkit-border-radius:10px; background-color:#fff; <?php if($ynfile == 'yesfile') echo 'background:#fff url(images/bg404.gif) repeat-y 0 0;'; ?> } #scrollbox th { text-align:center; font-weight:normal; padding:2px 0; width:52px; } #scrollbox td { white-space:nowrap; } #scrollbox .type {  padding:0 5px 0 10px; } #scrollbox .str { padding-left:10px; }  #passed { position:absolute; top:95px; font-size:14px; text-align:center; width:100%; color:<?php echo $thm_inpColor ?>; } .txt { color:<?php echo $thm_text ?>; }  </style> <script> function goEd(pos) { parent.MpcEditor.cursorToPos(pos); return false; } function goVis() { parent.MpcEditor.visMode(); return false; } function clrPink() { jQuery('#inOrigUrl').css('background-color', 'white'); return true; } function clrPinkK(e) { clrPink(); } function goFixPaths(scanType) { var jv = 'none'; if(scanType == 'extf') { var j = jQuery('#inOrigUrl'); jv = j.val(); jv = jv.trim(); jv = jv.toLowerCase(); if(jv == '') { j.css('background-color', 'pink'); j.focus(); return false; } if(jv.substr(0, 4) != 'http') jv = 'http://'+jv; }  var jj = {}; jj['cbNospin'] = (jQuery('#cbNospin').prop('checked'))? 1 : 0; jj['scanType'] = scanType; jj['assetFolder'] = '<?php echo $assetFolder ?>'; jj['origUrl'] = jv; parent.MpcEditor.diaFixPaths( JSON.stringify(jj) ); return false; } </script>  </head> <body style="background:<?php echo $thm_sbbody ?>">  <div class="tab_content" onmousedown="clrPink()" onkeyup="clrPinkK(event)">  <div class="tab_hdr txt"> Your page has been scanned for relative paths. If any items are listed below, absolute paths may need to be applied to them. </div>  <div id="scrollbox">  <?php if($ynfile == 'yesfile') { echo '<table>'; $ar = file('tmp/tmp.404.txt', FILE_IGNORE_NEW_LINES); sort($ar); foreach($ar as $line) { list($tag, $xx85188XA, $pos) = explode("\t", $line); $tag = substr($tag,1); echo "<tr><th><span class=\"type\">$tag</span></th><td><a href=\"./#\" onClick=\"goEd($pos);return false;\"><span class=\"str\">$xx85188XA</span></a></td></tr>"; } echo '</table>'; } else { echo '<div style="width:100%;text-align:center;position:absolute;top:165px;left:0;font-size:16px">'; echo 'Passed 404 Scan'; echo '</div>'; } ?>  </div>  <?php if($ynfile == 'yesfile') { echo '<div style="margin-top:15px">';    echo '<table style="width:100%">';  if($scanType == 'extf') { echo '<tr>'; echo '<td colspan="3"><input id="inOrigUrl" class="epink" placeholder="Enter external website domain. Example: domain.com" type="text"></td>'; echo '</tr>';  echo '<tr><td colspan="3"><div style="height:10px"></div></td></tr>'; }  echo '<tr style="white-space:nowrap">'; echo '<td style="width:100px">'; echo "<button class=\"sexybutton\" title=\"Attempt to auto-fix pathing\" onclick=\"goFixPaths('$scanType')\">"; echo '<span><span><span class="tools">Fix pathing</span></span></span>'; echo '</button>'; echo '</td>'; echo '<td style="visibility:hidden;width:5px"><input id="cbNospin" type="checkbox" style="margin-left:20px;margin-right:4px"></td>'; echo '<td style="visibility:hidden"><label for="cbNospin">Set Nospin markers for entire page.</label></td>'; echo '</tr>'; echo '</table>';    echo '</div>'; } else { echo '<div style="margin-top:6px">';  echo '<button class="sexybutton" onclick="goVis();return false">'; echo '<span><span><span class="television">Visual mode</span></span></span>'; echo '</button>&nbsp;&nbsp;&nbsp;';  echo '<button class="sexybutton fixdim" onclick="parent.Shadowbox.close()">'; echo '<span><span><span class="cancel">Close</span></span></span>'; echo '</button>';  echo '</div>'; } ?>     </div>  </div> </body> </html>
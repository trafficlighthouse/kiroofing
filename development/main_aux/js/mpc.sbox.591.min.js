/*! 
 * jquery.event.drag - v 2.2
 * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com
 * Open Source MIT License - http://threedubmedia.com/code/license
 */
;(function(e){e.fn.drag=function(k,g,j){var i=typeof k=="string"?k:"",h=e.isFunction(k)?k:e.isFunction(g)?g:null;if(i.indexOf("drag")!==0){i="drag"+i}j=(k==h?g:j)||{};return h?this.bind(i,j,h):this.trigger(i)};var b=e.event,a=b.special,d=a.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:false,drop:true,click:false},datakey:"dragdata",noBubble:true,add:function(i){var h=e.data(this,d.datakey),g=i.data||{};h.related+=1;e.each(d.defaults,function(j,k){if(g[j]!==undefined){h[j]=g[j]}})},remove:function(){e.data(this,d.datakey).related-=1},setup:function(){if(e.data(this,d.datakey)){return}var g=e.extend({related:0},d.defaults);e.data(this,d.datakey,g);b.add(this,"touchstart mousedown",d.init,g);if(this.attachEvent){this.attachEvent("ondragstart",d.dontstart)}},teardown:function(){var g=e.data(this,d.datakey)||{};if(g.related){return}e.removeData(this,d.datakey);b.remove(this,"touchstart mousedown",d.init);d.textselect(true);if(this.detachEvent){this.detachEvent("ondragstart",d.dontstart)}},init:function(i){if(d.touched){return}var g=i.data,h;if(i.which!=0&&g.which>0&&i.which!=g.which){return}if(e(i.target).is(g.not)){return}if(g.handle&&!e(i.target).closest(g.handle,i.currentTarget).length){return}d.touched=i.type=="touchstart"?this:null;g.propagates=1;g.mousedown=this;g.interactions=[d.interaction(this,g)];g.target=i.target;g.pageX=i.pageX;g.pageY=i.pageY;g.dragging=null;g.browserH=jQuery(window).height();g.browserW=jQuery(window).width();h=d.hijack(i,"draginit",g);if(!g.propagates){return}h=d.flatten(h);if(h&&h.length){g.interactions=[];e.each(h,function(){g.interactions.push(d.interaction(this,g))})}g.propagates=g.interactions.length;if(g.drop!==false&&a.drop){a.drop.handler(i,g)}d.textselect(false);if(d.touched){b.add(d.touched,"touchmove touchend",d.handler,g)}else{b.add(document,"mousemove mouseup",d.handler,g)}if(!d.touched||g.live){return false}},interaction:function(h,g){var i=e(h)[g.relative?"position":"offset"]()||{top:0,left:0};return{drag:h,callback:new d.callback(),droppable:[],offset:i}},handler:function(h){var g=h.data;switch(h.type){case !g.dragging&&"touchmove":h.preventDefault();case !g.dragging&&"mousemove":if(Math.pow(h.pageX-g.pageX,2)+Math.pow(h.pageY-g.pageY,2)<Math.pow(g.distance,2)){break}h.target=g.target;d.hijack(h,"dragstart",g);if(g.propagates){g.dragging=true}case"touchmove":h.preventDefault();case"mousemove":if(g.dragging){if(h.pageX<8){h.pageX=8}if(h.pageY<8){h.pageY=8}if(h.pageX>g.browserW-8){h.pageX=g.browserW-8}if(h.pageY>g.browserH-8){h.pageY=g.browserH-8}d.hijack(h,"drag",g);if(g.propagates){if(g.drop!==false&&a.drop){a.drop.handler(h,g)}break}h.type="mouseup"}case"touchend":case"mouseup":default:if(d.touched){b.remove(d.touched,"touchmove touchend",d.handler)}else{b.remove(document,"mousemove mouseup",d.handler)}if(g.dragging){if(g.drop!==false&&a.drop){a.drop.handler(h,g)}d.hijack(h,"dragend",g)}d.textselect(true);if(g.click===false&&g.dragging){e.data(g.mousedown,"suppress.click",new Date().getTime()+5)}g.dragging=d.touched=false;break}},hijack:function(h,o,r,p,k){if(!r){return}var q={event:h.originalEvent,type:h.type},m=o.indexOf("drop")?"drag":"drop",t,l=p||0,j,g,s,n=!isNaN(p)?p:r.interactions.length;h.type=o;h.originalEvent=null;r.results=[];do{if(j=r.interactions[l]){if(o!=="dragend"&&j.cancelled){continue}s=d.properties(h,r,j);j.results=[];e(k||j[m]||r.droppable).each(function(u,i){s.target=i;h.isPropagationStopped=function(){return false};t=i?b.dispatch.call(i,h,s):null;if(t===false){if(m=="drag"){j.cancelled=true;r.propagates-=1}if(o=="drop"){j[m][u]=null}}else{if(o=="dropinit"){j.droppable.push(d.element(t)||i)}}if(o=="dragstart"){j.proxy=e(d.element(t)||j.drag)[0]}j.results.push(t);delete h.result;if(o!=="dropinit"){return t}});r.results[l]=d.flatten(j.results);if(o=="dropinit"){j.droppable=d.flatten(j.droppable)}if(o=="dragstart"&&!j.cancelled){s.update()}}}while(++l<n);h.type=q.type;h.originalEvent=q.event;return d.flatten(r.results)},properties:function(i,g,h){var j=h.callback;j.drag=h.drag;j.proxy=h.proxy||h.drag;j.startX=g.pageX;j.startY=g.pageY;j.deltaX=i.pageX-g.pageX;j.deltaY=i.pageY-g.pageY;j.originalX=h.offset.left;j.originalY=h.offset.top;j.offsetX=j.originalX+j.deltaX;j.offsetY=j.originalY+j.deltaY;j.drop=d.flatten((h.drop||[]).slice());j.available=d.flatten((h.droppable||[]).slice());return j},element:function(g){if(g&&(g.jquery||g.nodeType==1)){return g}},flatten:function(g){return e.map(g,function(h){return h&&h.jquery?e.makeArray(h):h&&h.length?d.flatten(h):h})},textselect:function(g){e(document)[g?"unbind":"bind"]("selectstart",d.dontstart).css("MozUserSelect",g?"":"none");document.unselectable=g?"off":"on"},dontstart:function(){return false},callback:function(){}};d.callback.prototype={update:function(){if(a.drop&&this.available.length){e.each(this.available,function(g){a.drop.locate(this,g)})}}};var f=b.dispatch;b.dispatch=function(g){if(e.data(this,"suppress."+g.type)-new Date().getTime()>0){e.removeData(this,"suppress."+g.type);return}return f.apply(this,arguments)};var c=b.fixHooks.touchstart=b.fixHooks.touchmove=b.fixHooks.touchend=b.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(h,i){if(i){var g=(i.touches&&i.touches[0])||(i.changedTouches&&i.changedTouches[0])||null;if(g){e.each(c.props,function(j,k){h[k]=g[k]})}}return h}};a.draginit=a.dragstart=a.dragend=d})(jQuery);
/*!
 * Shadowbox.js, version 3.0.3
 * http://shadowbox-js.com/
 *
 * Copyright 2007-2010, Michael J. I. Jackson
 * Date: 2014-01-06 14:23:13 -0800
 */
(function(P,m){var e={version:"3.0.3"};Array.prototype.contains=Array.prototype.contains||function(S){for(var K=0;K<this.length;++K){if(this[K]===S){return true}}return false};var I=/^(light|shadow)box\[(.*?)\]/i,l=/\s*([a-z_]*?)\s*=\s*(.+)\s*/,am=/[0-9a-z]+$/i,ak=/(.+\/)shadowbox\.js/i,v=document.documentElement,s=false,j=false,R={},ae=0,L,W,ag="opacity" in v.style&&typeof v.style.opacity==="string",H=false;(function(){var K=document.createElement("div");K.style.position="fixed";K.style.margin=0;K.style.top="20px";v.appendChild(K,v.firstChild);H=K.offsetTop==20;v.removeChild(K)})();e.current=-1;e.dimensions=null;e.ease=function(K){return 1+Math.pow(K-1,3)};e.errorInfo={fla:{name:"Flash",url:"http://www.adobe.com/products/flashplayer/"},qt:{name:"QuickTime",url:"http://www.apple.com/quicktime/download/"}};e.gallery=[];e.onReady=af;e.path=null;e.player=null;e.playerId="sb-player";e.options={animate:true,animateFade:true,autoplayMovies:true,bodyColor:"",loadingColor:"",allowResize:true,qmarkTarget:"",qmarkFunction:af,vmarkTarget:"",vmarkFunction:af,continuous:false,enableKeys:true,flashParams:{bgcolor:"#000000",allowfullscreen:true},flashVars:{},flashVersion:"9.0.115",handleOversize:"resize",handleUnsupported:"link",onChange:af,onMyClose:af,onClose:af,onFinish:af,onOpen:af,showMovieControls:true,skipSetup:false,slideshowDelay:0,viewportPadding:20};e.getCurrent=function(){return e.current>-1?e.gallery[e.current]:null};e.hasNext=function(){return e.gallery.length>1&&(e.current!=e.gallery.length-1||e.options.continuous)};e.isOpen=function(){return s};e.isPaused=function(){return W=="pause"};e.applyOptions=function(K){R=aj({},e.options);aj(e.options,K)};e.revertOptions=function(){aj(e.options,R)};e.init=function(ao,ar){if(j){return}j=true;if(e.skin.options){aj(e.options,e.skin.options)}if(ao){aj(e.options,ao)}if(!e.path){var aq,S=document.getElementsByTagName("script");for(var ap=0,K=S.length;ap<K;++ap){aq=ak.exec(S[ap].src);if(aq){e.path=aq[1];break}}}if(ar){e.onReady=ar}al()};e.open=function(S){if(s){return}var K=e.makeGallery(S);e.gallery=K[0];e.current=K[1];S=e.getCurrent();if(S==null){return}e.applyOptions(S.options||{});d();if(e.gallery.length){S=e.getCurrent();if(e.options.onOpen(S)===false){return}s=true;e.skin.onOpen(S,Q)}};e.myclose=function(){if(e.options.onMyClose!=af){e.options.onMyClose();return}Shadowbox.close()};e.close=function(K){if(!s){return}s=false;if(e.player){e.player.remove();e.player=null}if(typeof W=="number"){clearTimeout(W);W=null}ae=0;ab(false);e.options.onClose(e.getCurrent());e.skin.onClose(K);e.revertOptions();if(e.options.onClose!=af){e.options.onClose()}};e.qmark=function(){if(e.options.qmarkFunction!=af){e.options.qmarkFunction();return false}P.open("https://masspagecreator.com/links.php?go="+e.options.qmarkTarget,"_blank");return false};e.vmark=function(){if(e.options.vmarkFunction!=af){e.options.vmarkFunction();return false}P.open("https://masspagecreator.com/links.php?go="+e.options.vmarkTarget,"_blank");return false};e.play=function(){if(!e.hasNext()){return}if(!ae){ae=e.options.slideshowDelay*1000}if(ae){L=U();W=setTimeout(function(){ae=L=0;e.next()},ae);if(e.skin.onPlay){e.skin.onPlay()}}};e.pause=function(){if(typeof W!="number"){return}ae=Math.max(0,ae-(U()-L));if(ae){clearTimeout(W);W="pause";if(e.skin.onPause){e.skin.onPause()}}};e.change=function(K){if(!(K in e.gallery)){if(e.options.continuous){K=(K<0?e.gallery.length+K:0);if(!(K in e.gallery)){return}}else{return}}e.current=K;if(typeof W=="number"){clearTimeout(W);W=null;ae=L=0}e.options.onChange(e.getCurrent());Q(true)};e.next=function(){e.change(e.current+1)};e.previous=function(){e.change(e.current-1)};e.setDimensions=function(aB,ar,az,aA,aq,K,ax,au){var aw=aB,ap=ar;var av=2*ax+aq;if(aB+av>az){aB=az-av}var ao=2*ax+K;if(ar+ao>aA){ar=aA-ao}var S=(aw-aB)/aw,ay=(ap-ar)/ap,at=(S>0||ay>0);if(au&&at){if(S>ay){ar=Math.round((ap/aw)*aB)}else{if(ay>S){aB=Math.round((aw/ap)*ar)}}}e.dimensions={height:aB+aq,width:ar+K,innerHeight:aB,innerWidth:ar,top:Math.floor((az-(aB+av))/2+ax),left:Math.floor((aA-(ar+ao))/2+ax),oversized:at};return e.dimensions};e.makeGallery=function(aq){var K=[],ap=-1;if(typeof aq=="string"){aq=[aq]}if(typeof aq.length=="number"){Y(aq,function(at,au){if(au.content){K[at]=au}else{K[at]={content:au}}});ap=0}else{if(aq.tagName){var S=e.getCache(aq);aq=S?S:e.makeObject(aq)}if(aq.gallery){K=[];var ar;for(var ao in e.cache){ar=e.cache[ao];if(ar.gallery&&ar.gallery==aq.gallery){if(ap==-1&&ar.content==aq.content){ap=K.length}K.push(ar)}}if(ap==-1){K.unshift(aq);ap=0}}else{K=[aq];ap=0}}Y(K,function(at,au){K[at]=aj({},au)});return[K,ap]};e.makeObject=function(ap,ao){var aq={content:ap.href,title:ap.getAttribute("title")||"",link:ap};if(ao){ao=aj({},ao);Y(["player","title","height","width","gallery"],function(ar,at){if(typeof ao[at]!="undefined"){aq[at]=ao[at];delete ao[at]}});aq.options=ao}else{aq.options={}}if(!aq.player){aq.player=e.getPlayer(aq.content)}var K=ap.getAttribute("rel");if(K){var S=K.match(I);if(S){aq.gallery=escape(S[2])}Y(K.split(";"),function(ar,at){S=at.match(l);if(S){aq[S[1]]=S[2]}})}return aq};e.getPlayer=function(ao){var ap=ao.indexOf("?");if(ap>-1){ao=ao.substring(0,ap)}var S,K=ao.match(am);if(K){S=K[0].toLowerCase()}if(S){if(e.img&&e.img.ext.contains(S)){return"img"}if(e.swf&&e.swf.ext.contains(S)){return"swf"}if(e.flv&&e.flv.ext.contains(S)){return"flv"}if(e.qt&&e.qt.ext.contains(S)){return"qt"}}return"iframe"};function d(){var at=e.errorInfo,ao=e.plugins,au,S,ar,K,ap;for(var aq=0;aq<e.gallery.length;++aq){au=e.gallery[aq];S=false;ar=null;switch(au.player){case"flv":case"swf":if(!ao.fla){ar="fla"}break;case"qt":if(!ao.qt){ar="qt"}break}if(ar){if(e.options.handleUnsupported=="link"){au.player="html";au.content='<div class="sb-message">Please download <a href="'+at[ar].url+'">'+at[ar].name+"</a> in order to view this content.</div>"}else{S=true}}else{if(au.player=="swf"||au.player=="flv"){ap=(au.options&&au.options.flashVersion)||e.options.flashVersion;if(e.flash&&!e.flash.hasFlashPlayerVersion(ap)){au.width=310;au.height=177}}}if(S){e.gallery.splice(aq,1);if(aq<e.current){--e.current}else{if(aq==e.current){e.current=aq>0?aq-1:aq}}--aq}}}function ab(K){if(!e.options.enableKeys){return}(K?h:a)(document,"keydown",T)}function T(S){if(S.metaKey||S.shiftKey||S.altKey||S.ctrlKey){return}var K;switch(S.keyCode){case 81:case 88:case 27:K=e.close;break;case 37:K=e.previous;break;case 39:K=e.next;break;case 32:K=typeof W=="number"?e.pause:e.play;break}if(K){S.preventDefault();K()}}function Q(at){ab(false);var ar=e.getCurrent(),ao=ar.player;$("#sb-wrapper").unbind();$("#sb-title").css("cursor","default");if(ao=="iframe"){$("#sb-wrapper").drag("start",function(){if(jQuery.support.opacity){$(this).animate({opacity:0.6},200)}$("#sb-overlay").animate({opacity:0},200);$("#sb-body-inner").css("display","none")}).drag(function(av,au){$(this).css({top:au.offsetY,left:au.offsetX})},{handle:"#sb-title",not:"a",relative:true}).drag("end",function(){$("#sb-body-inner").css("display","block");if(jQuery.support.opacity){$(this).animate({opacity:1},200)}$("#sb-overlay").animate({opacity:e.options.overlayOpacity},200)})}else{$("#sb-wrapper").drag("start",function(){if(jQuery.support.opacity){$(this).animate({opacity:0.6},200)}$("#sb-overlay").animate({opacity:0},200)}).drag(function(av,au){$(this).css({top:au.offsetY,left:au.offsetX})},{handle:"#sb-title",not:"a",relative:true}).drag("end",function(){if(jQuery.support.opacity){$(this).animate({opacity:1},200)}$("#sb-overlay").animate({opacity:e.options.overlayOpacity},200)})}if(typeof e[ao]!=="function"){throw"unknown player "+ao}if(at){e.player.remove();e.revertOptions();e.applyOptions(ar.options||{})}e.player=new e[ao](ar,e.playerId);if(e.gallery.length>1){var ap=e.gallery[e.current+1]||e.gallery[0];if(ap.player==="img"){var S=new Image();S.src=ap.content}var aq=e.gallery[e.current-1]||e.gallery[e.gallery.length-1];if(aq.player==="img"){var K=new Image();K.src=aq.content}}e.skin.onLoad(at,o)}function o(){if(!s){return}if(typeof e.player.ready!="undefined"){var K=setInterval(function(){if(s){if(e.player.ready){clearInterval(K);K=null;e.skin.onReady(G)}}else{clearInterval(K);K=null}},10)}else{e.skin.onReady(G)}}function G(){if(!s){return}e.player.append(e.skin.body,e.dimensions);e.skin.onShow(n)}function n(){if(!s){return}if(e.player.onLoad){e.player.onLoad()}e.options.onFinish(e.getCurrent());if(!e.isPaused()){e.play()}ab(true)}function U(){return(new Date).getTime()}function aj(K,ao){for(var S in ao){K[S]=ao[S]}return K}function Y(ap,aq){var S=0,K=ap.length;for(var ao=ap[0];S<K&&aq.call(ao,S,ao)!==false;ao=ap[++S]){}}function af(){}function ac(K){return document.getElementById(K)}function w(K){K.parentNode.removeChild(K)}e.getStyle=(function(){var K=/opacity=([^)]*)/,S=document.defaultView&&document.defaultView.getComputedStyle;return function(ar,aq){var ap;if(!ag&&aq=="opacity"&&ar.currentStyle){ap=K.test(ar.currentStyle.filter||"")?(parseFloat(RegExp.$1)/100)+"":"";return ap===""?"1":ap}if(S){var ao=S(ar,null);if(ao){ap=ao[aq]}if(aq=="opacity"&&ap==""){ap="1"}}else{ap=ar.currentStyle[aq]}return ap}})();e.appendHTML=function(ao,S){if(ao.insertAdjacentHTML){ao.insertAdjacentHTML("BeforeEnd",S)}else{if(ao.lastChild){var K=ao.ownerDocument.createRange();K.setStartAfter(ao.lastChild);var ap=K.createContextualFragment(S);ao.appendChild(ap)}else{ao.innerHTML=S}}};e.getWindowSize=function(K){if(document.compatMode==="CSS1Compat"){return document.documentElement["client"+K]}return document.body["client"+K]};e.setOpacity=function(ao,K){var S=ao.style;if(ag){S.opacity=(K==1?"":K)}else{S.zoom=1;if(K==1){if(typeof S.filter=="string"&&(/alpha/i).test(S.filter)){S.filter=S.filter.replace(/\s*[\w\.]*alpha\([^\)]*\);?/gi,"")}}else{S.filter=(S.filter||"").replace(/\s*[\w\.]*alpha\([^\)]*\)/gi,"")+" alpha(opacity="+(K*100)+")"}}};e.clearOpacity=function(K){e.setOpacity(K,1)};function z(S){var K=S.target?S.target:S.srcElement;return K.nodeType==3?K.parentNode:K}function N(S){var K=S.pageX||(S.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft)),ao=S.pageY||(S.clientY+(document.documentElement.scrollTop||document.body.scrollTop));return[K,ao]}function D(K){K.preventDefault()}function h(ao,S,K){jQuery(ao).bind(S,K)}function a(ao,S,K){jQuery(ao).unbind(S,K)}var A=false,J;if(document.addEventListener){J=function(){document.removeEventListener("DOMContentLoaded",J,false);e.load()}}else{if(document.attachEvent){J=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",J);e.load()}}}}function g(){if(A){return}try{document.documentElement.doScroll("left")}catch(K){setTimeout(g,1);return}e.load()}function al(){if(document.readyState==="complete"){return e.load()}if(document.addEventListener){document.addEventListener("DOMContentLoaded",J,false);P.addEventListener("load",e.load,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",J);P.attachEvent("onload",e.load);var K=false;try{K=P.frameElement===null}catch(S){}if(document.documentElement.doScroll&&K){g()}}}}e.load=function(){if(A){return}if(!document.body){return setTimeout(e.load,13)}A=true;e.onReady();if(!e.options.skipSetup){e.setup()}e.skin.init()};e.plugins={};if(navigator.plugins&&navigator.plugins.length){var ai=[];Y(navigator.plugins,function(K,S){ai.push(S.name)});ai=ai.join(",");e.plugins={fla:false,qt:false}}else{var y=function(K){var S;try{S=new ActiveXObject(K)}catch(ao){}return !!S};e.plugins={fla:y("ShockwaveFlash.ShockwaveFlash"),qt:y("QuickTime.QuickTime")}}var c=/^(light|shadow)box/i,V="shadowboxCacheKey",f=1;e.cache={};e.select=function(S){var ao=[];if(!S){var K;Y(document.getElementsByTagName("a"),function(ar,at){K=at.getAttribute("rel");if(K&&c.test(K)){ao.push(at)}})}else{var aq=typeof S;if((aq==="object"||aq==="function")&&S.length){for(var ap=0;ap<S.length;++ap){ao[ap]=S[ap]}}else{ao.push(S)}}return ao};e.setup=function(K,S){Y(e.select(K),function(ao,ap){e.addCache(ap,S)})};e.teardown=function(K){Y(e.select(K),function(S,ao){e.removeCache(ao)})};e.addCache=function(ao,K){var S=ao[V];if(S==m){S=f++;ao[V]=S;h(ao,"click",b)}e.cache[S]=e.makeObject(ao,K)};e.removeCache=function(K){a(K,"click",b);delete e.cache[K[V]];K[V]=null};e.getCache=function(S){var K=S[V];return(K in e.cache&&e.cache[K])};e.clearCache=function(){for(var K in e.cache){e.removeCache(e.cache[K].link)}e.cache={}};function b(K){e.open(this);if(e.gallery.length){K.preventDefault()}}e.html=function(K,S){this.obj=K;this.id=S;this.height=K.height?parseInt(K.height,10):300;this.width=K.width?parseInt(K.width,10):500};e.html.prototype={append:function(K,S){var ao=document.createElement("div");ao.id=this.id;ao.className="html";ao.innerHTML=this.obj.content;K.appendChild(ao)},remove:function(){var K=ac(this.id);if(K){w(K)}}};e.iframe=function(S,ao){this.obj=S;this.id=ao;var K=ac("sb-overlay");this.height=S.height?parseInt(S.height,10):K.offsetHeight;this.width=S.width?parseInt(S.width,10):K.offsetWidth};e.iframe.prototype={append:function(K,ao){var S='<iframe id="'+this.id+'" name="'+this.id+'" height="100%" width="100%" frameborder="0" marginwidth="0" marginheight="0" style="visibility:hidden" onload="this.style.visibility=\'visible\'" scrolling="auto" allowtransparency="true" src="about:blank"></iframe>';K.innerHTML=S},remove:function(){var K=ac(this.id);if(K){w(K);try{delete P.frames[this.id]}catch(S){}}},onLoad:function(){var K=P.frames[this.id];K.location.href=this.obj.content}};var ah=false,x=[],E=["sb-nav-close","sb-nav-qmark","sb-nav-vmark","sb-nav-next","sb-nav-play","sb-nav-pause","sb-nav-previous"],C,ad,r,M=true;function aa(ao,az,aw,au,aA){var K=(az=="opacity"),av=K?e.setOpacity:function(aB,aC){aB.style[az]=""+aC+"px"};if(au==0||(!K&&!e.options.animate)||(K&&!e.options.animateFade)){av(ao,aw);if(aA){aA()}return}var ax=parseFloat(e.getStyle(ao,az))||0;var ay=aw-ax;if(ay==0){if(aA){aA()}return}au*=1000;var ap=U(),at=e.ease,ar=ap+au,aq;var S=setInterval(function(){aq=U();if(aq>=ar){clearInterval(S);S=null;av(ao,aw);if(aA){aA()}}else{av(ao,ax+at((aq-ap)/au)*ay)}},10)}function F(){C.style.height=e.getWindowSize("Height")+"px";C.style.width=e.getWindowSize("Width")+"px"}function Z(){C.style.top=document.documentElement.scrollTop+"px";C.style.left=document.documentElement.scrollLeft+"px"}function u(K){if(K){Y(x,function(S,ao){ao[0].style.visibility=ao[1]||""})}else{x=[];Y(e.options.troubleElements,function(ao,S){Y(document.getElementsByTagName(S),function(ap,aq){x.push([aq,aq.style.visibility]);aq.style.visibility="hidden"})})}}function t(ao,K){var S=ac("sb-nav-"+ao);if(S){S.style.display=K?"":"none"}}function k(K,ar){var aq=ac("sb-loading"),ao=e.getCurrent().player,ap=(ao=="img"||ao=="html");if(K){e.setOpacity(aq,0);aq.style.display="block";var S=function(){e.clearOpacity(aq);if(ar){ar()}};if(ap){aa(aq,"opacity",1,e.options.fadeDuration,S)}else{S()}}else{var S=function(){aq.style.display="none";e.clearOpacity(aq);if(ar){ar()}};if(ap){aa(aq,"opacity",0,e.options.fadeDuration,S)}else{S()}}}function an(ay){var at=e.getCurrent();ac("sb-title-inner").innerHTML=at.title||"";var az,av,ao,aA,aw;if(e.options.displayNav){az=true;var ax=e.gallery.length;if(ax>1){if(e.options.continuous){av=aw=true}else{av=(ax-1)>e.current;aw=e.current>0}}if(e.options.slideshowDelay>0&&e.hasNext()){aA=!e.isPaused();ao=!aA}}else{az=av=ao=aA=aw=false}t("close",az);var S;S=((e.options.qmarkTarget=="")&&(e.options.qmarkFunction==af))?false:az;t("qmark",S);S=((e.options.vmarkTarget=="")&&(e.options.vmarkFunction==af))?false:az;t("vmark",S);t("next",av);t("play",ao);t("pause",aA);t("previous",aw);var K="";if(e.options.displayCounter&&e.gallery.length>1){var ax=e.gallery.length;if(e.options.counterType=="skip"){var ar=0,aq=ax,ap=parseInt(e.options.counterLimit)||0;if(ap<ax&&ap>2){var au=Math.floor(ap/2);ar=e.current-au;if(ar<0){ar+=ax}aq=e.current+(ap-au);if(aq>ax){aq-=ax}}while(ar!=aq){if(ar==ax){ar=0}K+='<a onclick="Shadowbox.change('+ar+');"';if(ar==e.current){K+=' class="sb-counter-current"'}K+=">"+(++ar)+"</a>"}}else{K=[e.current+1,ax].join("/")}}ac("sb-counter").innerHTML=K;ay()}function q(ap){var K=ac("sb-title-inner"),ao=ac("sb-info-inner"),S=0.35;K.style.visibility=ao.style.visibility="";if(K.innerHTML!=""){aa(K,"marginTop",0,S)}aa(ao,"marginTop",0,S,ap)}function X(ao,av){var at=ac("sb-title"),K=ac("sb-info"),ap=at.offsetHeight,aq=K.offsetHeight,ar=ac("sb-title-inner"),au=ac("sb-info-inner"),S=(ao?0.35:0);aa(ar,"marginTop",ap,S);aa(au,"marginTop",aq*-1,S,function(){ar.style.visibility=au.style.visibility="hidden";av()})}function B(K,ap,S,ar){var aq=ac("sb-wrapper-inner"),ao=(S?e.options.resizeDuration:0);aa(r,"top",ap,ao);aa(aq,"height",K,ao,ar)}function p(K,ap,S,aq){var ao=(S?e.options.resizeDuration:0);aa(r,"left",ap,ao);aa(r,"width",K,ao,aq)}function O(av,ao){var aq=ac("sb-body-inner"),av=parseInt(av),ao=parseInt(ao),S=r.offsetHeight-aq.offsetHeight,K=r.offsetWidth-aq.offsetWidth,at=ad.offsetHeight,au=ad.offsetWidth,ar=parseInt(e.options.viewportPadding)||20,ap=(e.player&&e.options.handleOversize!="drag");return e.setDimensions(av,ao,at,au,S,K,ar,ap)}var i={};i.markup='<div id="sb-container"><div id="sb-overlay"></div><div id="sb-wrapper"><div id="sb-title"><div id="sb-title-inner"></div><a id="sb-nav-qmark" title="Help" onclick="Shadowbox.qmark()"></a><a id="sb-nav-vmark" title="Help" onclick="Shadowbox.vmark()"></a><a id="sb-nav-close" title="Close" onclick="Shadowbox.myclose()"></a></div><div id="sb-wrapper-inner"><div id="sb-body"><div id="sb-body-inner"></div><div id="sb-loading"></div></div></div><div id="sb-info"><div id="sb-info-inner"><div id="sb-counter"></div><div id="sb-nav"><a id="sb-nav-next" onclick="Shadowbox.next()"></a><a id="sb-nav-play" onclick="Shadowbox.play()"></a><a id="sb-nav-pause" onclick="Shadowbox.pause()"></a><a id="sb-nav-previous" onclick="Shadowbox.previous()"></a></div></div></div></div></div>';i.options={animSequence:"sync",counterLimit:10,counterType:"default",displayCounter:true,displayNav:true,fadeDuration:0.35,initialHeight:160,initialWidth:320,modal:false,overlayColor:"#000",overlayOpacity:0.5,resizeDuration:0.35,showOverlay:true,troubleElements:["select","object","embed","canvas"]};i.init=function(){e.appendHTML(document.body,i.markup);i.body=ac("sb-body-inner");C=ac("sb-container");ad=ac("sb-overlay");r=ac("sb-wrapper");if(!H){C.style.position="absolute"}if(!ag){var ao,K,S=/url\("(.*\.png)"\)/;Y(E,function(aq,ar){ao=ac(ar);if(ao){K=e.getStyle(ao,"backgroundImage").match(S);if(K){ao.style.backgroundImage="none";ao.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,src="+K[1]+",sizingMethod=scale);"}}})}var ap;h(P,"resize",function(){if(ap){clearTimeout(ap);ap=null}if(s){ap=setTimeout(i.onWindowResize,10)}})};i.onOpen=function(K,ao){M=false;C.style.display="block";F();var S=O(e.options.initialHeight,e.options.initialWidth);B(S.innerHeight,S.top);p(S.width,S.left);if(e.options.showOverlay){ad.style.backgroundColor=e.options.overlayColor;e.setOpacity(ad,0);if(!e.options.modal){h(ad,"click",e.close)}ah=true}if(!H){Z();h(P,"scroll",Z)}u();C.style.visibility="visible";if(ah){aa(ad,"opacity",e.options.overlayOpacity,e.options.fadeDuration,ao)}else{ao()}};i.onLoad=function(S,K){k(true);while(i.body.firstChild){w(i.body.firstChild)}X(S,function(){if(!s){return}if(!S){r.style.visibility="visible"}an(K)})};i.onReady=function(aq){if(!s){return}var S=e.player,ap=O(S.height,S.width);var K=function(){q(aq)};var ao=ac("sb-body");if(e.options.bodyColor!=""){ao.style.background=e.options.bodyColor}if(e.options.loadingColor!=""){ao=ac("sb-loading");ao.style.background=e.options.loadingColor}switch(e.options.animSequence){case"hw":B(ap.innerHeight,ap.top,true,function(){p(ap.width,ap.left,true,K)});break;case"wh":p(ap.width,ap.left,true,function(){B(ap.innerHeight,ap.top,true,K)});break;default:p(ap.width,ap.left,true);B(ap.innerHeight,ap.top,true,K)}};i.onShow=function(K){k(false,K);M=true};i.onClose=function(S){if(!H){a(P,"scroll",Z)}a(ad,"click",e.close);r.style.visibility="hidden";var K=function(){C.style.visibility="hidden";C.style.display="none";u(true)};if(!S){if(ah){aa(ad,"opacity",0,e.options.fadeDuration,K)}else{K()}}};i.onPlay=function(){t("play",false);t("pause",true)};i.onPause=function(){t("pause",false);t("play",true)};i.onWindowResize=function(){if(!M){return}F();if(!e.options.allowResize){return}var K=e.player,S=O(K.height,K.width);p(S.width,S.left);B(S.innerHeight,S.top);if(K.onWindowResize){K.onWindowResize()}};e.skin=i;P.Shadowbox=e})(window);
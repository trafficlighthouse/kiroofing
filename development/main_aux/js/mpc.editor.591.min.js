var oWin;var oCodeMirror;var edheight;var wwidth;var anim_blockE=0;var anim_block1E=0;var inited=0;jQuery(document).ready(function(){var a=jQuery(window).height();a-=263;if(a<260){a=260}jQuery("#cke_1_contents").css("height",a);edheight=a;wwidth=jQuery(window).width();jQuery(function(){jQuery(window).resize(function(){var b=jQuery(window).height();b-=263;if(b<260){b=260}jQuery("#cke_1_contents").css("height",b);edheight=b;wwidth=jQuery(window).width()})});document.oncontextmenu=function(b){if(b.preventDefault!=undefined){b.preventDefault()}if(b.stopPropagation!=undefined){b.stopPropagation()}return false};MpcEditor.initBtn()});(function(aL,D){var an={version:"325",ar_cust:[],oEditor:""};var P={},ad={},ae="",aJ="",aI=-1,W="",S="",g="",ap="",ak="",au="",R=null,b="",ao="",Y="",am=[],I=[],K=[],l=[],n=[],aj=[],u=[],ay=0;mem_mctotal=0,mem_vistotal=0,mem_lastsilo=0;mem_bcselector=0,mem_bread={},mem_href="",mem_anchor="",mem_bchome="",mem_a51_type="r",mem_a51_cbox=false,mem_a51_target_url="",mem_a51_target_di="",mem_a51_suffix="",mapState=0,mapCity=0,mapAlign=0,mapWidth=250,mapHeight=250,wigColor="ffffff",wigCountry="us";an.initBtn=function(){jQuery(".btnFull").css("background-color",an.php.thm_btnFull);jQuery(".btnUnSel").css("color",an.php.thm_btnUnSel);an.oEditor=CKEDITOR.instances.editor1;jQuery("#opt_t").toggleClass("cvarsel",true);S="opt_t";b=an.php.varNineObj.v9;an.php.varNine=JSON.stringify(an.php.varNineObj);for(x=1;x<10;x++){an.ar_cust[x-1]=jQuery("#cvar"+x).html()}ak=new Array("MetaKeywords","WordpressParent","WordpressSlug","MetaDescription","WordpressTemplate","WordpressSpin","WordpressTags","WordpressCategory");an.resetBack(false);mem_bread.init=0;X()};function X(){for(x=1;x<10;x++){s=b[x-1];s=s.trim();if(s!=""){switch(S){case"opt_t":s=s.replace(/\w\S*/g,function(E){return E.charAt(0).toUpperCase()+E.substr(1).toLowerCase()});break;case"opt_s":s=s.charAt(0).toUpperCase()+s.substr(1).toLowerCase();break;case"opt_u":s=s.toUpperCase();break;case"opt_l":s=s.toLowerCase();break;case"opt_h":if(an.php.lowurl_yn=="yes"){s=s.toLowerCase()}s=s.replace(/ /g,"-");break;case"opt_a":if(an.php.lowurl_yn=="yes"){s=s.toLowerCase()}s=s.replace(/ /g,"-");s='<a href="'+s+'">CLICK_HERE</a>';break;default:break}}jQuery("#cvar"+x).prop("title",s)}}function v(E){jQuery("#"+E).toggleClass("busycss",true)}function e(E){jQuery("#"+E).toggleClass("busycss",false)}function o(E){oCodeMirror.replaceSelection(E);var aS=oCodeMirror.getCursor("end");oCodeMirror.setSelection(aS,aS);return false}an.doUndo=function(){if(h()){ax()}if(aK()){oCodeMirror.undo()}else{an.doButton("undo")}return false};an.doRedo=function(){if(h()){ax()}if(aK()){oCodeMirror.redo()}else{an.doButton("redo")}return false};an.setSourceBtn=function(E){var aT=(E=="source");a(aT);al(!aT);var aS=h();aD(aS);t(!aS)};function aF(E){if(an.php.dimSave==0){jQuery("#bnSaveAs").prop("disabled",E)}}function V(E){jQuery("#bnClose").prop("disabled",E)}function y(E){jQuery("#bnMyPreview").prop("disabled",E)}function aM(E){jQuery("#bnApi").prop("disabled",E)}function T(aS){var E=(an.php.isc==1)?aS:true;jQuery("#bnShort").prop("disabled",E)}function N(E){jQuery("#bnSource").prop("disabled",E)}function k(E){jQuery("#bnVisual").prop("disabled",E)}function q(E){jQuery("#bnVars").prop("disabled",E)}function aB(E){jQuery("#bnEdits").prop("disabled",E)}function a(E){jQuery("#bnSource").toggleClass("sexyblue",E)}function al(E){jQuery("#bnVisual").toggleClass("sexyblue",E)}function aD(E){jQuery("#bnVars").toggleClass("sexyblue",E)}function t(E){jQuery("#bnEdits").toggleClass("sexyblue",E)}function Z(){jQuery("#varsdiv").css("visibility","hidden")}function r(){jQuery("#varsdiv").css("visibility","visible")}an.hideWaitMessage=function(){jQuery("#bottom").css("visibility","visible");jQuery("#edittype").css("visibility","visible");jQuery("#pwait").css("color","black");var E=document.getElementById("pwait");E.innerHTML="Mpc Editor";jQuery("#pwait").css("color","#e8e8e8");aC();if(an.php.jRoot==1){jQuery("#webroot").css("visibility","visible")}af();if((inited==0)&&(an.php.init_ed_src==1)){inited=1;if((an.php.jRoot)&&(!an.php.bRaw)){return false}setTimeout(function(){MpcEditor.doButton("svtoggle")},10)}else{inited=1}return false};function aC(){var E=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,0,1,0,1,1,1,0,1,0,0,0,0,1,0,1,0,0,1,1,0,0,1];aF(false);V(false);var aS=(an.php.fileType=="html")?0:7;if(an.php.bRaw){aS=7*2}if(an.php.jRoot==1){aS+=7*3}y(E[aS+0]==0);aM(E[aS+1]==0);T(E[aS+2]==0);N(E[aS+3]==0);k(E[aS+4]==0);q(E[aS+5]==0);aB(E[aS+6]==0)}an.goTop=function(){var E=CKEDITOR.instances.editor1;if(E.mode=="wysiwyg"){var aS=jQuery(E.document.$);aS.scrollTop(0)}else{oCodeMirror.setCursor(0,0);an.scrollToLine(0,0)}};an.goBottom=function(){var aS=CKEDITOR.instances.editor1;if(aS.mode=="wysiwyg"){var aV=jQuery(aS.document.$);var aT=aV.height();aV.scrollTop(aT)}else{var aU=oCodeMirror.getDoc();var E=aU.lineCount();oCodeMirror.setCursor(E,0);an.scrollToLine(E,0)}};an.cmfocus=function(){oCodeMirror.focus()};function af(){var E=CKEDITOR.instances.editor1;if(E.mode=="wysiwyg"){E.focus();var aU=E.getSelection();var aT=aU.getRanges();var aV=aT[0].startContainer;var aS=aV.getParents(true);aV=aS[aS.length-2].getFirst();aU.selectElement(aV);aT=aU.getRanges();aT[0].collapse(true);aU.selectRanges(aT)}return false}an.closeAndFocus=function(E){if(E){Shadowbox.close()}if(an.oEditor.mode!="source"){an.oEditor.focus()}else{oCodeMirror.focus()}};function aK(){an.oEditor=CKEDITOR.instances.editor1;return(an.oEditor.mode=="source")}function h(){return(jQuery("#varsdiv").css("visibility")=="visible")}an.bnReplaceClick=function(){var E=(MpcEditor.php.assetFolder=="")?'disabled="disabled"':"";var aS="";aS+='<div class="dia-content noselect" spellcheck="false">';aS+='<div class="dia-status" style="position:absolute;top:4px;left:6px;"></div>';aS+='<div class="twrap pinstripe" style="margin-top:8px;width:436px">';aS+='<table width="100%">';aS+="<tr>";aS+='<td width="1%">&nbsp;</td>';aS+='<td class="tab_label" style="text-align:right">Find what:</td>';aS+='<td align="left" width="90%">';aS+='<div style="margin-right:12px"><input type="text" class="xdisi" id="txFind" title="Text to find" onkeyup="MpcEditor.txFindChange();return false" ></div>';aS+="</td>";aS+="</tr>";aS+="<tr>";aS+='<td colspan="3"><div style="height:10px"></div></td>';aS+="</tr>";aS+="<tr>";aS+='<td class="tab_label" style="text-align:right" colspan="2">Replace with:</td>';aS+='<td align="left" width="90%">';aS+='<div style="margin-right:12px">';aS+='<input type="text" class="xdisi" id="txRepl" onkeyup="MpcEditor.hideDiaStatusK(event);return false" title="Replacement text" >';aS+="</div>";aS+="</td>";aS+="</tr>";aS+="<tr>";aS+='<td colspan="3"><div style="height:10px"></div></td>';aS+="</tr>";aS+="</table>";aS+='<table width="98%" align="center">';aS+="<tr>";aS+='<td width="1%"><input type="checkbox" id="cbCase" class="xdisi" style="padding:0;margin:0 4px 0 0" onchange="MpcEditor.hideDiaStatus();return false" title="Match case" ></td>';aS+='<td width="24%" class="tab_label" style="text-align:left"><label for="cbCase">Match Case</label></td>';aS+='<td width="1%"><input type="checkbox" id="cbRegx" class="xdisi" style="padding:0;margin:0 4px 0 0" onchange="MpcEditor.hideDiaStatus();return false" title="Use Regex" ></td>';aS+='<td width="24%" class="tab_label" style="text-align:left"><label for="cbRegx">Use RegEx</label></td>';aS+='<td width="25%" align="right">';aS+='<button class="sexybutton zdisi" onClick="MpcEditor.pasteAbs();return false;" '+E+' id="bnAbs" title="Paste asset folder path: '+MpcEditor.php.assetFolder+'" >';aS+='<span><span><span class="paste">Asset folder</span></span></span>';aS+="</button>";aS+="</td>";aS+='<td width="25%" align="right">';aS+='<button class="sexybutton zdisi" onClick="MpcEditor.pasteDomain();return false;" id="bnDomain" title="Paste Domain Url: '+MpcEditor.php.jDomain+'" >';aS+='<span><span><span class="paste">Domain</span></span></span>';aS+="</button>";aS+="</td>";aS+="</tr>";aS+="</table>";aS+="</div>";aS+='<div style="position:relative;text-align:center;margin-top:20px;white-space:nowrap">';aS+='<div id="ttlbusy1" class="" style="position:absolute;top:0;right:180px"></div>';aS+='<table align="center">';aS+="<tr>";aS+="<td>";aS+='<button class="sexybutton disi" onclick="MpcEditor.submitReplace(\'one\');return false;"';aS+='title="Replace once" id="bnReplaceOne">';aS+='<span><span><span class="repl">Replace One</span></span></span>';aS+="</button>&nbsp;";aS+="</td>";aS+="<td>";aS+='<button class="sexybutton disi" onclick="MpcEditor.submitReplace(\'all\');return false;"';aS+='title="Replace all" id="bnReplaceAll">';aS+='<span><span><span class="repl">Replace All</span></span></span>';aS+="</button>";aS+="</td>";aS+='<td align="center" width="30%"></td>';aS+="<td>";aS+='<button class="sexybutton" id="bnReset" title="Reset input boxes." onclick="MpcEditor.resetRepl();return false;">';aS+='<span><span><span class="erase">Reset</span></span></span>';aS+="</button>&nbsp;</td>";aS+="<td>";aS+='<button class="sexybutton" title="Close dialog" onclick="MpcEditor.closeRepl();return false;">';aS+='<span><span><span class="cancel">Close</span></span></span>';aS+="</button>";aS+="</td>";aS+="</tr>";aS+="</table>";aS+="</div>";aS+="</div>";Shadowbox.open({content:aS,title:"Find and replace source text",player:"html",handleOversize:"none",height:207,width:500,options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,onMyClose:an.closeRepl,animate:an.php.bAnimate,animateFade:0,onFinish:m}})};an.pasteAbs=function(){ab("txRepl",an.php.assetFolder);return false};an.pasteDomain=function(){ab("txRepl",an.php.jDomain);return false};function ab(aV,aU){var E=document.getElementById(aV);E.focus();var aT=E.selectionStart;var aS=E.selectionEnd;E.value=E.value.substring(0,aT)+aU+E.value.substr(aS)}function m(){if(an.php.bxd){A("gold",'Not available in <a href="http://masspagecreator.com/links.php?go=hasDemo" target="_blank">DEMO</a> mode');jQuery(".disi").prop("disabled",true);jQuery(".xdisi").prop("disabled",true);jQuery(".zdisi").prop("disabled",true);jQuery("#bnReset").prop("disabled",true)}else{var E=an.submitSnip("getselection");jQuery("#txFind").val(E);var aS=jQuery("#txRepl");aS.val(E);aS.focus()}return false}an.submitReplace=function(aT){v("ttlbusy1");g=oCodeMirror.getValue();var a0=jQuery("#txFind").val();var aY=jQuery("#txRepl").val();var aX=(!jQuery("#cbCase").prop("checked"))?"i":"";var aS=(aT=="all")?"g":"";var aU;if(jQuery("#cbRegx").prop("checked")){aU=a0}else{aU=a0.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}var aZ=new RegExp(aU,aS+aX);if(!aZ.test(g)){A("pink","No matches found");e("ttlbusy1");return false}var E=g.match(aZ);var aV=E.length;oCodeMirror.setValue(g.replace(aZ,aY));jQuery("#bnUndoRepl").prop("disabled",false);var aW=(aV==1)?"":"es";A("lightgreen",aV+" match"+aW+" found and replaced");e("ttlbusy1");return false};an.closeRepl=function(){Shadowbox.close();oCodeMirror.focus()};an.resetRepl=function(){jQuery("#txRepl").val("");jQuery("#txFind").val("");jQuery("#cbCase").prop("checked",false);jQuery("#cbRegx").prop("checked",false);an.txFindChange();aq();return false};an.txFindChange=function(){an.hideDiaStatus();jQuery(".disi").prop("disabled",(jQuery("#txFind").val()==""));return false};an.optionSelect=function(aS){var E=jQuery("#"+aS);tf=E.hasClass("cvarsel");ag();if(!tf){E.toggleClass("cvarsel",true);S=aS}X();return false};an.specialSelect=function(aS){var E=jQuery("#"+aS);tf=E.hasClass("cvarsel");ax();if(!tf){E.toggleClass("cvarsel",true);W=aS}return false};function ax(){jQuery(".vspe").toggleClass("cvarsel",false);W=""}function ag(){jQuery(".vopt").toggleClass("cvarsel",false);S=""}an.insertVar=function(aU){var aT="";if(W=="ptag"){aT="-"}else{if(W=="ntag"){aT="+"}}var aS="";if(S!=""){if(S=="opt_a"){aS=":h"}else{aS=":"+S.charAt(4)}}var E=jQuery("#cvar"+aU).text();var aV="#"+aT+E+aS+"#";if(S=="opt_a"){aV='<a href="'+aV+'">CLICK_HERE</a>'}if(an.oEditor.mode=="source"){o(aV)}else{an.oEditor.insertHtml(aV)}ax();an.closeAndFocus(false);return false};an.syncSource=function(){if(an.php.bRaw){return}if(aK()){an.doButton("mirrorSnapshot")}return false};an.clickSource=function(){if(an.php.bRaw){return}an.doButton("svtoggle")};an.clickVisual=function(){if(jQuery("#bnSource").prop("disabled")){return}an.doButton("svtoggle")};an.doButton=function(aS){if(aS=="svtoggle"){var E=CKEDITOR.instances.editor1;if(aK()){a(false);jQuery("#bnEdits").toggleClass("btnDimLook",false);E.execCommand("source");if(an.php.jRoot!=1){aB(false)}jQuery(".cke_button__find").toggleClass("cke_button_disabled",false);jQuery(".cke_button__find").toggleClass("cke_button_off",true);jQuery(".cke_button__replace").toggleClass("cke_button_disabled",false);jQuery(".cke_button__replace").toggleClass("cke_button_off",true);return false}else{al(false);if(!an.php.jRoot==1){jQuery("#bnEdits").toggleClass("btnDimLook",true)}var aT=E.execCommand("source");if(!aT){console.log("execCommand error")}if(an.php.jRoot==1){jQuery(".cke_button__find").toggleClass("cke_button_disabled",true);jQuery(".cke_button__find").toggleClass("cke_button_off",false);jQuery(".cke_button__replace").toggleClass("cke_button_disabled",true);jQuery(".cke_button__replace").toggleClass("cke_button_off",false)}else{aD(true);t(false);r()}return false}}if(aS=="mypreview"){if(CKEDITOR.instances.editor1.getData()==""){return false}an.oEditor.execCommand("mypreview");return false}an.oEditor.execCommand(aS);return false};an.toggleVarsEdits=function(){if(h()){if(aK()){return false}aD(false);Z();t(true)}else{if(an.php.jRoot){return false}t(false);r();aD(true)}an.closeAndFocus(false);return false};an.saveEdit=function(aS){var aW="WebRoot";var aT=MpcEditor.php.jDomainP+"/";var E=an.php.saveFname.substr(an.php.dotdot.length);var aV="Save file into WebRoot folder";if(!an.php.jRoot==1){aW="Project";aT=an.php.thePath;E=an.php.saveFname;aV=(an.php.fileType=="text")?"Save article into Mpc folder":"Save page into Mpc folder"}var aU="";aU+='<div class="dia-content noselect" spellcheck="false">';aU+='<div id="ttlbusy2" class="" style="position:absolute;top:7px;right:15px"></div>';aU+="<form>";aU+='<div style="text-align:left;margin-right:10px;">';aU+='<table width="100%">';aU+="<tr>";aU+='<td class="tab_label" align="left"><div style="padding-bottom:4px">'+aT+"</div></td>";aU+="</tr>";aU+="<tr>";aU+='<td width="95%" align="left"><input type="text" name="txPutName" id="txPutName" onkeyup="MpcEditor.txPutNameChange();return false" value="'+E+'"';aU+='title="Enter a path/filename for this page." />';aU+="</td>";aU+="</tr>";aU+="</table>";aU+="</div>";aU+='<div style="position:relative;margin-top:15px">';aU+='<div id="viewSave" style="position:absolute;top:0;left:0;text-align:center;width:100%">';aU+='<table align="center">';aU+="<tr>";aU+="<td>";aU+='<button class="sexybutton disi" disabled onclick="MpcEditor.savePage(this, false,\''+aS+"');return false;\"";aU+='id="bnPublish"><span><span><span class="publish">Save to '+aW+" folder</span></span></span>";aU+="</button>";aU+="&nbsp;&nbsp;&nbsp;";aU+='<button class="sexybutton" onclick="Shadowbox.close();return false;">';aU+='<span><span><span class="cancel">Cancel</span></span></span>';aU+="</button>";aU+="</td>";aU+="</tr>";aU+="</table>";aU+="</div>";aU+='<div id="viewConfirm" style="position:absolute;top:0;left:0;text-align:left;width:100%;display:none">';aU+="<table>";aU+="<tr>";aU+="<td>File exists. Do you want to overwrite it?&nbsp;&nbsp;&nbsp;</td>";aU+="<td>";aU+='<button class="sexybutton" onclick="MpcEditor.savePage(this, true,\''+aS+"');return false;\"";aU+='id="bnYes"><span><span><span class="accept">Yes</span></span></span>';aU+="</button>&nbsp;";aU+="</td>";aU+="<td>";aU+='<button class="sexybutton" onclick="MpcEditor.noOver();return false;"';aU+='id="bnNo"><span><span><span class="cancel">No</span></span></span>';aU+="</button>";aU+="</td>";aU+="</tr>";aU+="</table>";aU+="</div>";aU+="</div>";aU+="</form>";aU+="</div>";Shadowbox.open({content:aU,title:aV,player:"html",handleOversize:"none",height:119,width:500,options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,animate:an.php.bAnimate,animateFade:0,onFinish:aw}})};an.savePage=function(E,aS,aX){var aT=false;v("ttlbusy2");jQuery(".disi").prop("disabled",true);var aW=az(jQuery("#txPutName").val());jQuery("#txPutName").val(aW);if(an.php.jRoot==1){aW=an.php.dotdot+aW}var aV=B(aW);if(aV!=0){var aZ="";var aY="";switch(aV){case 1:aZ="Filename required";break;case 2:aZ="Unable to save. Filename not allowed.";aY=aW;break;case 3:aZ="Unable to save. Protected folder.";aY=an.php.theAuxDir;break}Shadowbox.close();av(aZ,aY);return false}if(aS){jQuery("#viewConfirm").css("display","none");jQuery("#viewSave").css("display","block");aT=true}else{if(aX==1){an.doAjax64("../ajax.php","y70Bd9X0G",false,{fname:aW},function(a0){if(a0==1){jQuery("#viewSave").css("display","none");jQuery("#viewConfirm").css("display","block");e("ttlbusy2");jQuery(".disi").prop("disabled",false)}else{aT=true}})}else{aT=true}}if(aT){var aU=(an.php.bRaw)?oCodeMirror.getValue():CKEDITOR.instances.editor1.getData();an.doAjax64("../ajax.php","y3X8daXD2",true,{fname:aW,ftype:MpcEditor.php.fileType,bRaw:an.php.bRaw,ed:aU},function(a1){Shadowbox.close();var a0=(an.php.jRoot==1)?an.php.jDomainP+"/"+aW.substr(an.php.dotdot.length):an.php.thePath+aW;if(a1=="ok"){CKEDITOR.instances.editor1.resetDirty();U(119,500,"none",false,"File save successful",a0)}else{av("Unable to save file. Check website permissions.",a0)}})}return false};an.txPutNameChange=function(){var E=jQuery("#txPutName").val();jQuery("#bnPublish").prop("disabled",(E.trim()==""));return false};function aw(){an.txPutNameChange();C()}an.noOver=function(){jQuery("#viewConfirm").css("display","none");jQuery("#viewSave").css("display","block");aw();return false};function B(aU){if(aU==""){return 1}aU=aU.toLowerCase();var aT=MpcEditor.php.theFname;var aS=aT.length;var E=aS-4;aT=aT.substring(0,E);aT=aT.toLowerCase();if(aU==aT+".php"){return 2}if(aU==aT+"_ini.php"){return 2}if(aU=="mpc-asset.php"){return 2}if(aU.substr(0,16)=="mpc_short_files/"){return 2}if(aU==aT+"_pclzip.php"){return 2}if(aU=="credentials.zip"){return 2}if(aU.substr(0,aS)==(aT+"_aux")){return 3}return 0}an.confirmClose=function(){if(!CKEDITOR.instances.editor1.checkDirty()){MpcEditor.closeEditor();return false}var E="";E+='<div class="dia-content noselect" spellcheck="false">';E+='<div style="font-size:14px;text-align:center;margin-bottom:6px">Close editor without saving changes?</div>';E+='<div style="margin-top:25px;text-align:center">';E+='<button class="sexybutton" onclick="MpcEditor.closeEditor();return false;"';E+='title="Close editor without saving changes.">';E+='<span><span><span class="accept">Close (discard changes)</span></span></span>';E+="</button>&nbsp;&nbsp;&nbsp;";E+='<button class="sexybutton" onclick="Shadowbox.close();"><span><span>';E+='<span class="cancel">Cancel Close</span></span></span>';E+="</button>";E+="</div>";E+="</div>";Shadowbox.open({content:E,title:"Confirm closing editor",player:"html",handleOversize:"none",height:107,width:400,options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,animate:an.php.bAnimate,animateFade:0}})};an.closeEditor=function(){if(mem_bread.init!=1){aL.close();return}an.doAjax64("../ajax.php","ajax_writeBread",true,{mem_bread:JSON.stringify(mem_bread)},function(E){aL.close()})};function U(aU,aX,aT,aW,aZ,E){var aS=an.php.bAnimate;if(!aW){aS=false}var aY=(aT=="none")?"":aT;var aV="";aV+='<div class="dia-content noselect" style="text-align:center">';aV+='<div style="padding:16px 0 9px">'+E+"</div>";aV+='<div style="margin-top:15px">';aV+='<button class="sexybutton" onclick="Shadowbox.close()"><span><span>';aV+='<span class="edit">Continue Editing</span></span></span>';aV+="</button>";aV+="&nbsp;&nbsp;";aV+='<button class="sexybutton" onclick="MpcEditor.closeEditor();"><span><span>';aV+='<span class="cancel">Close Editor</span></span></span>';aV+="</button>";aV+="</div>";aV+="</div>";Shadowbox.open({content:aV,title:aZ,player:"html",handleOversize:"none",height:aU,width:aX,options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,qmarkTarget:aY,animate:aS,animateFade:0}})}function av(aT,aS){var E=an.php.thm_sberrColor;var aU="";aU+='<div class="dia-content noselect" style="text-align:center;height:101px;color:'+E+'">';aU+="<div>"+aT+"</div>";aU+='<div style="padding-top:4px"><b>'+aS+"</b></div>";aU+='<div class="centerbtn">';aU+='<button class="sexybutton" onclick="Shadowbox.close()"><span><span>';aU+='<span class="accept">Continue</span></span></span>';aU+="</button>";aU+="</div>";aU+="</div>";Shadowbox.open({content:aU,title:"Error",player:"html",handleOversize:"none",options:{loadingColor:an.php.thm_sberrBgnd,bodyColor:an.php.thm_sberrBgnd,animate:0,animateFade:0},height:121,width:500})}function L(aS,aT,aY,aV,aZ){var aW=an.php.thm_sbbody;var E=an.php.thm_sbload;var aU=an.php.thm_text;if(aS.substr(0,4)=="ERR:"){aS=aS.substr(4);E=an.php.thm_sberrBgnd;aW=an.php.thm_sberrBgnd;aU=an.php.thm_sberrColor}var aX="";aX+='<div class="dia-content" style="text-align:'+aY+";font-size:14px;color:"+aU+'">';aX+=aT;aX+='<div class="centerbtn"><button class="sexybutton" onclick="Shadowbox.close()"><span><span>';aX+='<span class="accept">Continue</span></span></span></button></div>';aX+="</div>";Shadowbox.open({content:aX,title:aS,player:"html",handleOversize:"none",options:{loadingColor:E,bodyColor:aW,animate:an.php.bAnimate,animateFade:0},height:aV-15,width:aZ})}function C(){aA("txPutName")}function aq(){aA("txFind")}function aA(aU){var aT=document.getElementById(aU);var aS=aT.value;var E=aS.length;aT.focus();if(aT.setSelectionRange){aT.setSelectionRange(E,E)}}function az(aU){var aS=aU.length;if(aS==0){return""}var aT=-1;var E;for(E=0;E<aS;E++){if(aU.charCodeAt(E)>32){aT=E;break}}if(aT==-1){return""}if(aU.length==1){return aU}for(E=aS-1;E>0;E--){if(aU.charCodeAt(E)>32){p2=E;break}}return aU.substring(aT,p2+1)}an.diaMeta=function(){var E="";E+='<div class="dia-content noselect" spellcheck="false" onmousedown="MpcEditor.hideDiaStatusEX();return true">';E+='<div class="pinstripe twrap" style="margin:0 0 15px;padding:0 10px;">';E+='<table style="width:100%">';E+='<tr><td colspan="4"><div style="font-weight:bold;margin:6px 0 8px">Common Tags</div></td><tr>';E+='<tr><td colspan="4"><div style="height:10px"></div></td><tr>';E+='<tr style="white-space:nowrap">';E+='<td style="width:5px"><input id="meta_char" style="margin-left:0" type="checkbox" /></td>';E+='<td style="width:50px"><label for="meta_char">Charset</label></td>';E+="<td></td>";E+='<td style="text-align:left">';E+='<input class="meta" id="meta_inp_char" readonly type="text" value="&lt;meta charset=&quot;utf-8&quot;&gt;" />';E+="</td>";E+="</tr>";E+='<tr><td colspan="4"><div style="height:10px"></div></td><tr>';E+='<tr style="white-space:nowrap">';E+='<td style="width:5px"><input id="meta_view"style="margin-left:0" type="checkbox" /></td>';E+='<td style="width:50px"><label for="meta_view">Viewport</label></td>';E+="<td></td>";E+='<td style="text-align:left">';E+='<input class="meta" id="meta_inp_view" readonly type="text" value="&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt;">';E+="</td>";E+="</tr>";E+='<tr><td colspan="4"><div style="height:10px"></div></td><tr>';E+='<tr style="white-space:nowrap">';E+='<td style="width:5px"><input id="meta_noin"style="margin-left:0" type="checkbox" /></td>';E+='<td style="width:50px"><label for="meta_noin">Noindex</label></td>';E+="<td></td>";E+='<td style="text-align:left">';E+='<input class="meta" id="meta_inp_view" readonly type="text" value="&lt;meta name=&quot;robots.txt&quot; content=&quot;noindex,follow,noarchive&quot; /&gt;">';E+="</td>";E+="</tr>";E+='<tr><td colspan="4"><div style="height:10px"></div></td><tr>';E+='<tr style="white-space:nowrap">';E+='<td style="width:5px"><input id="meta_desc"style="margin-left:0" type="checkbox" /></td>';E+='<td style="width:50px"><label for="meta_desc">Description</label></td>';E+='<td><div style="width:5px"></div></td>';E+='<td style="text-align:left">';E+='<input class="meta" id="meta_inp_desc" type="text" value="" placeholder="Enter description (optional)" />';E+="</td>";E+="</tr>";E+='<tr><td colspan="4"><div style="height:10px"></div></td><tr>';E+="</table>";E+="</div>";E+='<div class="pinstripe twrap" style="margin:0 0 15px;padding:0 10px;">';E+='<table style="width:100%">';E+="<tr>";E+='<td colspan="3">';E+='<div style="font-weight:bold;margin:6px 0 2px">Custom</div>';E+="</td>";E+='<td style="width:50px">';E+='<div id="custom" style="margin-top:5px" class="dia-status"></div>';E+="</td>";E+="<td></td>";E+="</tr>";E+='<tr style="white-space:nowrap">';E+="<td></td>";E+='<td><div class="lab11">Name</div></td>';E+="<td></td>";E+='<td><div class="lab11">Content</div></td>';E+="<td></td>";E+="</tr>";E+='<tr style="white-space:nowrap">';E+='<td style="width:5px"><input id="meta_cust" style="margin-left:0" type="checkbox" /></td>';E+='<td style="width:100px">';E+='<input class="meta" id="meta_inp_name" type="text" value="" placeholder="(optional)" />';E+="</td>";E+='<td style="width:10px"><div style="10px"></div></td>';E+='<td colspan="2" style="text-align:left">';E+='<input class="meta" id="meta_inp_cont" type="text" value="" placeholder="(optional)" />';E+="</td>";E+="</tr>";E+='<tr><td colspan="5"><div style="height:10px"></div></td><tr>';E+="</table>";E+="</div>";E+='<table style="width:100%">';E+='<tr style="white-space:nowrap">';E+='<td style="text-align:left;width:325px">';E+='<button class="sexybutton ibtn" onclick="MpcEditor.insertMeta(\'auto\');return false;">';E+='<span><span><span class="accept">Insert Meta Tags</span></span></span>';E+="</button>";E+="</td>";E+="<td>";E+='<div id="main" class="dia-status"></div>';E+="</td>";E+='<td style="text-align:right;width:325px">';E+='<button class="sexybutton" onclick="Shadowbox.close();return false;">';E+='<span><span><span class="cancel">Close</span></span></span>';E+="</button>";E+="</td>";E+="</tr>";E+="</table>";E+="</div>";Shadowbox.open({content:E,title:"Insert Meta tags",player:"html",handleOversize:"none",height:352,width:700,options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,qmarkTarget:"diaMeta",animate:an.php.bAnimate,animateFade:0,onClose:an.sbClose}})};an.insertMeta=function(aY){var E=false;var aX=jQuery("#meta_char");var aS=jQuery("#meta_view");var a6=jQuery("#meta_noin");var aV=jQuery("#meta_desc");var a2="";if(aX.prop("checked")){a2+='<meta charset="UTF-8">\n'}if(aS.prop("checked")){a2+='<meta name="viewport" content="width=device-width, initial-scale=1" />\n'}if(a6.prop("checked")){a2+='<meta name="robots.txt" content="noindex,follow,noarchive" />\n'}if(aV.prop("checked")){var aZ=jQuery("#meta_inp_desc").val();a2+='<meta content="'+aZ+'" name="description">\n'}var a5=jQuery("#meta_cust");if(a5.prop("checked")){j_name=jQuery("#meta_inp_name");j_cont=jQuery("#meta_inp_cont");var a8=j_name.val();var aT=j_cont.val();a2+='<meta name="'+a8+'" content="'+aT+'">\n';a5.prop("checked",false);j_name.val("");j_cont.val("");E=true}if(a2==""){aR("main","pink","No selection made");return false}if(aY=="cursor"){o(a2)}else{var a4=oCodeMirror.getValue();var aW=a4.indexOf("<head>");if(aW==-1){aR("main","pink","Unable to Auto insert (&lt;head&gt; tag not found)");return false}a4=a4.replace(/<head>\n?/,"<head>\n"+a2);oCodeMirror.setValue(a4);jQuery("#bnCursor").prop("disabled",true)}var a0=["char","view","noin","desc"];var a1,aU,a7,a3;for(x=0;x<a0.length;x++){a1=a0[x];a7=jQuery("#meta_"+a1);if(a7.prop("checked")){a3=jQuery("#meta_inp_"+a1);a3.val("Meta inserted");a3.css({"background-color":"transparent","border-color":"transparent",color:"#008000","font-weight":"bold"});a7.prop("checked",false);a7.prop("disabled",true)}}if(E){aR("custom","lightgreen","Custom Meta tag inserted")}};an.diaWordpress=function(){if(MpcEditor.php.fileType!="text"){return}var E="";E+='<div class="dia-content noselect" onmousedown="MpcEditor.hideDiaStatusEX()">';E+="<table>";E+="<tr>";E+='<td style="vertical-align:top">';E+='<div class="pinstripe twrap" style="position:relative;margin-top:0px;padding-top:2px;">';E+='<div class="dia-status" style="position:absolute;top:6px;left:195px"></div>';E+='<div style="margin:5px 0">Instructions (select one)</div>';E+='<div id="pinkdiv">';E+='<table style="width:100%;border-collapse:separate;border-spacing:2px;">';E+="<tr>";E+='<td><div style="margin:1px" class="wpx tdcopy" id="wpx9" onclick="MpcEditor.wpxSelect(\'9\');return false;">Category</div></td>';E+='<td><div style="margin:1px" class="wpx tdcopy" id="wpx5" onclick="MpcEditor.wpxSelect(\'5\');return false;">Meta-desc</div></td>';E+='<td><div style="margin:1px" class="wpx tdcopy" id="wpx2" onclick="MpcEditor.wpxSelect(\'2\');return false;">Meta-keyw</div></td>';E+='<td><div style="margin:1px" class="wpx tdcopy" id="wpx3" onclick="MpcEditor.wpxSelect(\'3\');return false;">Parent</div></td>';E+='<td><div style="margin:1px" class="wpx tdcopy" id="wpx4" onclick="MpcEditor.wpxSelect(\'4\');return false;">Slug</div></td>';E+='<td><div style="margin:1px" class="wpx tdcopy" id="wpx7" onclick="MpcEditor.wpxSelect(\'7\');return false;">Spin</div></td>';E+='<td><div style="margin:1px" class="wpx tdcopy" id="wpx8" onclick="MpcEditor.wpxSelect(\'8\');return false;">Tags</div></td>';E+='<td><div style="margin:1px" class="wpx tdcopy" id="wpx6" onclick="MpcEditor.wpxSelect(\'6\');return false;">Template</div></td>';E+='<td><div style="margin:1px" class="wpx tdcopy" id="wpx1" onclick="MpcEditor.wpxSelect(\'1\');return false;">Title</div></td>';E+="<td></td>";E+="</tr>";E+="</table>";E+="</div>";E+='<div id="prompt" style="margin-top:10px;font-size:11px;text-align:left"><br>&nbsp;</div>';E+='<div spellcheck="false" style="margin:2px 10px 21px 0;height:165px"><textarea id="taIns" style="height:100%;resize:none"></textarea></div>';E+='<div style="margin:8px 0 0 4px">';E+="Set case:";E+='&nbsp;<a href="javascript:void" onclick="MpcEditor.setTitle();return false">Titlecase</a>';E+="&nbsp;|&nbsp;";E+='&nbsp;<a href="javascript:void" onclick="MpcEditor.setUpper();return false">Uppercase</a>';E+="&nbsp;|&nbsp;";E+='&nbsp;<a href="javascript:void" onclick="MpcEditor.setLower();return false">Lowercase</a>';E+="</div>";E+='<div style="margin:8px 0 0 4px">';E+='<button class="sexybutton" onClick="MpcEditor.submitSnip(\'wordpress\');" ';E+='title="Insert Wordpress Instruction into Edit file">';E+='<span><span><span class="accept">Insert Instruction</span></span></span>';E+="</button>";E+="&nbsp;&nbsp;&nbsp;";E+='<button class="sexybutton" onClick="MpcEditor.closeAndFocus(true);" ';E+='title="Close dialog">';E+='<span><span><span class="cancel">Close</span></span></span>';E+="</button>";E+="</div>";E+="</div>";E+="</td>";E+="</tr>";E+="</table>";E+="</div>";Shadowbox.open({content:E,title:"Insert Wordpress Instructions",player:"html",handleOversize:"none",height:385,width:574,options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,qmarkTarget:"pluginFaq",animate:an.php.bAnimate,animateFade:0,onFinish:aQ}})};function aQ(){jQuery(".wpx").toggleClass("selok",true);var E=an.submitSnip("getselection");E=E.replace(/\s*\n/g,"\n");var aS=jQuery("#taIns");aS.val(E);aS.focus()}function M(){if(an.oEditor.mode=="source"){return oCodeMirror.somethingSelected()}else{return(an.oEditor.getSelection().getSelectedText()!="")}}an.submitSnip=function(aT){var aY="";var aZ;var aS="";if(an.oEditor.mode=="source"){aS=oCodeMirror.getSelection()}else{aS=an.oEditor.getSelection().getSelectedText()}switch(aT){case"getselection":return aS;break;case"newline":aY=(an.oEditor.mode=="source")?"<br />\n":"<br />";break;case"abs_path":try{o(an.php.jAbs)}catch(aU){}return;break;case"pf_url":try{o("!project-url!")}catch(aU){}return;break;case"pf_path":try{o("!project-path!")}catch(aU){}return;break;case"wr_path":try{o("!webroot-path!")}catch(aU){}return;break;case"dom_url":try{o("!domain-url!")}catch(aU){}return;break;case"mpc_folder":try{o("!mpcfolder!")}catch(aU){}return;break;case"mpc_domain":try{o("!mpcdomain!")}catch(aU){}return;break;case"beg_nospin":aY="<!-- [nospin] -->";break;case"end_nospin":aY="<!-- [/nospin] -->";break;case"beg_dospin":aY="<!-- [dospin] -->";break;case"end_dospin":aY="<!-- [/dospin] -->";break;case"prev_url":if(aS==""){aS="CLICK_PREVIOUS_PAGE"}aY='<a href="/#-url!:h#">'+aS+"</a>";break;case"next_url":if(aS==""){aS="CLICK_NEXT_PAGE"}aY='<a href="/#+url!:h#">'+aS+"</a>";break;case"curr_url":if(aS==""){aS="CLICK_CURRENT_PAGE"}aY='<a href="/#url!:h#">'+aS+"</a>";break;case"root_smap":if(aS==""){aS="CLICK_ROOT_SITEMAP"}aY='<a href="/#rootsitemap!#">'+aS+"</a>";break;case"wordpress":var aZ=G("wpx",9);if(aZ==0){A("pink","Selection required");jQuery("#pinkdiv").css("background-color","pink");return}var aX=jQuery("#taIns");var aW=aX.val();aW=aW.trim();if(aZ==1){aG();aY=aW}else{if((aZ==2)||(aZ==5)||(aZ==8)){aW=aW.trim();aW=aW.replace(/\n/g,",");aW=aW.replace(/,+/g,",");aY="["+ak[aZ-2]+" "+aW+"]"}else{aY="["+ak[aZ-2]+" "+aW+"]"}}aX.val("");if(an.oEditor.mode=="source"){aY+="<br />\n"}else{aY+="<br />"}break;case"backlink":var E=Q(true);var aV=jQuery.parseJSON(E);aY=aV.dom+aV.href+aV.vis;break}if(an.oEditor.mode=="source"){o(aY)}else{an.oEditor.insertHtml(aY)}};an.setLower=function(){var aS=jQuery("#taIns");var E=aS.val();E=E.replace(/\s*\n/g,"\n");E=E.replace(/\s*\n/g,"\n");E=E.replace(/#/g,"__");E=E.replace(/:/g,"___");E=E.replace(/\w[\w]*/g,function(aT){if(aT.charAt(0)=="_"){return aT}return aT.toLowerCase()});E=E.replace(/___/g,":");E=E.replace(/__/g,"#");aS.val(E);return false};an.setUpper=function(){var aS=jQuery("#taIns");var E=aS.val();E=E.replace(/\s*\n/g,"\n");E=E.replace(/\s*\n/g,"\n");E=E.replace(/#/g,"__");E=E.replace(/:/g,"___");E=E.replace(/\w[\w]*/g,function(aT){if(aT.charAt(0)=="_"){return aT}return aT.toUpperCase()});E=E.replace(/___/g,":");E=E.replace(/__/g,"#");aS.val(E);return false};an.setTitle=function(){var aS=jQuery("#taIns");var E=aS.val();E=E.replace(/\s*\n/g,"\n");E=E.replace(/#/g,"__");E=E.replace(/:/g,"___");E=E.replace(/\w[\w]*/g,function(aT){return aT.charAt(0).toUpperCase()+aT.substr(1).toLowerCase()});E=E.replace(/___/g,":");E=E.replace(/__/g,"#");aS.val(E);return false};an.putSnipAPI=function(E){if(an.oEditor.mode=="source"){E=E.replace(/\n/g,"<br />\n");o(E)}else{E=E.replace(/\n/g,"<br />");an.oEditor.insertHtml(E)}};function Q(aT){var aS={};var E=jQuery("#text11").val();E.trim();if(E.search(/(http|https):/i)!=0){E="http://"+E}if(E.charAt(E.length-1)!="/"){E+="/"}E='"'+E;aS.dom="<a href="+E;var aW=(ap[0]!=0)?"%"+ap[0]:"";aW+=ap[6];aW+=(ap[1]!=0)?"%"+ap[1]:"";aW+=ap[7];aW+=(ap[2]!=0)?"%"+ap[2]:"";aW=aW.trim();aW=aW.replace(/\/\//g,"/");aW=aW.replace(/--/g,"-");aW=aW.replace(/-\//g,"/");aW=aW.replace(/\/-/g,"/");aW=aW.replace(/^[\/-]/,"");var aY=aW;ar=aW.match(/%\d/g);if(ar){for(x=0;x<ar.length;x++){s2=ar[x];s1=s2.charAt(1);aW=aW.replace(s2,"#"+an.ar_cust[s1-1]+":h#");aY=aY.replace(s2,b[s1-1])}aY=aY.replace(/ /g,"-");if(an.php.lowurl_yn=="yes"){aY=aY.toLowerCase()}}aW+=jQuery("#text9").text()+'"';aY+=jQuery("#text9").text()+'"';aS.href=aW+">";var a0=(ap[3]!=0)?"%"+ap[3]:"";a0+=" ";a0+=(ap[4]!=0)?"%"+ap[4]:"";a0+=" ";a0+=(ap[5]!=0)?"%"+ap[5]:"";a0=a0.trim();a0=a0.replace(/  /g," ");var aU=a0;ar=a0.match(/%\d/g);if(ar){for(x=0;x<ar.length;x++){s2=ar[x];s1=s2.charAt(1);a0=a0.replace(s2,"#"+an.ar_cust[s1-1]+":t#");aU=aU.replace(s2,b[s1-1])}aU=aU.trim();aU=aU.toLowerCase();ar=aU.split(" ");for(x=0;x<ar.length;x++){w=ar[x];w1=w.charAt(0).toUpperCase();ar[x]=w1+w.slice(1)}aU=ar.join(" ")}a0+=jQuery("#text10").text();aU+=jQuery("#text10").text();aS.vis=a0+"</a>";if(aT){return JSON.stringify(aS)}var aX='<span class="xg">&lt;a</span> <span class="xc">href</span>=<span class="xr">'+E+aW+"</span>";aX+='<span class="xg">&gt;</span><span class="xb">'+a0+'</span><span class="xg">&lt;/a&gt;</span>';var aV='<span class="xg">&lt;a</span> <span class="xc">href</span>=<span class="xr">'+E+aY+"</span>";aV+='<span class="xg">&gt;</span><span class="xb">'+aU+'</span><span class="xg">&lt;/a&gt;</span>';var aZ="";aZ+="<table>";aZ+="<tr>";aZ+='<td><div style="width:20px"></div></td>';aZ+="<td>";aZ+="<b>Hyperlink (to insert into file):</b>";aZ+="</td>";aZ+="</tr>";aZ+="<tr>";aZ+='<td><div style="width:20px"></div></td>';aZ+="<td>";aZ+='<div class="backmono">'+aX+"</div>";aZ+="</td>";aZ+="</tr>";aZ+='<tr><td colspan="2"><div style="height:6px"></div></td></tr>';aZ+="<tr>";aZ+='<td><div style="width:20px"></div></td>';aZ+="<td>";aZ+="<b>Hyperlink (build example):</b>";aZ+="</td>";aZ+="</tr>";aZ+="<tr>";aZ+='<td><div style="width:20px"></div></td>';aZ+="<td>";aZ+='<span class="backmono">'+aV+"</span>";aZ+="</td>";aZ+="</tr>";aZ+="</table>";jQuery("#backdiv").html(aZ)}an.pageNospin=function(aW){var aU=oCodeMirror.getValue();var aX=aU.indexOf("[nospin]");if(aX!=-1){if(aW){av("NoSpins already exist","Function unavailable until all other nospins removed")}return}aX=aU.search(/<html[^>]*?>/i);if(aX==-1){if(aW){av("Unable to find &lt;html&gt; tag","Are you editing an Html web page?")}return}var aS=aU.match(/<html[^>]*?>/i);var E=aX+aS[0].length;var aV=aU.substring(0,E);aV+="<!-- [nospin] -->";var aT=aU.lastIndexOf("</html>");if(aT==-1){if(aW){av("Unable to find &lt;/html&gt; tag","Are you editing an Html web page?")}return}aV+=aU.substring(E,aT);aV+="<!-- [/nospin] -->";aV+=aU.substring(aT);oCodeMirror.setValue(aV)};an.removeNospin=function(){var E=oCodeMirror.getValue();oCodeMirror.setValue(E.replace(/\<!-- ?\[\/?nospin\] ?--\>/gi,""))};an.removeDospin=function(){var E=oCodeMirror.getValue();oCodeMirror.setValue(E.replace(/\<!-- ?\[\/?dospin\] ?--\>/gi,""))};an.wrapNospin=function(){oCodeMirror.replaceSelection("<!-- [nospin] -->"+oCodeMirror.getSelection()+"<!-- [/nospin] -->","start")};an.wrapDospin=function(){oCodeMirror.replaceSelection("<!-- [dospin] -->"+oCodeMirror.getSelection()+"<!-- [/dospin] -->","start")};an.removeCanon=function(){var E=oCodeMirror.getValue();E=E.replace(/\<link [^\>#]*?rel="(canonical|shortlink)"[^\>#]*?\>/ig,"");E=E.replace(/\<meta [^\>#]*?property="og:url"[^\>#]*?\>/ig,"");oCodeMirror.setValue(E)};function aG(){if(an.oEditor.mode=="source"){oCodeMirror.setCursor(0,0)}else{var aT=an.oEditor.getSelection();var aS=aT.getRanges();var aU=aS[0].startContainer;var E=aU.getParents(true);aU=E[E.length-2].getFirst();aT.selectElement(aU);aS=aT.getRanges();aS[0].collapse(true);aT.selectRanges(aS)}}an.diaBacklink=function(){var E="";E+='<div class="dia-content noselect">';E+='<div class="pinstripe twrap" style="margin-top:0;padding-top:2px;position:relative">';E+='<div style="width:538px">';E+='<table style="width:100%">';E+="<tr>";E+='<td style="text-align:left;"><div class="lab11">Target Domain (domain.com) <span class="required">*</span></div></td>';E+="</tr>";E+="<tr>";E+='<td><input style="width:529px" class="roundpad3034" id="text11" value="" type="text" onkeyup="MpcEditor.txtChange(\'11\')"></td>';E+="</tr>";E+="</table>";E+="</div>";E+='<div style="width:538px">';E+='<table style="width:100%">';E+="<tr>";E+='<td colspan="5" style="text-align:left"><div class="lab11">Var Selection</div></td>';E+="</tr>";E+="<tr>";E+='<td><div class="snv tdcopy2 selok" onclick="MpcEditor.snvSelect(\'1\');return false;" id="snv1">'+an.ar_cust[0]+"</div></td>";E+='<td><div class="snv tdcopy2 selok" onclick="MpcEditor.snvSelect(\'2\');return false;" id="snv2">'+an.ar_cust[1]+"</div></td>";E+='<td><div class="snv tdcopy2 selok" onclick="MpcEditor.snvSelect(\'3\');return false;" id="snv3">'+an.ar_cust[2]+"</div></td>";E+='<td><div class="snv tdcopy2 selok" onclick="MpcEditor.snvSelect(\'4\');return false;" id="snv4">'+an.ar_cust[3]+"</div></td>";E+='<td><div class="snv tdcopy2 selok" onclick="MpcEditor.snvSelect(\'5\');return false;" id="snv5">'+an.ar_cust[4]+"</div></td>";E+="</tr>";E+="</table>";E+="</div>";E+='<div style="width:538px">';E+='<table style="width:100%">';E+="<tr>";E+='<td><div class="snv tdcopy2 selok" onclick="MpcEditor.snvSelect(\'6\');return false;" id="snv6">'+an.ar_cust[5]+"</div></td>";E+='<td><div class="snv tdcopy2 selok" onclick="MpcEditor.snvSelect(\'7\');return false;" id="snv7">'+an.ar_cust[6]+"</div></td>";E+='<td><div class="snv tdcopy2 selok" onclick="MpcEditor.snvSelect(\'8\');return false;" id="snv8">'+an.ar_cust[7]+"</div></td>";E+='<td><div class="snv tdcopy2 selok" onclick="MpcEditor.snvSelect(\'9\');return false;" id="snv9">'+an.ar_cust[8]+"</div></td>";E+="</tr>";E+="</table>";E+="</div>";E+='<div style="width:538px">';E+='<table style="width:100%">';E+="<tr>";E+='<td colspan="5" style="text-align:left"><div class="lab11">Href portion of link (click separators to toggle folders)</div></td>';E+='<td style="text-align:center"><div class="lab11">text</div></td>';E+="</tr>";E+="<tr>";E+='<td><div class="hvx tdcopy2  selok " id="hvx1" onclick="MpcEditor.hvxSelect(\'1\');return false;"></div></td>';E+='<td><div class="hrefs tdsep2 selok " id="hrefs7" onclick="MpcEditor.hrefsToggle(\'7\');return false;">/</div></td>';E+='<td><div class="hvx tdcopy2  selok " id="hvx2" onclick="MpcEditor.hvxSelect(\'2\');return false;"></div></td>';E+='<td><div class="hrefs tdsep2 selok " id="hrefs8" onclick="MpcEditor.hrefsToggle(\'8\');return false;">/</div></td>';E+='<td><div class="hvx tdcopy2  selok " id="hvx3" onclick="MpcEditor.hvxSelect(\'3\');return false;"></div></td>';E+='<td><div class="hvx tdcopy2" id="text9" onkeyup="MpcEditor.txtChange(\'9\')" contenteditable="true"></div></td>';E+="</tr>";E+="</table>";E+="</div>";E+='<div style="width:538px">';E+='<table style="width:100%">';E+="<tr>";E+='<td colspan="3" style="text-align:left"><div class="lab11">Visible portion of link (vars separated by spaces) <span class="required">*</span></div></td>';E+='<td style="text-align:center"><div class="lab11">text</div></td>';E+="</tr>";E+="<tr>";E+='<td><div class="hvx tdcopy2 selok " id="hvx4" onclick="MpcEditor.hvxSelect(\'4\');return false;"></div></td>';E+='<td><div class="hvx tdcopy2 selok " id="hvx5" onclick="MpcEditor.hvxSelect(\'5\');return false;"></div></td>';E+='<td><div class="hvx tdcopy2 selok " id="hvx6" onclick="MpcEditor.hvxSelect(\'6\');return false;"></div></td>';E+='<td><div align="center" class="hvx tdcopy2" id="text10" onkeyup="MpcEditor.txtChange(\'10\')" contenteditable="true"></div></td>';E+="</tr>";E+="</table>";E+="</div>";E+="</div>";E+='<div style="margin:15px 0 0 4px">';E+='<table style="width:100%">';E+='<tr style="white-space:nowrap">';E+='<td style="width:300px">';E+='<button id="bnInsertBack" class="sexybutton" onClick="MpcEditor.submitSnip(\'backlink\');" ';E+='title="Insert hyperlink into Edit file" disabled="disabled">';E+='<span><span><span class="paste">Insert Link</span></span></span>';E+="</button>";E+="&nbsp;&nbsp;";E+='<button class="sexybutton" onClick="MpcEditor.submitSnip(\'newline\');" ';E+='title="Insert new line (<br>) into Edit file">';E+='<span><span><span class="paste">New Line</span></span></span>';E+="</button>";E+="&nbsp;&nbsp;";E+='<button class="sexybutton" onClick="MpcEditor.doUndo();" ';E+='title="Undo last Link insert">';E+='<span><span><span class="delete">Remove Last</span></span></span>';E+="</button>";E+="&nbsp;&nbsp;";E+='<button class="sexybutton" onClick="MpcEditor.resetBack(true);" ';E+='title="Reset dialog to defaults">';E+='<span><span><span class="reload">Reset</span></span></span>';E+="</button>";E+="</td>";E+='<td style="text-align:right">';E+='<button class="sexybutton" onClick="MpcEditor.doneBack();" ';E+='title="Close this dialog">';E+='<span><span><span class="accept">Done</span></span></span>';E+="</button>";E+="</td>";E+="</tr>";E+="</table>";E+="</div>";E+="</div>";Shadowbox.open({content:E,title:"Create and insert hyperlinks",player:"html",handleOversize:"none",height:312,width:600,options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,onMyClose:an.doneBack,animate:an.php.bAnimate,animateFade:0,onFinish:aO}})};function aO(){jQuery("#text11").val(ap[11-1]);var aS;for(x=1;x<7;x++){aS=ap[x-1];if(aS==0){jQuery("#hvx"+x).html("&nbsp;");continue}jQuery("#hvx"+x).html(an.ar_cust[aS-1])}jQuery(".selok").toggleClass("fsel",false);jQuery("#hrefs7").html(ap[7-1]);jQuery("#hrefs8").html(ap[8-1]);var E=jQuery("#text9");var aT=jQuery("#text10");E.html(ap[9-1]);aT.html(ap[10-1]);if(E.html()==""){E.html("&nbsp;")}if(aT.html()==""){aT.html("&nbsp;")}Q(false);jQuery("#sb-overlay").css("margin-top","102px");jQuery("#backdiv").css("visibility","visible");an.bnInsertBackStat()}an.resetBack=function(E){ap=new Array(0,0,0,0,0,0,"/","/","","",MpcEditor.php.jDomainP);if(E){aO()}};an.txtChange=function(E){if(E==11){ap[E-1]=jQuery("#text"+E).val()}else{ap[E-1]=jQuery("#text"+E).text()}Q(false);an.bnInsertBackStat()};an.bnInsertBackStat=function(){var E=false;if(jQuery("#text11").val()==""){E=true}if((ap[3]==0)&&(ap[4]==0)&&(ap[5]==0)&&(jQuery("#text10").text()=="")){E=true}jQuery("#bnInsertBack").prop("disabled",E)};an.doneBack=function(){jQuery("#sb-overlay").css("margin-top","0");jQuery("#backdiv").css("visibility","hidden");an.closeAndFocus(true)};an.bn404Click=function(){var E="";E+='<div class="dia-content noselect" style="padding:0 15px;margin-top:15px">';E+='<div id="ttlbusy" class="" style="position:absolute;top:10px;right:15px"></div>';E+='<div style="margin:0;text-align:left">';E+="This scan locates paths to <b>support files</b> (js, css, img) that may<br>";E+='require "fixing". Mpc must be told where these files are located.';E+="</div>";E+='<div class="pinstripe twrap" style="padding:0;margin-top:10px;">';E+='<table style="width:100%;border-collapse:separate;border-spacing:10px;">';E+="<tr>";E+='<td style="vertical-align:middle;width:100px">';E+='<button class="sexybutton gbtn" onclick="MpcEditor.submit404(\'assf\');return false;"';E+='title="Scan based on support files being in /mpc/subfolder" class="bnScan">';E+='<span><span><span class="error">Project folder</span></span></span>';E+="</button>";E+="</td>";E+='<td style="vertical-align:middle;font-size:12px">';E+="Click this button if you uploaded this template into a project subfolder under your mpc folder.";E+="</td>";E+="</tr>";E+="</table>";E+="</div>";E+='<div class="pinstripe twrap" style="padding:0;margin-top:10px;">';E+='<table style="width:100%;border-collapse:separate;border-spacing:10px;">';E+="<tr>";E+='<td style="vertical-align:middle;width:100px">';E+='<button class="sexybutton gbtn" onclick="MpcEditor.submit404(\'webf\');return false;"';E+='title="Scan based on support files being in Webroot folder" class="bnScan">';E+='<span><span><span class="error">Webroot folder</span></span></span>';E+="</button>";E+="</td>";E+='<td style="vertical-align:middle;font-size:12px">';E+='Click this button if you uploaded a frontend site template into your webroot and then "grabbed" this template page from your own Url.';E+="</td>";E+="</tr>";E+="</table>";E+="</div>";E+='<div class="pinstripe twrap" style="padding:0;margin-top:10px;">';E+='<table style="width:100%;border-collapse:separate;border-spacing:10px;">';E+="<tr>";E+='<td style="vertical-align:middle;width:100px">';E+='<button class="sexybutton gbtn" onclick="MpcEditor.submit404(\'extf\');return false;"';E+='title="Scan based on support files being at external domain" class="bnScan">';E+='<span><span><span class="error">External website</span></span></span>';E+="</button>";E+="</td>";E+='<td style="vertical-align:middle;font-size:12px">';E+='Click this button if you "grabbed" this template page from an external website.';E+="</td>";E+="</tr>";E+="</table>";E+="</div>";E+="</div>";Shadowbox.open({content:E,title:"Scan for relative addressing",player:"html",handleOversize:"none",height:274,width:510,options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,animate:an.php.bAnimate,animateFade:0,onClose:an.sbClose}})};an.scnSelect=function(E){jQuery("#scn_"+E).toggleClass("fsel");var aS=(jQuery("#scn_script").hasClass("fsel")||jQuery("#scn_link").hasClass("fsel")||jQuery("#scn_img").hasClass("fsel")||jQuery("#scn_a").hasClass("fsel")||jQuery("#scn_slash").hasClass("fsel"));jQuery(".bnScan").prop("disabled",!aS)};function ai(){oCodeMirror.focus();return false}an.submit404=function(E){jQuery(".bnScan").prop("disabled",true);v("ttlbusy");$.ajax({type:"post",async:true,processData:false,cache:false,url:"../previewMake.php?tag=bn404&scanType="+E+"&assetFolder="+an.php.assetFolder,data:"DATA64="+an.my_base64_encode(CKEDITOR.instances.editor1.getData()),success:function(aS){Shadowbox.close();setTimeout(function(){MpcEditor.show404(aS)},200)}})};an.show404=function(aU){var aW=encodeURIComponent(an.php.thm_sbbody);var aX=encodeURIComponent(an.php.thm_sbload);var E=encodeURIComponent(an.php.thm_text);var aV=encodeURIComponent(an.php.thm_inpColor);var aS=encodeURIComponent(an.php.thm_inpBgnd);var aT=encodeURIComponent(an.php.thm_inpBord);Shadowbox.open({content:"../display404.php?VER="+MpcEditor.php.VER+"&r="+aU+"&TESTING="+MpcEditor.php.TESTING+"&thm_sbload="+aX+"&thm_sbbody="+aW+"&thm_text="+E+"&thm_inpColor="+aV+"&thm_inpBgnd="+aS+"&thm_inpBord="+aT,title:"Relative addressing (404) scan results",player:"iframe",handleOversize:"none",options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,animate:an.php.bAnimate,animateFade:0,onClose:an.sbClose},height:458,width:540})};an.diaFixPaths=function(aS){aJ=aS;Shadowbox.close();var E="";E+='<div class="dia-content noselect" style="position:relative">';E+='<div id="ttlbusy" class="busycss" style="position:absolute;top:10px;right:15px"></div>';E+='<div style="font-size:14px;text-align:center;margin-bottom:6px"><div id="prompt">Processing template paths...</div></div>';E+='<div style="margin-top:25px;text-align:center">';E+='<button class="sexybutton bdim" onclick="MpcEditor.reScan();return false;" disabled="disabled"';E+=' title="Scan 404 again">';E+='<span><span><span class="error">ReScan 404</span></span></span>';E+="</button>&nbsp;&nbsp;";E+='<button class="sexybutton bdim" onclick="MpcEditor.visMode();return false" disabled="disabled"';E+=' title="Return to editor in Visual mode">';E+='<span><span><span class="television">Visual mode</span></span></span>';E+="</button>&nbsp;&nbsp;";E+='<button class="sexybutton bdim" onclick="Shadowbox.close();" disabled="disabled"><span><span>';E+='<span class="cancel">Close</span></span></span>';E+="</button>";E+="</div>";E+="</div>";Shadowbox.open({content:E,title:"Auto fix pathing",player:"html",handleOversize:"none",height:107,width:400,options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,animate:an.php.bAnimate,displayNav:0,animateFade:0,onFinish:aH}})};function aH(){var E=jQuery.parseJSON(aJ);var aS=E.origUrl;var aT=aS.replace(/\./g,"^");an.doAjax64("../ajax.php","ajax_fixPaths",true,{scanType:E.scanType,assetFolder:E.assetFolder,origUrlCaret:aT},function(aU){oCodeMirror.setValue(aU);if(E.cbNospin==1){an.pageNospin(false)}jQuery("#prompt").html("Auto fix complete");jQuery(".bdim").prop("disabled",false);e("ttlbusy")})}an.reScan=function(){Shadowbox.close();an.bn404Click();return false};an.visMode=function(){Shadowbox.close();an.doButton("svtoggle");return false};an.cursorToPos=function(E){Shadowbox.close();if(an.oEditor.mode=="wysiwyg"){aI=E;jQuery("#bnSource").click()}else{hv=oCodeMirror.posFromIndex(E);oCodeMirror.setCursor(hv.line,hv.ch);MpcEditor.scrollToLine(hv.line,hv.ch)}};an.cmOnload=function(E){var aS=CKEDITOR.instances.editor1;oCodeMirror=aL["codemirror_"+aS.id];an.setSourceBtn("source");oCodeMirror.focus();if(an.php.bRaw){oCodeMirror.setValue(jQuery("#hidRawcode").val())}if(aI!=-1){hv=oCodeMirror.posFromIndex(aI);aI=-1;E.setCursor(hv.line,hv.ch);MpcEditor.scrollToLine(hv.line,hv.ch)}if(an.php.jRoot==1){jQuery(".CodeMirror-sizer").contextMenu("menu",menu_W,{triggerOn:"click",mouseClick:"right",verAdjust:6,horAdjust:6})}else{if(an.php.fileType=="html"){jQuery("#menudim_wp").toggleClass("iw-mDisable",true)}else{jQuery(".wpdim").toggleClass("iw-mDisable",true)}if(an.php.bRaw){jQuery("#menudim_wp").toggleClass("iw-mDisable",true)}jQuery(".CodeMirror-sizer").contextMenu("menu",menu_E,{triggerOn:"click",mouseClick:"right",verAdjust:6,horAdjust:6})}};an.clearCmenu=function(){jQuery(".CodeMirror-sizer").contextMenu("close")};an.scrollToLine=function(E,aT){var aS=oCodeMirror.charCoords({line:E,ch:aT},"local").top;var aU=oCodeMirror.getScrollerElement().offsetHeight/2;oCodeMirror.scrollTo(null,aS-aU-5);oCodeMirror.focus()};function A(aS,aT){var E=jQuery(".dia-status");E.html(aT);E.css({"background-color":aS,visibility:"visible"})}function aR(aU,aS,aT){var E=jQuery("#"+aU);E.html(aT);E.css({"background-color":aS,visibility:"visible"})}an.hideDiaStatus=function(){var E=jQuery(".dia-status");E.css("visibility","hidden");E.html("")};an.hideDiaStatusPink=function(){var E=jQuery(".dia-status");E.css("visibility","hidden");E.html("");jQuery(".pinkinp").toggleClass("warnn",false)};an.hideDiaStatusEX=function(){var E=jQuery(".dia-status");E.css("visibility","hidden");E.html("");jQuery("#pinkdiv").css("background-color","transparent")};an.hideDiaStatusK=function(aT){var aS=("which" in aT)?aT.which:aT.keyCode;if(aS!=13){var E=jQuery(".dia-status");E.css("visibility","hidden");E.html("")}return false};an.doAjax64=function(E,aV,aT,aS,aW){var aU={"+":"-","/":"_","=":"."};jQuery.ajax({url:E,async:aT,type:"POST",data:{cmd_ajax:aV,mpc_ajax:64,data_ajax:aN.encode(JSON.stringify(aS)).replace(/[\+\/\=]/g,function(aX){return aU[aX]})},success:aW})};an.my_base64_encode=function(aS){var E={"+":"-","/":"_","=":"."};return aN.encode(aS).replace(/[\+\/\=]/g,function(aT){return E[aT]})};an.hrefsToggle=function(E){if(ap[E-1]=="/"){ap[E-1]="-";jQuery("#hrefs"+E).html("-")}else{ap[E-1]="/";jQuery("#hrefs"+E).html("/")}Q(false)};an.hvxSelect=function(aS){an.tdSelect("hvx"+aS,"hvx",true);jQuery(".snv").toggleClass("fsel",false);var E=ap[aS-1];if(E!=0){jQuery("#snv"+E).toggleClass("fsel",true)}};an.snvSelect=function(aS){var E;an.tdSelect("snv"+aS,"snv",false);var aT=G("hvx",6);aS=G("snv",9);ap[aT-1]=aS;E=(aS==0)?"":jQuery("#snv"+aS).html();jQuery("#hvx"+aT).html(E);Q(false);an.bnInsertBackStat()};an.wpxSelect=function(E){an.tdSelect("wpx"+E,"wpx",true);jQuery("#prompt").html(arPrompt[E-1]);document.getElementById("taIns").focus()};arPrompt=new Array("<br>Enter Article Title (will be inserted at first line)","Enter comma separated strings or lines of strings.<br>Commas will be added as needed.","Enter <b>EXISTING</b> Parent. Note: If Project includes Silo Index files, Parents are automatically created as needed.","<br>Enter Slug for Permalink.","Enter comma separated strings or lines of strings.<br>Commas will be added as needed.","<br>Enter <b>EXISTING</b> Template.","Enter Spin value. <br> -1 never, 0 always, 1 thru 90, or min-max.","Enter comma separated strings or lines of strings.<br>Commas will be added as needed.","<br>Enter Category. Note: Plugin automatically creates categories as needed.");an.tdSelect=function(aU,aT,E){var aS=jQuery("#"+aU);tf=aS.hasClass("fsel");jQuery("."+aT).toggleClass("fsel",false);if(E){tf=false}if(!tf){aS.toggleClass("fsel",true)}return false};an.wbnClicked=function(aS){var E=new Array(false,false,false);E[aS]=true;jQuery("#idW").toggleClass("fsel",E[0]);jQuery("#idB").toggleClass("fsel",E[1]);jQuery("#idN").toggleClass("fsel",E[2])};an.ynClicked=function(E){var aT=jQuery("#idNo"+E);var aS=jQuery("#idYes"+E);if(aT.hasClass("sb-dis")||aS.hasClass("sb-dis")){return}if(aT.hasClass("selok")&&aS.hasClass("selok")){if(aT.hasClass("fsel")){aT.toggleClass("fsel",false);aS.toggleClass("fsel",true)}else{aS.toggleClass("fsel",false);aT.toggleClass("fsel",true)}}if(E>2){p()}};function p(){var E=((jQuery("#idNo3").hasClass("fsel"))&&(jQuery("#idNo4").hasClass("fsel")))?"visible":"hidden";jQuery("#ratio").css("visibility",E)}an.togOver=function(E){j=jQuery("#"+E);if(!j.hasClass("selok")){return}if(j.hasClass("sb-dis")){return}j.toggleClass("toghover",true)};an.togOut=function(E){jQuery("#"+E).toggleClass("toghover",false)};an.cbShowhideClickUT=function(){if(jQuery("#cbShowhideUT").prop("checked")){var aS="text";var aT="black"}else{var aS="password";var aT="#c4c4c4"}var E=jQuery("#utube_apikey");E.prop("type",aS);E.css("color",aT)};function G(aT,aU){var aS=0;var E;for(E=1;E<=aU;E++){if(jQuery("#"+aT+E).hasClass("fsel")){aS=E;break}}return aS}var aN={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",lookup:null,ie:/MSIE /.test(navigator.userAgent),ieo:/MSIE [67]/.test(navigator.userAgent),encode:function(aY){var aT=aN.toUtf8(aY),aU=-1,aV=aT.length,E,aZ,aW,aS=[,,];if(aN.ie){var aX=[];while(++aU<aV){E=aT[aU];aZ=aT[++aU];aS[0]=E>>2;aS[1]=((E&3)<<4)|(aZ>>4);if(isNaN(aZ)){aS[2]=aS[3]=64}else{aW=aT[++aU];aS[2]=((aZ&15)<<2)|(aW>>6);aS[3]=(isNaN(aW))?64:aW&63}aX.push(aN.alphabet.charAt(aS[0]),aN.alphabet.charAt(aS[1]),aN.alphabet.charAt(aS[2]),aN.alphabet.charAt(aS[3]))}return aX.join("")}else{var aX="";while(++aU<aV){E=aT[aU];aZ=aT[++aU];aS[0]=E>>2;aS[1]=((E&3)<<4)|(aZ>>4);if(isNaN(aZ)){aS[2]=aS[3]=64}else{aW=aT[++aU];aS[2]=((aZ&15)<<2)|(aW>>6);aS[3]=(isNaN(aW))?64:aW&63}aX+=aN.alphabet[aS[0]]+aN.alphabet[aS[1]]+aN.alphabet[aS[2]]+aN.alphabet[aS[3]]}return aX}},toUtf8:function(aV){var aS=-1,E=aV.length,aU,aT=[];if(/^[\x00-\x7f]*$/.test(aV)){while(++aS<E){aT.push(aV.charCodeAt(aS))}}else{while(++aS<E){aU=aV.charCodeAt(aS);if(aU<128){aT.push(aU)}else{if(aU<2048){aT.push((aU>>6)|192,(aU&63)|128)}else{aT.push((aU>>12)|224,((aU>>6)&63)|128,(aU&63)|128)}}}}return aT}};an.diaShort=function(){var aT=dis2=dis_dy=dis_51="";var aS="Yelp listings based on your keywords";var E="Random videos based on your keywords";var aU="Modify pages without rebuilding project";var aW="";if(!aK()||(an.php.fileType!="html")){if(!an.php.bRaw){aT=dis_dy=dis_51='disabled="disabled"';aU=aW="(Enabled when editing Html in Source mode)"}}if(an.php.jRoot==1){aT=dis2=dis_51='disabled="disabled"';aS=E=aW="Not available for [webroot] files";if(aK()){aU="Modify webroot without editing pages."}}if(an.php.win1==1){dis_51='disabled="disabled"';aW="Not available on Windows servers"}var aV="";aV+='<div class="dia-content noselect" style="padding-top:10px" spellcheck="false" onmousedown="MpcEditor.hideDiaStatusEX();return true">';aV+="<div>";aV+='For <b>HTML projects</b>, these shortcodes <span class="warn">require PHP</span>. Be sure to build<br>';aV+="your pages with a <b>.php</b> extension.<br>";aV+="</div>";aV+='<div style="margin:6px 0 12px">';aV+="If your .html pages are already indexed, they can still be parsed as<br>";aV+=" PHP pages without renaming them.";aV+=' <a href="http://masspagecreator.com/links.php?go=htaccess" target="_blank">More info</a>.';aV+="</div>";aV+='<div class="pinstripe twrap" style="margin-top:10px;padding:0;">';aV+='<div style="margin:7px 0 0 10px;font-weight:bold">Standard shortcodes</div>';aV+='<div style="margin-left:10px">';aV+='<div style="height:10px"></div>';aV+="<table>";aV+='<tr style="white-space:nowrap">';aV+="<td>";aV+='<button class="sexybutton" '+dis2+' onclick="MpcEditor.goYelp();return false;">';aV+='<span><span><span class="yelp">Yelp Listing</span></span></span>';aV+="</button>";aV+="</td>";aV+="<td>";aV+="&nbsp;"+aS;aV+="</td>";aV+="</tr>";aV+="</table>";aV+='<div style="height:8px"></div>';aV+="<table>";aV+='<tr style="white-space:nowrap">';aV+="<td>";aV+='<button class="sexybutton" '+dis2+' onclick="MpcEditor.goYouTube();return false;">';aV+='<span><span><span class="youtube">YouTube Video</span></span></span>';aV+="</button>";aV+="</td>";aV+="<td>";aV+="&nbsp;"+E;aV+="</td>";aV+="</tr>";aV+="</table>";aV+='<div style="height:8px"></div>';aV+="<table>";aV+='<tr style="white-space:nowrap">';aV+="<td>";aV+='<button class="sexybutton" '+dis_dy+' id="bnDyna" onclick="MpcEditor.goDynamic();return false;">';aV+='<span><span><span class="star">Dynamic Include</span></span></span>';aV+="</button>";aV+="</td>";aV+="<td>";aV+="&nbsp;"+aU;aV+="</td>";aV+="</tr>";aV+="</table>";aV+='<div style="height:10px"></div>';aV+="</div>";aV+="</div>";aV+='<div class="pinstripe twrap" style="margin-top:12px;padding:0;border-color:black">';aV+='<div class="scprompt2 roundtop"><span style="color:gold">Cloaking</span> shortcodes: Seen by Public, not by Search Bots</div>';aV+='<div style="height:10px"></div>';aV+='<div style="margin-left:10px">';aV+='<table style="width:100%">';aV+='<tr style="white-space:nowrap">';if(dis_51!=""){aV+='<td style="text-align:left"><div>'+aW+"</div></td>"}else{aV+="<td>";aV+='<button class="sexybutton" '+dis_51+' onclick="MpcEditor.goRedir();return false;" title="Cloaked Redirect">';aV+='<span><span><span class="redir">Redirect</span></span></span>';aV+="</button>";aV+="</td>";aV+="<td>";aV+='<div style="margin:0 10px">';aV+='<button class="sexybutton" '+dis_51+' onclick="MpcEditor.goOverlay();return false;" title="Cloaked Overlay">';aV+='<span><span><span class="layers">Overlay</span></span></span>';aV+="</button>";aV+="</div>";aV+="</td>";aV+="<td>";aV+='<button class="sexybutton" '+dis_51+' onclick="MpcEditor.goInclude();return false;" title="Cloaked Dynamic Include">';aV+='<span><span><span class="star_purple">Include</span></span></span>';aV+="</button>";aV+="</td>";aV+='<td style="width:180px">&nbsp;</td>';aV+="<td>";aV+='<div style="margin-right:10px" onclick="MpcEditor.goVideo51()" class="avis">Area 51 Info</div>';aV+="</td>"}aV+="</tr>";aV+="</table>";aV+="</div>";aV+='<div style="height:10px"></div>';aV+="</div>";aV+="</div>";Shadowbox.open({content:aV,title:"Shortcodes to Mpc special functions",player:"html",handleOversize:"none",height:325,width:516,options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,qmarkTarget:"htaccess",animate:an.php.bAnimate,animateFade:0,onClose:an.sbClose}})};an.goYelp=function(){Shadowbox.close(true);setTimeout("MpcEditor.diaYelp()",200)};an.goYouTube=function(){Shadowbox.close(true);setTimeout("MpcEditor.diaYouTube()",200)};an.goDynamic=function(){Shadowbox.close(true);setTimeout("MpcEditor.diaDynamic()",200)};an.goSiloTable=function(){Shadowbox.close(true);setTimeout("MpcEditor.diaSiloTable()",200)};an.goRedir=function(){Shadowbox.close(true);mem_a51_type="r";setTimeout("MpcEditor.diaA51()",200)};an.goOverlay=function(){Shadowbox.close(true);mem_a51_type="o";setTimeout("MpcEditor.diaA51()",200)};an.goInclude=function(){Shadowbox.close(true);mem_a51_type="i";setTimeout("MpcEditor.diaA51()",200)};an.goWidget=function(E){Shadowbox.close();setTimeout("MpcEditor.dia"+E+"Widget()",200)};an.sbClose=function(){an.closeAndFocus(false)};an.diaSitWidget=function(){an.diaSiloTable()};an.diaMapWidget=function(){ar_position=new Array("--- select --","center","float:left","float:right");var E="";E+='<div class="dia-content noselect" style="padding-top:23px" spellcheck="false" onmousedown="MpcEditor.hideDiaStatus();return true">';E+='<div class="dia-status" style="position:absolute;top:2px;left:6px;"></div>';E+="<table><tr>";E+="<td>";E+='<div class="pinstripe twrap" style="padding:5px 10px 8px;margin-top:0;margin-bottom:15px;position:relative">';E+='<table style="width:100%">';E+="<tr>";E+='<td colspan="3" style="text-align:left;font-weight:normal;font-size:12.8px"><div style="margin:0 0 3px 0">Set Location Vars</div></td>';E+="</tr>";E+="<tr>";E+='<td style="text-align:left"><select id="selState" class="wgselect" size="1"><option value="0" selected>-- select --</option>';for(x=1;x<10;x++){E+='<option value="'+x+'">'+an.ar_cust[x-1]+"</option>"}E+="</select>";E+="</td>";E+='<td style="text-align:left">&nbsp;State</td>';E+='<td><input type="text" style="visibility:hidden;width:1px" ></td>';E+="</tr>";E+='<tr><td colspan="3"><div style="height:4px"></div></td></tr>';E+="<tr>";E+='<td style="text-align:left"><select id="selCity" class="wgselect" size="1"><option value="0" selected>-- select --</option>';for(x=1;x<10;x++){E+='<option value="'+x+'">'+an.ar_cust[x-1]+"</option>"}E+="</select>";E+="</td>";E+='<td colspan="2" style="text-align:left">&nbsp;City</td>';E+="</tr>";E+="</table>";E+="</div>";E+="</td>";E+="<td>";E+='<div class="pinstripe twrap" style="padding:5px 10px 8px;margin:0 0 15px 15px;position:relative">';E+='<table style="width:100%">';E+="<tr>";E+='<td colspan="2" style="text-align:left;font-weight:normal;font-size:12.8px"><div style="margin:0 0 3px 0">Size and Position</div></td>';E+="</tr>";E+='<tr style="white-space:nowrap">';E+='<td colspan="2">';E+="<table>";E+="<tr>";E+='<td><input id="wg_width" class="pinkinp" type="text" value="'+mapWidth+'" ></td>';E+="<td>&nbsp;Width</td>";E+='<td><div style="width:15px"></td>';E+='<td><input id="wg_height" class="pinkinp" type="text" value="'+mapHeight+'" ></td>';E+="<td>&nbsp;Height</td>";E+="</tr>";E+="</table>";E+="</td>";E+="</tr>";E+='<tr><td colspan="2"><div style="height:4px"></div></td></tr>';E+='<tr style="white-space:nowrap">';E+='<td style="text-align:left"><select id="selAlign" class="wgselect" size="1"><option value="0" selected>-- select --</option>';for(x=1;x<4;x++){E+='<option value="'+x+'">'+ar_position[x]+"</option>"}E+="</select>";E+="</td>";E+='<td style="text-align:left">&nbsp;Horizontal Alignment</td>';E+="</tr>";E+="</table>";E+="</div>";E+="</td>";E+="</tr></table>";E+='<button class="sexybutton gbtn" onclick="MpcEditor.acceptMap();return false;">';E+='<span><span><span class="accept">Accept</span></span></span>';E+="</button>&nbsp;&nbsp;";E+='<button class="sexybutton gbtn" onclick="Shadowbox.close();return false;">';E+='<span><span><span class="cancel">Cancel</span></span></span>';E+="</button>";E+="</div>";Shadowbox.open({content:E,title:"Google Map widget",player:"html",handleOversize:"none",height:166,width:540,options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,animate:an.php.bAnimate,animateFade:0,onFinish:O}})};function O(){jQuery("#selState").val(mapState);jQuery("#selCity").val(mapCity);jQuery("#selAlign").val(mapAlign)}an.acceptMap=function(){var aW=jQuery("#selState option:selected").index();var aV=jQuery("#selCity option:selected").index();var E=jQuery("#selAlign option:selected").index();var aS=jQuery("#wg_width").val();var aU=jQuery("#wg_height").val();if((aW==0)||(aV==0)||(E==0)||(aS=="")||(aU=="")||(aS==0)||(aU==0)){A("pink","All 5 inputs are required");return false}mapState=aW;mapCity=aV;mapAlign=E;mapWidth=aS;mapHeight=aU;var aT="<!-- Begin Google Maps -->";if(E==1){aT+='<div style="width:'+aS+"px;height:"+aU+'px;margin:0 auto">';aT+='<div style="padding:10px">'}else{if(E==2){aT+='<div style="float: left;padding:10px">'}else{aT+='<div style="float:right;padding:10px">'}}aT+='<iframe width="'+aS+'" height="'+aU+'" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"';aT+='src="//maps.google.com/maps?';aT+="f=q&source=s_q&hl=en&geocode=";aT+="&q=#"+an.ar_cust[aV-1]+"#+#"+an.ar_cust[aW-1]+"#";aT+="&ie=UTF8";aT+="&z=12";aT+="&t=m";aT+="&iwloc=near";aT+='&output=embed">';aT+="</iframe>";aT+="</div>";if(E==1){aT+="</div>"}aT+="<!-- End Google Maps -->";if(an.oEditor.mode=="source"){o(aT)}else{an.oEditor.insertHtml(aT)}Shadowbox.close();return false};an.diaBreadWidget=function(){var aX;var aW;var aS,aT;var E=["","","","",""];z=0;for(x=1;x<6;x++){if(an.php.pathTypes[x-1]==-1){continue}aS=an.php.pathNames[x-1];aT=an.php.varForms.indexOf(aS);if(aT==-1){L("ERR:Breadcrumb error","Path name not found in a var formula.<br><b>"+aS+"</b>","center",133,500);return}E[z]=aS;l[z]=an.php.varNames[aT];n[z]=b[aT];aj[z]=an.php.pathTypes[x-1];z++}if(z==0){L("ERR:Breadcrumb error","All Paths are empty","center",117,500);return}mem_mctotal=z;mem_vistotal=z;var aY="";aY+='<div class="dia-content noselect" style="padding:10px 0 0 20px" onmousedown="MpcEditor.hideDiaStatusPink();return true;">';aY+='<div class="warn" style="position:absolute;top:8px;right:15px;font-size:11px">'+an.php.saveFname+"</div>";aY+="<table>";aY+="<tr>";aY+='<td colspan="5">';aY+='<div class="pinstripe twrap1" style="width:676px;height:76px;margin:21px 0 16px">';aY+='<div style="margin-right:12px">';aY+='<table style="width:100%">';aY+="<tr>";aY+='<td style="text-align:left"><div style="margin:2px 0 2px;"><b>Crumb level</b></div></td>';aY+='<td style="text-align:right"><div style=";margin:0">Var lettercase</div></td>';aY+='<td style="width:4px"><div style=width:4px></div></td>';aY+='<td style="width:100px">';aY+='<select id="bcCase" class="round126" onchange="MpcEditor.upCrumb()" style="text-align:left" />';aY+='<option value="">as is</option>';aY+='<option value=":t">Title Case</option>';aY+='<option value=":u">UPPER CASE</option>';aY+='<option value=":l">lower case</option>';aY+="</select>";aY+="</td>";aY+="</tr>";aY+="<tr>";aY+='<td colspan="4">';aY+="<table>";aX="";aW="";var aV="tdadd_left";ay=0;mem_lastsilo=0;u=new Array();for(x=0;x<4;x++){if(aj[x]!=2){continue}u.push(x+1);ay+=1;mem_lastsilo=x;aX+='<td class="lab11c">Silo index '+ay+"</td>";aW+='<td style="width:100px"><div style="100px" class="visH ltc '+aV+' selok cbtn"';aW+="onmouseover=\"MpcEditor.togOver('id"+ay+"');return false;\" onmouseout=\"MpcEditor.togOut('id"+ay+"');return false;\"";aW+="onclick=\"MpcEditor.ltcClicked('"+ay+'\');return false;" id="id'+ay+'">'+E[x]+"</div></td>";aV="tdadd_center"}var aU="";for(x=(mem_lastsilo+1);x<mem_mctotal;x++){aU+=n[x];if(x==mem_mctotal-1){break}aU+=(aj[x]==1)?"/":"-"}aU+=an.php.bcEndValue;s=ay+1;mem_bcselector=s;aX+='<td class="lab11c">Page</td>';aW+='<td style="width:100px"><div style="100px" class="visH ltc tdadd_right selok cbtn fsel"';aW+="onmouseover=\"MpcEditor.togOver('id"+s+"');return false;\" onmouseout=\"MpcEditor.togOut('id"+s+"');return false;\"";aW+="onclick=\"MpcEditor.ltcClicked('"+s+'\');return false;" id="id'+s+'">'+aU+"</div></td>";aY+='<tr style="white-space:nowrap">'+aX+"</tr>";aY+='<tr style="white-space:nowrap">'+aW+"</tr>";aY+="</table>";aY+="</td>";aY+="</tr>";aY+="</table>";aY+="</div>";aY+="</div>";aY+="</td>";aY+="</tr>";aY+="<tr>";aY+='<td style="width:290px;text-align:left">';aY+='<div class="pinstripe twrap1" style="width:290px;height:80px">';aY+='<div style="margin-right:12px">';aY+='<table style="width:100%">';aY+="<tr>";aY+='<td style="text-align:left"><div style="margin:2px 0 8px;"><b>First crumb</b></div></td>';aY+="</tr>";aY+="<tr>";aY+='<td style="width:270px"><input id="bcHome" spellcheck="false" onkeyup="MpcEditor.upCrumb()" class="round" type="text" style="width:270px;margin-bottom:6px" value="" /></td>';aY+="</tr>";aY+="<tr>";aY+='<td style="width:30px">&nbsp;&nbsp;<a href="javascript:MpcEditor.setHx(\'current\');">domain.com</a>';aY+="&nbsp;|&nbsp;<a href=\"javascript:MpcEditor.setHx('home');\">'home'</a>";aY+="&nbsp;|&nbsp;<a href=\"javascript:MpcEditor.setHx('Home');\">'Home'</a>";aY+="&nbsp;|&nbsp;<a href=\"javascript:MpcEditor.setHx('HOME');\">'HOME'</a></td>";aY+="</tr>";aY+="</table>";aY+="</div>";aY+="</div>";aY+="</td>";aY+="<td>&nbsp;</td>";aY+='<td style="width:148px;text-align:center">';aY+='<div class="pinstripe twrap1" style="width:148px;height:80px">';aY+='<div style="margin-right:12px">';aY+='<table style="width:100%">';aY+="<tr>";aY+='<td colspan="2" style="text-align:left"><div style="margin:2px 0 8px;"><b>Delimiter</b></div></td>';aY+="</tr>";aY+="<tr>";aY+='<td colspan="2" style="width:128px"><input id="bcDelim" spellcheck="false" onkeyup="MpcEditor.upCrumb()"';aY+=' class="round" style="width:128px;text-align:center;margin-bottom:6px" type="text" value=">>" />';aY+="</td>";aY+="</tr>";aY+="<tr>";aY+='<td style="width:5px"><input id="bcPadd" type="checkbox" onchange="MpcEditor.upCrumb()" checked style="margin-right:0"></td>';aY+='<td style="width:20px;text-align:left;white-space:nowrap"><label for="bcPadd">Pad with spaces</label></td>';aY+="</tr>";aY+="</table>";aY+="</div>";aY+="</div>";aY+="</td>";aY+="<td>&nbsp;</td>";aY+='<td style="width:150px;text-align:right">';aY+='<div class="pinstripe twrap1" style="width:189px;height:80px">';aY+='<div style="margin-right:12px">';aY+='<table style="width:100%">';aY+="<tr>";aY+='<td colspan="3" style="text-align:left"><div style="margin:2px 0 8px;"><b>Last crumb</b></div></td>';aY+="</tr>";aY+="<tr>";aY+='<td style="width:5px">';aY+='<input id="bcShow" type="checkbox" onchange="MpcEditor.upCrumb()">';aY+="</td>";aY+='<td style="text-align:left;white-space:nowrap">';aY+='<label for="bcShow" id="labShow">Show</label>';aY+="</td>";aY+="</tr>";aY+="<tr>";aY+='<td style="width:5px">';aY+='<input id="bcSelf" type="checkbox" onchange="MpcEditor.upCrumb()">';aY+="</td>";aY+='<td style="text-align:left;white-space:nowrap">';aY+='<label for="bcSelf">Show as hyperlink</label>';aY+="</td>";aY+="</tr>";aY+="</table>";aY+="</div>";aY+="</div>";aY+="</td>";aY+="</tr>";aY+="<tr>";aY+='<td colspan="5">';aY+='<div class="pinstripe twrap1" style="width:676px;height:92px;margin:16px 0 7px">';aY+='<div style="margin-right:12px">';aY+="<table>";aY+="<tr>";aY+='<td colspan="6" style="text-align:left"><div style="margin:2px 0 2px;"><b>Anchor text (optional)</b></div></td>';aY+='<td colspan="3">';aY+='<table style="width:100%">';aY+="<tr>";aY+='<td style="text-align:right">';aY+='<label for="bcHideDash">Hide inter Var dashes</label>';aY+="</td>";aY+='<td style="width:5px">';aY+='<input id="bcHideDash" type="checkbox" onchange="MpcEditor.upCrumb()">';aY+="</td>";aY+="</tr>";aY+="</table>";aY+="</td>";aY+="</tr>";aX="";aW="";for(x=1;x<6;x++){aX+='<td class="lab11c hidden vis'+x+'">'+E[x-1]+"</td>";if(x!=5){aX+='<td style="width:4px"><div style=width:4px></div></td>'}aW+='<td style=width:120px">';aW+='<input type="text" spellcheck="false" onkeyup="MpcEditor.upCrumb()" id="bcT'+x+'" value="" class="hidden bct vis'+x+' round130" />';aW+="</td>";if(x!=5){aW+='<td style="width:4px"><div style=width:4px></div></td>'}}aY+="<tr>"+aX+"</tr>";aY+="<tr>"+aW+"</tr>";aY+="<tr>";for(x=1;x<6;x++){aY+="<td style=width:120px>";aY+='<div id="divBA'+x+'" class="hidden vis'+x+' divBA">';aY+='<table style="width:100%">';aY+="<tr>";aY+='<td style="width:5px"><input type="checkbox" onchange="MpcEditor.upCrumbBA(\'bcB'+x+"', 'bcA"+x+'\')" class="bcBA" id="bcB'+x+'"></td>';aY+='<td style="text-align:left"><label class="bcBA" for="bcB'+x+'">BEFORE</label></td>';aY+='<td style="width:5px"><input type="checkbox" onchange="MpcEditor.upCrumbBA(\'bcA'+x+"', 'bcB"+x+'\')" class="bcBA" id="bcA'+x+'"></td>';aY+='<td style="width:20px"><label class="bcBA" for="bcA'+x+'">AFTER</label></td>';aY+='<td style="width:5px"><div style="width:5px"></div>';aY+="</tr>";aY+="</table>";aY+="</div>";aY+="</td>";if(x!=5){aY+='<td style="width:4px"><div style=width:4px></div></td>'}}aY+="</tr>";aY+='<tr><td colspan="10"><div style="height:2px"></div></td></tr>';aY+="</table>";aY+="</div>";aY+="</div>";aY+="</td>";aY+="</tr>";aY+='<tr><td class="lab11">Live preview</td></tr>';aY+="<tr>";aY+='<td colspan="5"><div id="bcSample" style="width:676px">&nbsp;</div>&nbsp;</td>';aY+="</tr>";aY+="</table>";aY+='<div style="position:relative;margin-top:4px">';aY+='<button class="sexybutton gbtn" disabled="disabled" onclick="MpcEditor.acceptBread();return false;" title="Insert breadcrumb and close dialog">';aY+='<span><span><span class="accept">Accept</span></span></span>';aY+="</button>&nbsp;&nbsp;";aY+='<button class="sexybutton gbtn" disabled="disabled" onclick="MpcEditor.bcReset();return false;" title="Reset all entries">';aY+='<span><span><span class="reload">Reset</span></span></span>';aY+="</button>&nbsp;&nbsp;";aY+='<button class="sexybutton gbtn" disabled="disabled" onclick="MpcEditor.bcClose();return false;">';aY+='<span><span><span class="cancel">Cancel</span></span></span>';aY+="</button>";aY+='<div id="ttlbusy" class="busycss" style="position:absolute;top:0;right:20px"></div>';aY+="</div>";aY+="<div";Shadowbox.open({content:aY,title:"Breadcrumb widget",player:"html",handleOversize:"none",height:478,width:728,options:{loadingColor:an.php.thm_sbload,qmarkTarget:"bcrumb",bodyColor:an.php.thm_sbbody,animate:an.php.bAnimate,animateFade:0,onMyClose:an.bcClose,onFinish:i}})};function i(){if(mem_bread.init==1){MpcEditor.loadBC();jQuery(".gbtn").prop("disabled",false);e("ttlbusy");return}an.doAjax64("../ajax.php","ajax_readBread",true,{},function(E){rj=jQuery.parseJSON(E);if(rj.status=="nofile"){MpcEditor.bcReset()}else{mem_bread=jQuery.parseJSON(rj.bcsfile);if(!("bcShow" in mem_bread)){mem_bread.bcShow=true}}MpcEditor.loadBC();jQuery(".gbtn").prop("disabled",false);e("ttlbusy")})}an.bcClose=function(){an.saveBC();Shadowbox.close()};an.bcReset=function(){jQuery("#bcSample").html("&nbsp;");jQuery("#bcHome").val("");jQuery("#bcDelim").val(">>");jQuery("#bcHideDash").prop("checked",true);jQuery("#bcPadd").prop("checked",true);jQuery("#bcShow").prop("checked",false);jQuery("#bcSelf").prop("checked",false);jQuery("#bcCase").prop("selectedIndex",0);jQuery(".bcBA").prop("checked",false);jQuery(".bct").each(function(){jQuery(this).val("")});an.saveBC();an.ltcClicked(ay+1)};an.saveBC=function(){mem_bread.bcHome=jQuery("#bcHome").val();mem_bread.bcDelim=jQuery("#bcDelim").val();mem_bread.bcHideDash=jQuery("#bcHideDash").prop("checked")?1:0;mem_bread.bcPadd=jQuery("#bcPadd").prop("checked")?1:0;mem_bread.bcShow=jQuery("#bcShow").prop("checked")?1:0;mem_bread.bcSelf=jQuery("#bcSelf").prop("checked")?1:0;mem_bread.bcCase=jQuery("#bcCase").val();var E;for(E=1;E<6;E++){mem_bread["bcT"+E]=jQuery("#bcT"+E).val();mem_bread["bcB"+E]=jQuery("#bcB"+E).prop("checked")?1:0;mem_bread["bcA"+E]=jQuery("#bcA"+E).prop("checked")?1:0}mem_bread.init=1};an.loadBC=function(){jQuery("#bcHome").val(mem_bread.bcHome);jQuery("#bcDelim").val(mem_bread.bcDelim);jQuery("#bcHideDash").prop("checked",(mem_bread.bcHideDash==1));jQuery("#bcPadd").prop("checked",(mem_bread.bcPadd==1));jQuery("#bcShow").prop("checked",(mem_bread.bcShow==1));jQuery("#bcSelf").prop("checked",(mem_bread.bcSelf==1));jQuery("#bcCase").val(mem_bread.bcCase);f();var E;for(E=1;E<6;E++){jQuery("#bcT"+E).val(mem_bread["bcT"+E]);jQuery("#bcB"+E).prop("checked",(mem_bread["bcB"+E]==1));jQuery("#bcA"+E).prop("checked",(mem_bread["bcA"+E]==1));jQuery(".vis"+E).toggleClass("hidden",(E>mem_mctotal))}an.upCrumb()};an.setHx=function(aS){var E;switch(aS){case"home":E="home";break;case"Home":E="Home";break;case"HOME":E="HOME";break;case"current":E=(an.php.smap_remote_yn=="yes")?an.php.smap_remote_url:an.php.jDomainP;break}jQuery("#bcHome").val(E);an.upCrumb()};function f(){var E;switch(J()){case"exten":E="Show extension";break;case"file":E="Show filename";break;case"index":E="Show slash";break}jQuery("#labShow").html(E)}function J(){var E=an.php.bcEndType;return(mem_bcselector>ay)?an.php.bcEndType:"index"}an.upCrumbBA=function(E,aS){var E=jQuery("#"+E);var aS=jQuery("#"+aS);if(E.prop("checked")){aS.prop("checked",false)}an.upCrumb()};an.upCrumb=function(){mem_anchor="";mem_href="";mem_bchome="";var aV=jQuery("#bcCase").val();var aY=mem_mctotal;var a3=false;if(mem_vistotal<mem_mctotal){aY=mem_vistotal;a3=true}var a4;var a2;var a0;var a1=jQuery("#bcShow").prop("checked");var aW=jQuery("#bcHideDash").prop("checked");var E=(jQuery("#bcPadd").prop("checked"))?" ":"";ao=ac(E+jQuery("#bcDelim").val()+E);var aS="^";var aT=jQuery("#bcHome").val();aT=aT.trim();if(aT!=""){mem_bchome=aT;aT+=aS}for(x=1;x<aY;x++){a4=aP(n[x-1]);a2="#"+l[x-1]+aV+"#";a0=jQuery("#bcT"+x).val();if(a0.trim()!=""){a4=aa(a4,a0,d(x));a2=aa(a2,a0,d(x))}aT+=a4;mem_href+="#"+l[x-1]+":h#";mem_anchor+=a2;if(aj[x-1]==2){aT+=aS;mem_href+=aS;mem_anchor+=aS}else{if(aj[x-1]==1){aT+="/";mem_href+="/";mem_anchor+="/"}else{if(aW){aT+=" "}else{aT+="-"}mem_href+="-";if(aW){mem_anchor+=" "}else{mem_anchor+="-"}}}}a4=aP(n[x-1]);a2="#"+l[x-1]+aV+"#";mem_href+="#"+l[x-1]+":h#";if(!a3){if(a1){a4+=aP(an.php.bcEndValue);a2+=an.php.bcEndValue}a0=jQuery("#bcT"+x).val();if(a0.trim()!=""){a4=aa(a4,a0,d(x));a2=aa(a2,a0,d(x))}mem_href+=an.php.bcEndValue}else{a0=jQuery("#bcT"+x).val();if(a0.trim()!=""){a4=aa(a4,a0,d(x));a2=aa(a2,a0,d(x))}if(a1){a4+="/";a2+="/"}mem_href+="/"}aT+=a4;mem_anchor+=a2;var aZ=jQuery("#bcSelf").prop("checked");var aU=aT.split(aS);var aX=aU.length;for(x=0;x<aX;x++){if((x==aX-1)&&(!aZ)){continue}aU[x]='<span class="crumb">'+aU[x]+"</span>"}aT=aU.join(ao);jQuery("#bcSample").html(aT+"&nbsp;")};an.ltcClicked=function(E){jQuery(".ltc").toggleClass("fsel",false);jQuery("#id"+E).toggleClass("fsel",true);mem_bcselector=E;f();if(E>ay){mem_vistotal=mem_mctotal}else{mem_vistotal=u[E-1]}for(x=1;x<6;x++){jQuery(".vis"+x).toggleClass("hidden",(x>mem_vistotal))}an.upCrumb()};function aa(aS,E,aT){if(aT=="b"){return E+aS}if(aT=="a"){return aS+E}return E}function ac(E){return String(E).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/ /g,"&nbsp;")}function aP(E){var aS=jQuery("#bcCase").val();if(aS==":t"){return E.replace(/\w\S*/g,function(aT){return aT.charAt(0).toUpperCase()+aT.substr(1).toLowerCase()})}else{if(aS==":l"){return E.toLowerCase()}else{if(aS==":u"){return E.toUpperCase()}else{return E}}}}function d(E){if(jQuery("#bcB"+E).prop("checked")){return"b"}if(jQuery("#bcA"+E).prop("checked")){return"a"}return"r"}an.acceptBread=function(){var aX="\n<!-- Begin Breadcrumbs -->\n";var aW=mem_anchor.split("^");var aV=mem_href.split("^");var aU=new Array();var E=aV.length;var aS="";var aT="";for(x=0;x<E;x++){aT+="/"+aV[x];aU[x]=aT}if(mem_bchome!=""){aX+='<a href="/">'+mem_bchome+"</a>"+ao}for(x=0;x<E-1;x++){aX+='<a href="'+aU[x]+'/">'+aW[x]+"</a>"+ao}if(jQuery("#bcSelf").prop("checked")){aX+='<a href="'+aU[x]+'">'+aW[x]+"</a>"}else{aX+=aW[x]}aX+="\n<!-- End Breadcrumbs -->\n\n";if(an.oEditor.mode=="source"){o(aX)}else{an.oEditor.insertHtml(aX)}an.saveBC();Shadowbox.close();return false};an.diaWeatherWidget=function(){Shadowbox.open({content:"../weather.php?TESTING="+MpcEditor.php.TESTING+"&VER="+MpcEditor.php.VER+"&thm_pinstripe="+encodeURIComponent(MpcEditor.php.thm_pinstripe)+"&mState="+mapState+"&mCity="+mapCity+"&mAlign="+mapAlign+"&mWidth="+mapWidth+"&wColor="+wigColor+"&wCountry="+wigCountry+"&jCust="+JSON.stringify(an.ar_cust),title:"Weather widget",player:"iframe",handleOversize:"none",height:176,width:540,options:{loadingColor:an.php.thm_sbload,qmarkTarget:"weather",bodyColor:an.php.thm_sbbody,animate:an.php.bAnimate}})};an.insertSourceEX=function(E){if(an.oEditor.mode=="source"){o(E)}else{an.oEditor.insertHtml(E)}return false};an.diaApi=function(){var E="";E+='<div class="dia-content noselect" spellcheck="false" onmousedown="MpcEditor.hideDiaStatusEX();return true">';E+='<div class="dia-status" style="position:absolute;top:4px;left:6px;"></div>';E+='<div class="pinstripe twrap" style="margin-top:7px;padding-top:2px;position:relative">';E+='<div style="text-align:left;margin:4px 0 6px">Spintax creation</div>';E+="<table>";E+='<tr style="white-space:nowrap">';E+="<td>";E+='<button class="sexybutton gbtn" onclick="MpcEditor.goSpinRewriter();return false;">';E+='<span><span><span class="spinrw">SpinRewriter</span></span></span>';E+="</button>";E+="</td>";E+="<td>";E+='&nbsp;&nbsp;<button class="sexybutton gbtn" onclick="MpcEditor.goSpinRewriter();return false;" title="Coming in future Mpc update" disabled="disabled">';E+='<span><span><span class="ai">WordAi</span></span></span>';E+="</button>";E+="</td>";E+="</tr>";E+="</table>";E+="</div>";E+='<div class="pinstripe twrap" style="margin-top:10px;padding-top:2px;position:relative">';E+='<div style="text-align:left;margin:4px 0 6px">Content creation</div>';E+="<table>";E+='<tr style="white-space:nowrap">';E+="<td>";E+='<button class="sexybutton gbtn" onclick="MpcEditor.goArticleBuilder();return false;">';E+='<span><span><span class="pencil">ArticleBuilder</span></span></span>';E+="</button>";E+="</td>";E+="<td>";E+='&nbsp;&nbsp;<button class="sexybutton gbtn" onclick="MpcEditor.goSpinRewriter();return false;" title="Coming in future Mpc update" disabled="disabled">';E+='<span><span><span class="kmach">Kontent Machine</span></span></span>';E+="</button>";E+="</td>";E+="</tr>";E+="</table>";E+="</div>";E+="</div>";Shadowbox.open({content:E,title:"API access to other products",player:"html",handleOversize:"none",height:194,width:500,options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,animate:an.php.bAnimate,animateFade:0,onClose:an.sbClose}})};an.goSpinRewriter=function(){if(!M()){A("pink","Text needs to be selected in the Mpc Editor");return false}Shadowbox.close();setTimeout("MpcEditor.diaSpinRewriter()",200)};an.goArticleBuilder=function(){Shadowbox.close();setTimeout("MpcEditor.diaArticleBuilder()",200)};an.diaSpinRewriter=function(){var aW=encodeURIComponent(an.php.thm_sbbody);var aX=encodeURIComponent(an.php.thm_sbload);var E=encodeURIComponent(an.php.thm_text);var aV=encodeURIComponent(an.php.thm_inpColor);var aS=encodeURIComponent(an.php.thm_inpBgnd);var aT=encodeURIComponent(an.php.thm_inpBord);var aU=wwidth-60;Shadowbox.open({content:"../spinRewriterAPI.php?thm_sbbody="+aW+"&thm_sbload="+aX+"&thm_text="+E+"&thm_inpColor="+aV+"&thm_inpBgnd="+aS+"&thm_inpBord="+aT+"&VER="+MpcEditor.php.VER+"&TESTING="+MpcEditor.php.TESTING+"&wwidth="+aU,title:"SpinRewriter API",player:"iframe",handleOversize:"none",options:{loadingColor:an.php.thm_sbload,allowResize:true,bodyColor:an.php.thm_sbbody,animate:an.php.bAnimate},height:485,width:aU})};an.diaArticleBuilder=function(){var aW=encodeURIComponent(an.php.thm_sbbody);var aX=encodeURIComponent(an.php.thm_sbload);var E=encodeURIComponent(an.php.thm_text);var aV=encodeURIComponent(an.php.thm_inpColor);var aS=encodeURIComponent(an.php.thm_inpBgnd);var aT=encodeURIComponent(an.php.thm_inpBord);var aU=wwidth-60;Shadowbox.open({content:"../articleBuilderAPI.php?thm_sbbody="+aW+"&thm_sbload="+aX+"&thm_text="+E+"&thm_inpColor="+aV+"&thm_inpBgnd="+aS+"&thm_inpBord="+aT+"&VER="+MpcEditor.php.VER+"&TESTING="+MpcEditor.php.TESTING+"&wwidth="+aU,title:"ArticleBuilder API",player:"iframe",handleOversize:"none",options:{loadingColor:an.php.thm_sbload,allowResize:true,bodyColor:an.php.thm_sbbody,animate:an.php.bAnimate},height:485,width:aU})};an.EX_cancel=function(){Shadowbox.close()};an.diaSiloTable=function(){var E="Silo Intex table";if(MpcEditor.php.dowp==1){E+=" (Not for Wordpress)"}Shadowbox.open({content:"../sitable.php?TESTING="+MpcEditor.php.TESTING+"&VER="+MpcEditor.php.VER+"&thm_pinstripe="+encodeURIComponent(MpcEditor.php.thm_pinstripe),title:E,player:"iframe",handleOversize:"none",height:498,width:646,options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,qmarkTarget:"sitab",animate:an.php.bAnimate,animateFade:0}})};an.addCanon=function(){var E=oCodeMirror.getValue();var aT=E.search(/<\/head>/i);if(aT==-1){return}var aS='\n<link rel="canonical" href="!domain-url!/#url!#" />\n';oCodeMirror.setValue(E.substr(0,aT)+aS+E.substr(aT));an.cursorToPos(aT)};an.putStyleSI=function(aS){var E=oCodeMirror.getValue();var aU=E.search(/<\/head>/i);if(aU==-1){return"Could not find &lt;/head&gt; tag in file"}var aT=E.search(/\<style title=".+?_table"/i);if((aT==-1)||(aT>=aU)){E=E.replace(/<\/head>/i,aS+"</head>");oCodeMirror.setValue(E);return"ok_installed"}else{oCodeMirror.setValue(E.slice(0,aT)+aS+E.slice(aU));return"ok_updated"}};an.putShortSI=function(aV){var aT=oCodeMirror.getValue();var aY=aT.search(/\[mpc-shortcode: silo_table .*?\]/);if(aY==-1){var aY=aT.search(/<\/head>/i);if(aY==-1){return"Could not find &lt;/head&gt; tag in file"}var aU=aT.substr(0,aY);var aS=aU.split("\n");var aX=aS.length;var aW=oCodeMirror.getCursor("begin");var E=aW.line;E++;if(aX>E){return"Cursor was not placed after page &lt;body&gt; tag"}an.insertSourceEX(aV);return"ok_installed"}oCodeMirror.setValue(aT.replace(/\[mpc-shortcode: silo_table .*?\]/,aV));return"ok_updated"};an.closeSI=function(){Shadowbox.close()};an.diaDynamic=function(){var aS="";aS+='<div class="dia-content noselect" style="padding:15px 0 0 15px" onmousedown="MpcEditor.hideDiaStatusPink();return true;">';aS+='<div id="ttlbusy" class="busycss" style="position:absolute;top:10px;right:15px"></div>';aS+="<div>Dynamic Includes are replaced with data each time a page is browsed.</div>";aS+='<div class="pinstripe twrap" style="width:485px;margin:15px 0 0 0;padding:6px 10px 10px">';aS+='<table style="width:100%">';aS+="<tr>";aS+='<td style="text-align:left"><div class="lab11">Location Identifier (a-z, 0-9, and underscores)</div></td>';aS+='<td style="width:10px"><div style="width:10px"</div></td>';aS+="</tr>";aS+="<tr>";aS+='<tr style="white-space:nowrap">';aS+='<td><input type="text" id="dyna_name" class="pinkinp" onkeyup="MpcEditor.filterSlash(\'name\');return false;" disabled="disabled"></td>';aS+='<td style="width:10px"><div style="width:10px"</div></td>';aS+="</tr>";aS+="<tr>";aS+="<td>";aS+="<table>";aS+="<tr>";aS+='<td colspan="5" style="width:415px;text-align:left"><div id="vprompt" class="lab11">Select active Vars for this include (optional)</div></td>';aS+="</tr>";aS+="<tr>";aS+='<td width="100"><div style="margin:2px 0"   class="rtx dyn sb-dis tdcopy" id="rtx1" title=""';aS+='onclick="MpcEditor.rtxSelect(this);return false;">Var1</div></td>';aS+='<td width="100"><div style="margin:2px 4px" class="rtx dyn sb-dis tdcopy" id="rtx2" title=""';aS+='onclick="MpcEditor.rtxSelect(this);return false;">Var2</div></td>';aS+='<td width="100"><div style="margin:2px 0"   class="rtx dyn sb-dis tdcopy" id="rtx3" title=""';aS+='onclick="MpcEditor.rtxSelect(this);return false;">Var3</div></td>';aS+="<td></td>";aS+="</tr>";aS+="<tr>";aS+='<td width="100"><div style="margin:2px 0"   class="rtx dyn sb-dis tdcopy" id="rtx4" title=""';aS+='onclick="MpcEditor.rtxSelect(this);return false;">Var4</div></td>';aS+='<td width="100"><div style="margin:2px 4px" class="rtx dyn sb-dis tdcopy" id="rtx5" title=""';aS+='onclick="MpcEditor.rtxSelect(this);return false;">Var5</div></td>';aS+='<td width="100"><div style="margin:2px 0"   class="rtx dyn sb-dis tdcopy" id="rtx6" title=""';aS+='onclick="MpcEditor.rtxSelect(this);return false;">Var6</div></td>';aS+="<td></td>";aS+="</tr>";aS+="<tr>";aS+='<td width="100"><div style="margin:2px 0"   class="rtx dyn sb-dis tdcopy" id="rtx7" title=""';aS+='onclick="MpcEditor.rtxSelect(this);return false;">Var7</div></td>';aS+='<td width="100"><div style="margin:2px 4px" class="rtx dyn sb-dis tdcopy" id="rtx8" title=""';aS+='onclick="MpcEditor.rtxSelect(this);return false;">Var8</div></td>';aS+='<td width="100"><div style="margin:2px 0"   class="rtx dyn sb-dis tdcopy" id="rtx9" title=""';aS+='onclick="MpcEditor.rtxSelect(this);return false;">Var9</div></td>';aS+="<td></td>";aS+="</tr>";aS+="</table>";aS+="</td>";aS+='<td style="width:10px"><div style="width:10px"</div></td>';aS+="</tr>";aS+="</table>";aS+="</div>";aS+='<div style="position:relative;margin:19px 15px 0 0;">';aS+='<table style="width:100%;white-space:nowrap">';aS+="<tr>";aS+='<td style="text-align:left;width:70px">';aS+='<button id="bnAcceptDY" disabled="disabled" class="sexybutton"  title="Create shortcode"';aS+='onclick="MpcEditor.acceptDynamic();return false;">';aS+='<span><span><span class="accept">Accept</span></span></span>';aS+="</button>&nbsp;&nbsp;&nbsp;";aS+="</td>";aS+='<td style="text-align:left">';aS+='<button class="sexybutton" title="Close this dialog"';aS+='onclick="Shadowbox.close();return false;">';aS+='<span><span><span class="cancel">Close</span></span></span>';aS+="</button>";aS+="</td>";aS+='<td style="text-align:right">';aS+='<a href="https://masspagecreator.com/links.php?go=dyna" class="sexybutton" ';aS+='title="Help for Dynamic Include" target="_blank">';aS+='<span><span><span class="help">Help</span></span></span></a>';aS+="</td>";aS+="</tr>";aS+="</table>";aS+='<div id="diastat" class="dia-status" style="position:absolute;bottom:3px;left:196px;"></div>';aS+="</div>";aS+="</div>";var E="Dynamic Include shortcode";if(MpcEditor.php.dowp==1){E+=" (Not for Wordpress)"}Shadowbox.open({content:aS,title:E,player:"html",handleOversize:"none",height:292,width:537,options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,qmarkTarget:"dyna",animate:an.php.bAnimate,animateFade:0,onFinish:F}})};function F(){if(an.php.jRoot==1){jQuery("#vprompt").html("Vars not allowed in Webroot includes")}else{for(x=1;x<10;x++){if(an.ar_cust[x-1]=="Var"+x){continue}j=jQuery("#rtx"+x);j.html(an.ar_cust[x-1]);j.toggleClass("sb-dis",false);j.toggleClass("selok",true)}}j=jQuery("#dyna_name");j.prop("disabled",false);j.css("background-color","white");jQuery("#bnAcceptDY").prop("disabled",false);e("ttlbusy");jQuery("#dyna_name").focus()}an.acceptDynamic=function(){var aT=jQuery("#dyna_name");var aS=aT.val();aS=aS.trim();if(aS==""){A("pink","Name is required");aT.toggleClass("warnn",true);return}if(aS.charAt(0).match(/^\d/)){A("pink","Cannot begin with a number");aT.toggleClass("warnn",true);return}var aU;var aV={};aV.location_ident=aS;var E=false;for(x=1;x<10;x++){if(jQuery("#rtx"+x).hasClass("fsel")){aU=an.ar_cust[x-1];aV[aU]="#"+aU+"#";E=true}}if(!E){aV.default_novar="x"}jQuery("#bnAcceptDY").prop("disabled",true);jstr=JSON.stringify(aV);var aW="<!--[mpc-shortcode: dyna "+jstr+"]-->";if(an.php.jRoot==1){aW="<?php ";aW+="$location_ident='"+aS+"/default_novar';$default_novar=<<<default_novar\n";aW+="x\n";aW+="default_novar;\n";aW+="include '"+an.php.mpcpath+"/mpc_short_files/dynaparse.php'; ?>"}o(aW);A("lightgreen","Shortcode created")};an.filterSlash=function(aS){var E=document.getElementById("dyna_"+aS);E.value=E.value.toLowerCase();if(E.value.match(/[^a-z0-9_]/g)){E.value=E.value.replace(/[^a-zA-Z0-9_]/g,"")}};an.diaA51=function(aS){var aX,E,aT,aZ,aU,aV,aY;switch(mem_a51_type){case"r":aX="Redirect";E="redirect";aT="visible";aU="Redirect";prmt_t="Target Url (string or #var#)";prmt_q="Redirect Query String (optional)";aZ="redir.png";aV="redirect to";aV="Public is Redirected, while Search Bots stay to crawl your Mpc page.";sbox_w=670;aY="r.php";break;case"o":aX="Overlay";E="overlay";aT="hidden";aU="Overlay";prmt_t="Target Url (string or #var#)";prmt_q="Overlay Query String (optional)";aZ="layer.png";aV="Public will see an Overlay, while Search Bots see your underlying page.";sbox_w=670;aY="o.php";break;case"i":aX="Include";E="include";aT="hidden";aU="Cloaked Include";prmt_t="Location Identifier (a-z, 0-9, and underscores)";prmt_q="Select active Vars for this include (optional)";aZ="star_purple.png";aV="Set includes to be seen exclusively by Public <b>or</b> Search Bots.";sbox_w=539;aY="i.php";break}mem_a51_cbox=false;mem_a51_target_url="";mem_a51_target_di="";var aW="";aW+='<div class="dia-content noselect" style="padding:15px 0 0 15px" onmousedown="MpcEditor.hideDiaStatusPink();return true;">';aW+='<div id="ttlbusy" class="busycss" style="position:absolute;top:7px;right:15px"></div>';aW+='<div style="margin-bottom:3px">';aW+=aV;aW+="</div>";aW+='<div style="margin-bottom:3px">';aW+="If search engines detect this cloaking, <b>your domain may be delisted</b>.<br />";aW+="</div>";aW+='<div style="margin-bottom:12px">';aW+="Enrollment in IP Protection is <b>strongly</b> advised, or use IPGrabber.";aW+="</div>";aW+='<div style="position:relative">';aW+='<table><tr><td style="vertical-align:top">';aW+='<div id="div_ipp" class="pinstripe twrap" style="position:relative;width:485px;margin:0;padding:6px 10px 10px">';aW+='<div class="rdvis" style="position:absolute;top:10px;left:10px;visibility:hidden">';aW+='<a href="http://masspagecreator.com/links.php?go=ips" target="_blank"><span style="font-weight:bold">';if(mem_a51_type=="i"){aW+="Cloaked Include requires Redirect or Overlay activation"}else{aW+=aX+" module requires activation"}aW+="</span></a>";aW+="</div>";aW+='<div class="rdvis" style="position:absolute;bottom:10px;left:10px;visibility:hidden">';aW+="(Logout and back into Mpc required to complete activation)";aW+="</div>";aW+="<table>";aW+="<tr>";aW+='<td colspan="3"><div id="ipstat" class="ipvis" style="padding-bottom:6px;visibility:hidden"><b>IP Protection:</b></div></td>';aW+="</tr>";aW+="<tr>";aW+="<td>";aW+='<div onclick="MpcEditor.enterToken()" class="avis ipvis" style="visibility:hidden">Enter bSeolized IPGrabber Token</div>';aW+="</td>";aW+="<td>";aW+='<div class="ipvis2" style="text-align:center;margin:0 10px;visibility:hidden">or</div>';aW+="</td>";aW+="<td>";aW+='<div onclick="MpcEditor.purchaseModule()" class="avis ipvis2" style="visibility:hidden">Enroll in Mpc IP Protection (Save 65%)</div>';aW+="</td>";aW+="</tr>";aW+="</table>";aW+="</div>";aW+='<div class="pinstripe twrap" style="width:485px;margin:15px 0 0 0;padding:6px 10px 10px">';aW+='<table style="width:100%">';aW+='<tr style="white-space:nowrap">';aW+='<td style="width:20px"><div style="width:20px;text-align:left"><img src="'+an.php.silkdir+aZ+'" height="16" width="16"></div></td>';aW+='<td style="text-align:left"><div id="input_lab"><b>'+aU+"</b></div></td>";if(mem_a51_type=="i"){aW+='<td colspan="2" style="text-align:right">';aW+="<table>";aW+="<tr>";aW+='<td colspan="3">';aW+='<table style="width:100%;text-align:right">';aW+="<tr>";aW+='<td style="width:250px;text-align:right">Viewable by:&nbsp;</td>';aW+='<td style="width:38px"><div class="doff tdadd_left mg2 sb-dis" style="width:38px" title=""';aW+="onmouseover=\"MpcEditor.togOver('idNo0');return false;\" onmouseout=\"MpcEditor.togOut('idNo0');return false;\"";aW+='onclick="MpcEditor.pgClicked(\'0\');return false;" id="idYes0">Public</div></td>';aW+='<td style="width:45px"><div class="don tdadd_right mg2 sb-dis" style="width:45px" title=""';aW+="onmouseover=\"MpcEditor.togOver('idYes0');return false;\" onmouseout=\"MpcEditor.togOut('idYes0');return false;\"";aW+='onclick="MpcEditor.pgClicked(\'0\');return false;" id="idNo0">Google</div></td>';aW+="</tr>";aW+="</table>";aW+="</td>";aW+="</tr>";aW+="</table>";aW+="</td>"}else{aW+="<td></td>";aW+='<td width="50px">';aW+='<div class="btnchk">';aW+='<label for="use_dy" id="lab_use_dy" class="btnchk sb-dis"';aW+=">Use Dynamic Include";aW+='<input id="use_dy" type="checkbox" class="btnchk allbtns" disabled="disabled" onchange="MpcEditor.use_dyChanged()" />';aW+="</label>";aW+="</div>";aW+="</td>"}aW+="</tr>";aW+="<tr>";aW+='<td colspan="4"><div id="labRedir" class="lab11">'+prmt_t+"</div></td>";aW+="</tr>";aW+="<tr>";aW+='<td style="width:415px" colspan="4">';aW+='<div style="position:relative">';aW+='<input style="width:475px" type="text" spellcheck="false" id="a51_target" class="pinkinp inp epink bgnd_trans" ';aW+='disabled="disabled" onkeyup="MpcEditor.filterWordChar(\'a51_target\');return false">';aW+='<div id="vis_suffix" style="position:absolute;top:6px;right:0;font-weight:bold;visibility:hidden"></div>';aW+="</div>";aW+="</td>";aW+="</tr>";aW+='<td colspan="4">';aW+="<table>";aW+="<tr>";aW+='<td colspan="5" style="width:415px;text-align:left"><div class="lab11">'+prmt_q+"</div></td>";aW+='<td style="text-align:right"><div class="lab11" style="text-align:right;visibility:'+aT+'">Http Code&nbsp;&nbsp;</div></td>';aW+="</tr>";aW+="<tr>";aW+='<td width="90"><div style="margin:2px 4px 2px 0"   class="rtx rtx90 tdcopy sb-dis" id="rtx1" title=""';aW+='onclick="MpcEditor.rtxSelect(this);return false;">'+an.ar_cust[0]+"</div></td>";aW+='<td width="90"><div style="margin:2px 4px 2px 0" class="rtx rtx90 tdcopy sb-dis" id="rtx2" title=""';aW+='onclick="MpcEditor.rtxSelect(this);return false;">'+an.ar_cust[1]+"</div></td>";aW+='<td width="90"><div style="margin:2px 4px 2px 0"   class="rtx rtx90 tdcopy sb-dis" id="rtx3" title=""';aW+='onclick="MpcEditor.rtxSelect(this);return false;">'+an.ar_cust[2]+"</div></td>";aW+='<td width="90"><div style="margin:2px 0"   class="rtx rtx90 tdcopy sb-dis" id="rtx4" title=""';aW+='onclick="MpcEditor.rtxSelect(this);return false;">'+an.ar_cust[3]+"</div></td>";aW+="<td></td>";aW+='<td style="text-align:right"><div style="visibility:'+aT+'">';aW+='<select id="redir_code" class="wgselect inp bgnd_trans" disabled="disabled" size="1" style=padding:2px>';aW+='<option value="301">&nbsp;301&nbsp;</option>';aW+='<option value="302">&nbsp;302&nbsp;</option>';aW+='<option value="303">&nbsp;303&nbsp;</option>';aW+='<option value="304">&nbsp;304&nbsp;</option>';aW+='<option value="307" selected>&nbsp;307&nbsp;</option>';aW+="</select>";aW+="</td>";aW+="</tr>";aW+="<tr>";aW+='<td width="90"><div style="margin:2px 4px 2px 0" class="rtx rtx90 tdcopy sb-dis" id="rtx5" title=""';aW+='onclick="MpcEditor.rtxSelect(this);return false;">'+an.ar_cust[4]+"</div></td>";aW+='<td width="90"><div style="margin:2px 4px 2px 0"   class="rtx rtx90 tdcopy sb-dis" id="rtx6" title=""';aW+='onclick="MpcEditor.rtxSelect(this);return false;">'+an.ar_cust[5]+"</div></td>";aW+='<td width="90"><div style="margin:2px 4px 2px 0"   class="rtx rtx90 tdcopy sb-dis" id="rtx7" title=""';aW+='onclick="MpcEditor.rtxSelect(this);return false;">'+an.ar_cust[6]+"</div></td>";aW+='<td width="90"><div style="margin:2px 0" class="rtx rtx90 tdcopy sb-dis" id="rtx8" title=""';aW+='onclick="MpcEditor.rtxSelect(this);return false;">'+an.ar_cust[7]+"</div></td>";aW+="<td></td>";aW+="<td></td>";aW+="</tr>";aW+="<tr>";aW+='<td width="90"><div style="margin:2px 4px 2px 0"   class="rtx rtx90 tdcopy sb-dis" id="rtx9" title=""';aW+='onclick="MpcEditor.rtxSelect(this);return false;">'+an.ar_cust[8]+"</div></td>";aW+="<td></td>";if(mem_a51_type=="i"){aW+="<td></td><td></td>"}else{aW+='<td width="90"><div style="margin:2px 4px 2px 0"   class="rtx rtxx rtx90 tdcopy sb-dis" id="rtx10" title=""';aW+='onclick="MpcEditor.rtxSelect(this);return false;">domain-url</div></td>';aW+='<td width="90"><div style="margin:2px 4px 2px 0"   class="rtx rtxx rtx90 tdcopy sb-dis" id="rtx11" title=""';aW+='onclick="MpcEditor.rtxSelect(this);return false;">ip-address</div></td>'}aW+="<td></td>";aW+="<td></td>";aW+="</tr>";aW+="</table>";aW+="</td>";aW+="</tr>";aW+="</table>";aW+="</div>";aW+="</td>";aW+='<td style="vertical-align:top">';aW+='<div class="pinstripe1 twrap udy" id="diVarArea" ';if(mem_a51_type=="i"){aW+='style="width:2px;white-space:nowrap;overflow:hidden;margin:0;padding:0 0 10px;visibility:hidden">'}else{aW+='style="margin:0 0 0 13px;padding:0px 10px 10px;opacity:0.2">'}aW+='<div style="font-size:11px;padding:6px 0 5px">Active vars for<br />dynamic include</div>';aW+="<table>";for(x=1;x<10;x++){aW+="<tr>";aW+='<td width="90"><div style="margin:2px 0" title="" id="dtx'+x+'"';aW+='class="dtx rtx90 tdcopy ';aW+=(an.ar_cust[x-1]=="Var"+x)?"sb-dis bgnd_trans":"";aW+='" ';aW+='onclick="MpcEditor.rtxSelect(this);return false;">'+an.ar_cust[x-1]+"</div></td>";aW+="</tr>"}aW+="</table>";aW+="</div>";aW+="</td></tr></table>";aW+='<div style="position:absolute;left:1px;bottom:1px">';aW+='<table style="white-space:nowrap">';aW+="<tr>";aW+='<td style="text-align:left;width:70px">';aW+='<button id="bnAcceptR" class="sexybutton allbtns" disabled="disabled" title="Create or Update shortcode"';if(mem_a51_type=="i"){aW+='onclick="MpcEditor.acceptA51_inc();return false;">'}else{aW+='onclick="MpcEditor.acceptA51();return false;">'}aW+='<span><span><span class="accept">Accept</span></span></span>';aW+="</button>&nbsp;&nbsp;";aW+="</td>";if(mem_a51_type!="i"){aW+='<td style="text-align:left">';aW+='<button id="bnRemoveA51" class="sexybutton" title="Remove shortcode"';aW+='onclick="MpcEditor.removeRedir();return false;" disabled="disabled">';aW+='<span><span><span class="delete">Remove</span></span></span>';aW+="</button>&nbsp;&nbsp;";aW+="</td>"}aW+='<td style="text-align:left">';aW+='<button class="sexybutton allbtns" id="bnCloseR" title="Close this dialog"';aW+='onclick="Shadowbox.close();return false;" disabled="disabled">';aW+='<span><span><span class="cancel">Close</span></span></span>';aW+="</button>";aW+="</td>";aW+="</tr>";aW+="</table>";aW+="</div>";aW+='<div id="diastat" class="dia-status" style="position:absolute;bottom:5px;right:148px;"></div>';aW+="<div>";aW+="</div>";Shadowbox.open({content:aW,title:'Cloaked <span class="ttlgold">'+aX+"</span> shortcode",player:"html",handleOversize:"none",options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,qmarkFunction:an.goHelp51,animate:an.php.bAnimate,animateFade:0,onFinish:aE},height:414,width:sbox_w})};function aE(){if(((mem_a51_type=="r")&&(an.php.are!=1))||((mem_a51_type=="o")&&(an.php.ola!=1))||((mem_a51_type=="i")&&(an.php.cin!=1))){jQuery("#div_ipp").css("background-color","pink");jQuery(".rdvis").css("visibility","visible");jQuery("#bnCloseR").prop("disabled",false);e("ttlbusy");return}if(mem_a51_type!="i"){var E=oCodeMirror.getValue();var aS=E.indexOf("</title>");if(aS==-1){A("pink","Could not find &lt;/title&gt; tag");jQuery("#bnCloseR").prop("disabled",false);e("ttlbusy");return false}}an.doAjax64("../ajax.php","y33d53X18",true,{},function(aT){var a5='<b>IP Protection:</b> <span style="color:#c00000;font-weight:bold">DISABLED</span>';if(an.php.eye==1){a5='<b>IP Protection:</b> <span style="color:#008000;font-weight:bold">ENABLED</span> (Mpc Protection)'}else{switch(aT){case"ok":a5='<b>IP Protection:</b> <span style="color:#008000;font-weight:bold">ENABLED</span> (bSeolized IPGrabber Protection)';break;case"nofile":case"badtoken":break;case"invalid":A("pink","Wrong or expired token");break}}jQuery("#ipstat").html(a5);if(mem_a51_type!="i"){var aY;var aW=E.match(/<!--\[mpc-shortcode: (var_redir|redir|var_overlay|overlay) (\{.*?\})\]-->/);if(aW!=null){var a7=aW[1];if(a7.indexOf("_")==-1){aY=a7;mem_a51_cbox=false}else{aY=a7.substr(4);mem_a51_cbox=true}var aU="";if((mem_a51_type=="r")&&(aY!="redir")){aU="Must first remove Overlay"}else{if((mem_a51_type=="o")&&(aY!="overlay")){aU="Must first remove Redirect"}}if(aU!=""){A("pink",aU);jQuery("#bnCloseR").prop("disabled",false);e("ttlbusy");return false}var a3=jQuery.parseJSON(aW[2]);if(mem_a51_cbox){aW=E.match(/<!--\[mpc-shortcode: var_dyna (\{.*\})\]-->/);if(aW==null){A("pink","Dynamic Include missing");jQuery("#bnCloseR").prop("disabled",false);e("ttlbusy");return false}var aZ=jQuery.parseJSON(aW[1]);var a7=aZ.location_ident;var aX=a7.lastIndexOf("__");mem_a51_target_di=a7.substr(0,aX);jQuery("#a51_target").val(mem_a51_target_di);jQuery("#use_dy").prop("checked",true);an.use_dyChanged();for(var a4 in aZ){if(aZ.hasOwnProperty(a4)){aX=an.ar_cust.indexOf(a4);if(aX==-1){continue}aX++;jQuery("#dtx"+aX).toggleClass("fsel",true)}}}if(!mem_a51_cbox){mem_a51_target_url=a3.u;jQuery("#a51_target").val(mem_a51_target_url)}if(mem_a51_type=="r"){jQuery("#redir_code").val(a3.m)}if(a3.c!=0){var a1=[];for(x=1;x<=a3.c;x++){a1.push(a3["vn"+x])}var a2,a6;for(x=1;x<12;x++){a2=jQuery("#rtx"+x);a6=a2.html();if(a1.indexOf(a6)==-1){continue}a2.toggleClass("fsel",true)}}jQuery("#bnRemoveA51").prop("disabled",false)}}if(mem_a51_type=="i"){var aV=jQuery("#idYes0");var a0=jQuery("#idNo0");aV.toggleClass("selok",true);a0.toggleClass("selok",true);aV.toggleClass("sb-dis",false);a0.toggleClass("sb-dis",false);aV.toggleClass("fsel",true);c()}if(an.php.eye!=1){jQuery(".ipvis2").css("visibility","visible")}jQuery(".ipvis").css("visibility","visible");jQuery(".allbtns").prop("disabled",false);jQuery("#lab_use_dy").toggleClass("selok",true);jQuery("#lab_use_dy").toggleClass("sb-dis",false);for(x=1;x<10;x++){if(an.ar_cust[x-1]!="Var"+x){jQuery("#rtx"+x).toggleClass("selok",true);jQuery("#rtx"+x).toggleClass("sb-dis",false)}}jQuery(".rtxx").toggleClass("selok",true);jQuery(".rtxx").toggleClass("sb-dis",false);jQuery(".inp").prop("disabled",false);jQuery(".inp").toggleClass("bgnd_trans",false);e("ttlbusy");jQuery("#a51_target").focus()})}an.filterWordChar=function(aS){an.hideDiaStatusPink();if(jQuery("#use_dy").prop("checked")||(mem_a51_type=="i")){var E=document.getElementById(aS);E.value=E.value.toLowerCase();if(E.value.match(/[^a-z0-9_]/g)){E.value=E.value.replace(/[^a-zA-Z0-9_]/g,"")}}};an.use_dyChanged=function(){var aS=jQuery("#use_dy");var E=jQuery("#a51_target");var aT;if(aS.prop("checked")){jQuery("#lab_use_dy").toggleClass("ysel",true);jQuery(".udy").toggleClass("bgnd_gold",true);jQuery("#labRedir").html("DI Location Identifier (a-z, 0-9, and underscores)");mem_a51_target_url=E.val();E.val(mem_a51_target_di);c();jQuery("#vis_suffix").css("visibility","visible");for(x=1;x<10;x++){aT=jQuery("#dtx"+x);if(aT.hasClass("sb-dis")){continue}aT.toggleClass("selok",true)}jQuery("#diVarArea").css({opacity:"1.0","border-color":"gold"})}else{jQuery("#lab_use_dy").toggleClass("ysel",false);jQuery(".udy").toggleClass("bgnd_gold",false);jQuery("#labRedir").html("Target Url (string or #var#)");mem_a51_target_di=E.val();E.val(mem_a51_target_url);c();jQuery("#vis_suffix").css("visibility","hidden");jQuery(".dtx").toggleClass("selok",false);jQuery("#diVarArea").css("opacity","0.2");jQuery("#diVarArea").css({opacity:"0.2","border-color":"#f8f8f8"})}E.focus()};an.pgClicked=function(E){var aT=jQuery("#idNo"+E);var aS=jQuery("#idYes"+E);if(aT.hasClass("sb-dis")||aS.hasClass("sb-dis")){return}if(aT.hasClass("selok")&&aS.hasClass("selok")){if(aT.hasClass("fsel")){aT.toggleClass("fsel",false);aS.toggleClass("fsel",true)}else{aS.toggleClass("fsel",false);aT.toggleClass("fsel",true)}c()}};function c(){mem_a51_suffix="";var E="475px";switch(mem_a51_type){case"r":if(jQuery("#use_dy").prop("checked")){E="397px";mem_a51_suffix="redirect"}break;case"o":if(jQuery("#use_dy").prop("checked")){E="400px";mem_a51_suffix="overlay"}break;case"i":if(jQuery("#idYes0").hasClass("fsel")){E="410px";mem_a51_suffix="public"}else{E="405px";mem_a51_suffix="google"}break}jQuery("#a51_target").css("width",E);jQuery("#vis_suffix").css("visibility","visible");jQuery("#vis_suffix").html("__"+mem_a51_suffix)}an.acceptA51_inc=function(){var aT=jQuery("#a51_target");var aS=aT.val();aS=aS.trim();aT.val(aS);if(aS==""){A("pink","Location Ident required");aT.toggleClass("warnn",true);aA("a51_target");return}if(aS.charAt(0).match(/^\d/)){A("pink","Cannot begin with number");aT.toggleClass("warnn",true);aA("a51_target");return}var aU;var aV={};aV.location_ident=aS+"__"+mem_a51_suffix;var E=false;for(x=1;x<10;x++){if(jQuery("#rtx"+x).hasClass("fsel")){aU=an.ar_cust[x-1];aV[aU]="#"+aU+"#";E=true}}if(!E){aV.default_novar="x"}jQuery("#bnAcceptR").prop("disabled",true);jstr=JSON.stringify(aV);var aW="<!--[mpc-shortcode: cinc "+jstr+"]-->";if(an.php.jRoot==1){aW="<?php ";aW+="$location_ident='"+aS+"/default_novar';$default_novar=<<<default_novar\n";aW+="x\n";aW+="default_novar;\n";aW+="include '"+an.php.mpcpath+"/mpc_short_files/dynaparse.php'; ?>"}o(aW);A("lightgreen","Shortcode created")};an.acceptA51=function(){var a1=jQuery("#use_dy").prop("checked");var aV=(mem_a51_type=="r")?"redirect":"overlay";var a6=(mem_a51_type=="r")?"redir":"overlay";var aY=jQuery("#a51_target");var aU=aY.val();aU=aU.trim();aY.val(aU);if(aU==""){A("pink",(a1)?"Location Ident required":"Target Url is required");aY.toggleClass("warnn",true);aA("a51_target");return}if(a1&&aU.charAt(0).match(/^\d/)){A("pink","Cannot begin with digit");aY.toggleClass("warnn",true);aA("a51_target");return}if(!a1){if((aU.charAt(0)!="#")&&(aU.charAt(0)!="/")){var aT=aU.substr(0,4);aT=aT.toLowerCase();var a4=aU.indexOf("!domain-url!");if(a4==-1){if(aT!="http"){aU="http://"+aU}}else{if(a4!=0){aU=aU.substr(a4)}}}}aY.val(aU);var a0={};a0.u=(a1)?"":aU;a0.f="r";a0.m=jQuery("#redir_code").val();if(mem_a51_type!="r"){a0.f="o";a0.m=1}a0.c=0;for(x=1;x<12;x++){aY=jQuery("#rtx"+x);if(jQuery("#rtx"+x).hasClass("fsel")){a0.c+=1;if(x<10){a0["vn"+a0.c]=an.ar_cust[x-1];a0["vv"+a0.c]="#"+an.ar_cust[x-1]+"#"}else{if(x==10){a0["vn"+a0.c]="domain-url";a0["vv"+a0.c]="x"}else{a0["vn"+a0.c]="ip-address";a0["vv"+a0.c]="x"}}}}jstr=JSON.stringify(a0);var aZ=(a1)?"var_"+a6:a6;var E="<!--[mpc-shortcode: "+aZ+" "+jstr+"]-->";var aW="";if(a1){var a3={};a3.location_ident=aU+"__"+mem_a51_suffix;var a5;var a2=false;for(x=1;x<10;x++){if(jQuery("#dtx"+x).hasClass("fsel")){a5=an.ar_cust[x-1];a3[a5]="#"+a5+"#";a2=true}}if(!a2){a3.default_novar="x"}var aS=JSON.stringify(a3);aW="<!--[mpc-shortcode: var_dyna "+aS+"]-->"}var aX=oCodeMirror.getValue();if(mem_a51_type=="r"){aX=aX.replace(/<!--\[mpc-shortcode: (var_redir|redir) \{.*\}\]-->/,"")}else{aX=aX.replace(/<!--\[mpc-shortcode: (var_overlay|overlay) \{.*\}\]-->/,"")}aX=aX.replace(/<!--\[mpc-shortcode: var_dyna \{.*\}\]-->/,"");aX=aX.replace(/<\/title>/i,"</title>"+E+aW);oCodeMirror.setValue(aX);jQuery("#bnRemoveA51").prop("disabled",false);A("lightgreen",(jQuery("#bnRemoveA51").prop("disabled"))?"Shortcode created":"Shortcode updated")};an.removeRedir=function(){jQuery("#bnRemoveA51").prop("disabled",true);var E=oCodeMirror.getValue();if(mem_a51_type=="r"){E=E.replace(/<!--\[mpc-shortcode: (var_redir|redir) \{.*\}\]-->/,"")}else{E=E.replace(/<!--\[mpc-shortcode: (var_overlay|overlay) \{.*\}\]-->/,"")}E=E.replace(/<!--\[mpc-shortcode: var_dyna \{.*\}\]-->/,"");oCodeMirror.setValue(E);jQuery("#a51_target").val("");mem_a51_target_url="";mem_a51_target_di="";jQuery(".rtx").toggleClass("fsel",false);jQuery(".dtx").toggleClass("fsel",false);A("gold",(mem_a51_type=="r")?"Redirect removed":"Overlay removed")};an.rtxSelect=function(aS){j=jQuery("#"+aS.id);if(j.hasClass("sb-dis")){return}if(j.hasClass("dtx")&&!jQuery("#use_dy").prop("checked")){return}var E=j.hasClass("fsel");j.toggleClass("fsel",!E)};an.purchaseModule=function(){aL.open("http://masspagecreator.com/links.php?go=ips")};an.goHelp51=function(){aL.open("http://masspagecreator.com/area51/"+mem_a51_type+".php")};an.goVideo51=function(){aL.open("http://masspagecreator.com/links.php?go=video51")};an.enterToken=function(){Shadowbox.close(true);setTimeout("MpcEditor.diaEnterToken()",10)};an.browseFile=function(){aL.open(an.php.realPath)};an.validateFile=function(){var E=an.php.domurl+an.php.realPath;aL.open("https://validator.w3.org/nu/?doc="+E)};an.mobiletestFile=function(){var E=encodeURIComponent(an.php.domurl+an.php.realPath);aL.open("https://search.google.com/test/mobile-friendly?url="+E)};an.diaEnterToken=function(){var E="";E+='<div class="dia-content noselect" spellcheck="false" style="padding:15px 0 0 15px" onmousedown="MpcEditor.hideDiaStatusPink();return true;">';E+="<div>";if(an.php.eye==1){E+='You must <a href="http://masspagecreator.com/links.php?go=unsub" target="_blank">unsubscribe to Mpc IP Protection</a> to use your IPGrabber token.'}else{E+='Don\'t have an IPGrabber token? <a href="javascript:MpcEditor.purchaseModule()">Enroll in Mpc IP Protection</a> and save 65%.'}E+='<div style="margin:5px 0 15px">Changing IP Protection requires logging out and back into Mpc to complete.</div>';E+="</div>";E+='<div class="pinstripe twrap" style="width:485px;padding:6px 10px 10px">';E+='<table style="width:100%">';E+="<tr>";E+='<td style="text-align:left><span class="prompt">Enter token or <a href="http://masspagecreator.com/links.php?go=bseo" target="_blank">get a token</a></span></td>';E+='<td style="text-align:right"><label for="cbShowhideUT">Show</label></td>';E+='<td style="width:8px"><input type="checkbox" id="cbShowhideUT" onchange="MpcEditor.cbShowhideClickUT()"></td>';E+="</tr>";E+="<tr>";E+='<td colspan="3"><input type="password" id="utube_apikey" class="pinkinp"></td>';E+="</tr>";E+="</table>";E+="</div>";E+='<div style="position:relative;margin:15px 15px 0 0;">';E+='<div id="ttlbusy" class="busycss" style="position:absolute;top:0;right:2px"></div>';E+='<table style="white-space:nowrap">';E+="<tr>";E+='<td style="text-align:left;width:70px">';E+='<button class="sexybutton allbtns" title="Save and validate token"';E+='onclick="MpcEditor.acceptTK();return false;" disabled="disabled">';E+='<span><span><span class="accept">Accept</span></span></span>';E+="</button>&nbsp;&nbsp;";E+='<td style="text-align:left;width:70px">';E+='<button class="sexybutton allbtns" title="Test without saving token"';E+='onclick="MpcEditor.testTK();return false;" disabled="disabled">';E+='<span><span><span class="lightning">Test</span></span></span>';E+="</button>&nbsp;&nbsp;";E+="</td>";E+='<td style="text-align:left;width:70px">';E+='<button class="sexybutton allbtns" title="Close and return to shortcode dialog"';E+='onclick="MpcEditor.closeTK();return false;" disabled="disabled">';E+='<span><span><span class="cancel">Close</span></span></span>';E+="</button>&nbsp;&nbsp;&nbsp;";E+="</td>";E+="</tr>";E+="</table>";E+='<div class="dia-status" style="position:absolute;bottom:3px;right:0;"></div>';E+="</div>";E+="</div>";Shadowbox.open({content:E,title:"Input bSeolized IPGrabber token",player:"html",handleOversize:"none",height:192,width:537,options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,onMyClose:an.closeTK,animate:an.php.bAnimate,animateFade:0,onFinish:at}})};function at(){an.doAjax64("../ajax.php","y33G58XX9",true,{},function(aS){try{rj=jQuery.parseJSON(aS)}catch(E){alert("JSON error: ini token. \n"+aS)}switch(rj.status){case"ok":jQuery("#utube_apikey").val(rj.token);break;case"nofile":case"badtoken":break}jQuery(".allbtns").prop("disabled",false);e("ttlbusy")})}an.acceptTK=function(){var aS=jQuery("#utube_apikey");var E=aS.val();E=E.trim();if(E==""){A("pink","Token is required");aS.toggleClass("warnn",true);return}jQuery(".allbtns").prop("disabled",true);v("ttlbusy");an.doAjax64("../ajax.php","y33x56XAx",true,{token:E},function(aU){try{rj=jQuery.parseJSON(aU)}catch(aT){alert("JSON error: acc ipg. \n"+aU)}switch(rj.status){case"ok":e("ttlbusy");A("lightgreen","Token verified and saved");break;case"invalid":jQuery("#utube_apikey").toggleClass("warnn",true);e("ttlbusy");A("pink","Wrong or expired token");break}jQuery(".allbtns").prop("disabled",false);e("ttlbusy")})};an.testTK=function(){var aS=jQuery("#utube_apikey");var E=aS.val();E=E.trim();if(E==""){A("pink","Token is required");aS.toggleClass("warnn",true);return}jQuery(".allbtns").prop("disabled",true);v("ttlbusy");an.doAjax64("../ajax.php","yX3350Xaa",true,{token:E},function(aT){if(aT=="ok"){A("lightgreen","Token is valid")}else{A("pink","Wrong or expired token")}jQuery(".allbtns").prop("disabled",false);e("ttlbusy")})};an.closeTK=function(){Shadowbox.close(true);setTimeout(function(){MpcEditor.diaA51()},10)};an.diaYelp=function(){var E="";E+='<div class="dia-content noselect" style="padding:15px 0 0 15px" onmousedown="MpcEditor.hideDiaStatusPink();return true;">';E+='<div class="pinstripe twrap" style="width:485px;padding:6px 10px 10px">';E+='<table style="width:100%">';E+="<tr>";E+='<td style="text-align:left><span class="prompt">Enter API keys or <a href="http://masspagecreator.com/links.php?go=yelpkey"';E+='target="_blank">get the API keys</a></span></td>';E+='<td style="text-align:right"><label for="cbShowhideYELP">Show</label></td>';E+='<td style="width:8px"><input type="checkbox" id="cbShowhideYELP" onchange="MpcEditor.cbShowhideClickYELP()"></td>';E+="</tr>";E+='<tr><td colspan="3" style="text-align:left"><div class="lab11">Consumer Key</div></td></tr>';E+='<tr><td colspan="3"><input type="password" id="yelp_ck" class="pinkinp yelp_keys"></td></tr>';E+='<tr><td colspan="3" style="text-align:left"><div class="lab11">Consumer Secret</div></td></tr>';E+='<tr><td colspan="3"><input type="password" id="yelp_cs" class="pinkinp yelp_keys"></td></tr>';E+='<tr><td colspan="3" style="text-align:left"><div class="lab11">Token</div></td></tr>';E+='<tr><td colspan="3"><input type="password" id="yelp_tk" class="pinkinp yelp_keys"></td></tr>';E+='<tr><td colspan="3" style="text-align:left"><div class="lab11">Token Secret</div></td></tr>';E+='<tr><td colspan="3"><input type="password" id="yelp_ts" class="pinkinp yelp_keys"></td></tr>';E+="</table>";E+="</div>";E+='<div class="pinstripe twrap" style="width:485px;margin:15px 0 0 0;padding:6px 10px 10px">';E+='<table style="width:100%">';E+="<tr>";E+='<td colspan="5" style="text-align:left><span class="prompt">Location (minimum 1 box required. use words or #vars#)</span></td>';E+="</tr>";E+="<tr>";E+='<td style="width:273px;text-align:left"><div class="lab11">City</div></td>';E+='<td style="width:9px"><div style="width:9px"></div></td>';E+='<td style="width:125px;text-align:left"><div class="lab11">State</div></td>';E+='<td style="width:9px"><div style="width:9px"></div></td>';E+='<td style="width:54px;text-align:left"><div class="lab11">Zip</div></td>';E+="</tr>";E+="<tr>";E+='<td><input type="text" id="yelp_city" class="pinkinp"></td>';E+='<td style="width:9px"><div style="width:9px"></div></td>';E+='<td><input type="text" id="yelp_state" class="pinkinp"></td>';E+='<td style="width:9px"><div style="width:9px"></div></td>';E+='<td><input type="text" id="yelp_zip" class="pinkinp"></td>';E+="</tr>";E+="</table>";E+="</div>";E+='<div class="pinstripe twrap" style="width:485px;margin:15px 0 0 0;padding:6px 10px 10px">';E+='<table style="width:100%">';E+="<tr>";E+='<td colspan="3" style="text-align:left><span class="prompt">Options</span></td>';E+="</tr>";E+="<tr>";E+='<td style="width:415px;text-align:left"><div class="lab11">Search Term (words or #vars#)</div></td>';E+='<td style="width:9px"><div style="width:9px"></div></td>';E+='<td style="width:54px;text-align:left"><div class="lab11">Limit</div></td>';E+="</tr>";E+="<tr>";E+='<td><input type="text" id="yelp_term" class="pinkinp"></td>';E+='<td style="width:9px"><div style="width:9px"></div></td>';E+='<td style="text-align:left"><select id="yelp_limit" class="wgselect" size="1">';for(x=1;x<5;x++){E+='<option value="'+x+'">'+x+"</option>"}E+='<option value="5" selected>5</option>';for(x=6;x<11;x++){E+='<option value="'+x+'">'+x+"</option>"}E+="</select>";E+="</td>";E+="</tr>";E+="</table>";E+="</div>";E+='<div style="position:relative;margin:25px 15px 0 0;">';E+='<div id="ttlbusy" class="busycss" style="position:absolute;top:0;right:2px"></div>';E+='<table style="white-space:nowrap">';E+="<tr>";E+='<td style="text-align:left;width:70px">';E+='<button class="sexybutton allbtns" title="Create shortcode and save settings"';E+='onclick="MpcEditor.acceptShortYELP(\'1\');return false;" disabled="disabled">';E+='<span><span><span class="accept">Accept</span></span></span>';E+="</button>&nbsp;&nbsp;&nbsp;";E+="</td>";E+='<td style="text-align:left;width:70px">';E+='<button class="sexybutton allbtns" title="Validate Api key"';E+='onclick="MpcEditor.testApiYELP();return false;" disabled="disabled">';E+='<span><span><span class="lightning">Test Api Keys</span></span></span>';E+="</button>&nbsp;&nbsp;&nbsp;";E+="</td>";E+='<td style="text-align:left;width:70px">';E+='<button class="sexybutton allbtns" title="Save settings without creating shortcode"';E+='onclick="MpcEditor.acceptShortYELP(\'0\');return false;" disabled="disabled">';E+='<span><span><span class="save">Save Settings</span></span></span>';E+="</button>";E+="</td>";E+="</tr>";E+="</table>";E+='<div id="diastat" class="dia-status" style="position:absolute;top:-22px;left:0;"></div>';E+="</div>";E+="</div>";Shadowbox.open({content:E,title:"Yelp Listing shortcode",player:"html",handleOversize:"none",height:489,width:537,options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,animate:an.php.bAnimate,animateFade:0,onFinish:H}})};function H(){an.doAjax64("../ajax.php","ajax_readYelpSettings",true,{},function(E){j=jQuery.parseJSON(E);jQuery("#yelp_ck").val(j.ck);jQuery("#yelp_cs").val(j.cs);jQuery("#yelp_tk").val(j.tk);jQuery("#yelp_ts").val(j.ts);jQuery("#yelp_city").val(j.city);jQuery("#yelp_state").val(j.state);jQuery("#yelp_zip").val(j.zip);jQuery("#yelp_term").val(j.term);jQuery("#yelp_limit").val(j.limit);jQuery(".allbtns").prop("disabled",false);e("ttlbusy")})}an.acceptShortYELP=function(a5){var a7=jQuery("#yelp_ck");var a2=jQuery("#yelp_cs");var aZ=jQuery("#yelp_tk");var aW=jQuery("#yelp_ts");var aV=jQuery("#yelp_city");var bc=jQuery("#yelp_state");var aY=jQuery("#yelp_zip");var aS=jQuery("#yelp_term");var a1=jQuery("#yelp_limit");var a0=a7.val().trim();var aX=a2.val().trim();var aU=aZ.val().trim();var E=aW.val().trim();var ba=aV.val().trim();var a4=bc.val().trim();var a8=aY.val().trim();var a6=aS.val().trim();var aT=a1.val().trim();if(a0==""){A("pink","Consumer Key is required");a7.toggleClass("warnn",true);return}if(aX==""){A("pink","Consumer Secret is required");a2.toggleClass("warnn",true);return}if(aU==""){A("pink","Token is required");aZ.toggleClass("warnn",true);return}if(E==""){A("pink","Token Secret is required");aW.toggleClass("warnn",true);return}if(a5==1){if((ba=="")&&(a4=="")&&(a8=="")){A("pink","Location requires at least 1 entry");aV.toggleClass("warnn",true);bc.toggleClass("warnn",true);aY.toggleClass("warnn",true);return}if(a6==""){A("pink","Search Term is required");aS.toggleClass("warnn",true);return}}jQuery(".allbtns").prop("disabled",true);jQuery("#ttlbusy").css("visibility","visible");if(a5==1){var a9={};if(ba!=""){a9.city=ba}if(a4!=""){a9.state=a4}if(a8!=""){a9.zip=a8}if(a6!=""){a9.term=a6}a9.limit=aT;jstr=JSON.stringify(a9);var a3="[mpc-shortcode: yelp "+jstr+"]";if(an.oEditor.mode=="source"){o(a3)}else{an.oEditor.insertHtml(a3)}}var bb={ck:a0,cs:aX,tk:aU,ts:E,city:ba,state:a4,zip:a8,term:a6,limit:aT};jstr=JSON.stringify(bb);an.doAjax64("../ajax.php","ajax_writeYelpSettings",true,{parm_ajax:jstr},function(bd){if(a5==1){A("lightgreen","Shortcode created and Settings saved")}else{A("lightgreen","Settings saved")}jQuery(".allbtns").prop("disabled",false);jQuery("#ttlbusy").css("visibility","hidden")})};an.testApiYELP=function(){var aS=jQuery("#yelp_ck").val().trim();var aU=jQuery("#yelp_cs").val().trim();var aT=jQuery("#yelp_tk").val().trim();var aV=jQuery("#yelp_ts").val().trim();jQuery("#yelp_ck").val(aS);jQuery("#yelp_cs").val(aU);jQuery("#yelp_tk").val(aT);jQuery("#yelp_ts").val(aV);if((aS=="")||(aU=="")||(aT=="")||(aV=="")){A("gold","All four Api keys required");return}jQuery(".allbtns").prop("disabled",true);jQuery("#ttlbusy").css("visibility","visible");var E="city=&state=&zip=94087&term=lunch&limit=1&ck="+aS+"&cs="+aU+"&tk="+aT+"&ts="+aV;an.doAjax64("../ajax.php","ajax_testYelpApi",true,{qdata:E},function(aY){var aW=jQuery.parseJSON(aY);if(aW.businesses){A("lightgreen","API keys are valid")}else{var aX="Api keys not valid";if(aW.error){aX=aW.error.text}A("pink",aX)}jQuery(".allbtns").prop("disabled",false);jQuery("#ttlbusy").css("visibility","hidden")})};an.cbShowhideClickYELP=function(){if(jQuery("#cbShowhideYELP").prop("checked")){var aS="text";var aT="black"}else{var aS="password";var aT="#c4c4c4"}var E=jQuery(".yelp_keys");E.prop("type",aS);E.css("color",aT)};an.diaYouTube=function(){var E="";E+='<div class="dia-content noselect" style="padding:15px 0 0 15px" onmousedown="MpcEditor.hideDiaStatusPink();return true;">';E+='<div class="pinstripe twrap" style="width:485px;padding:6px 10px 10px">';E+='<table style="width:100%">';E+="<tr>";E+='<td style="text-align:left><span class="prompt">Enter API key or <a href="http://masspagecreator.com/links.php?go=utkey" target="_blank">Get an API key</a></span></td>';E+='<td style="text-align:right"><label for="cbShowhideUT">Show</label></td>';E+='<td style="width:8px"><input type="checkbox" id="cbShowhideUT" onchange="MpcEditor.cbShowhideClickUT()"></td>';E+="</tr>";E+="<tr>";E+='<td colspan="3"><input type="password" id="utube_apikey" class="pinkinp"></td>';E+="</tr>";E+="</table>";E+="</div>";E+='<div class="pinstripe twrap" style="width:485px;margin:15px 0 0 0;padding:6px 10px 10px">';E+='<table style="width:100%">';E+="<tr>";E+='<td style="text-align:left><span class="prompt">Channel ID (leave blank for random)</span></td>';E+="</tr>";E+="<tr>";E+='<td><input type="text" id="utube_channel"></td>';E+="</tr>";E+="</table>";E+="</div>";E+='<div class="pinstripe twrap" style="width:485px;margin:15px 0 0 0;padding:6px 10px 10px">';E+='<table style="width:100%">';E+="<tr>";E+='<td style="text-align:left><span class="prompt">Keywords (words or #vars#)</span></td>';E+="</tr>";E+="<tr>";E+='<td><input type="text" id="utube_keywords" class="pinkinp"></td>';E+="</tr>";E+="</table>";E+="</div>";E+='<div class="pinstripe twrap" style="width:485px;margin:15px 0 0 0;padding:6px 10px 10px">';E+='<table style="width:100%;white-space:nowrap">';E+="<tr>";E+='<td colspan="6"><span class="prompt">Video and Box Options</span></td>';E+='<td style="text-align:right"><span class="prompt"><a href="#" onclick="MpcEditor.utDefaults()">Set Defaults</a></span></td>';E+="</tr>";E+='<tr><td colspan="7"><div style="height:4px"></div></td></tr>';E+="<tr>";E+='<td style="width:30px"><div class="doff tdadd_left selok mg2" style="width:30px" title=""';E+="onmouseover=\"MpcEditor.togOver('idNo0');return false;\" onmouseout=\"MpcEditor.togOut('idNo0');return false;\"";E+='onclick="MpcEditor.ynClicked(\'0\');return false;" id="idYes0">Yes</div></td>';E+='<td style="width:30px"><div class="don tdadd_right selok mg2 fsel" style="width:30px" title=""';E+="onmouseover=\"MpcEditor.togOver('idYes0');return false;\" onmouseout=\"MpcEditor.togOut('idYes0');return false;\"";E+='onclick="MpcEditor.ynClicked(\'0\');return false;" id="idNo0">No</div></td>';E+="<td>&nbsp;Auto Play</td>";E+='<td style="width:30px"><div style="width:30px"></div></td>';E+='<td colspan="3">';E+="<table>";E+="<tr>";E+='<td style="width:40px"><div class="doff tdadd_left selok mg2" style="width:40px;padding:4px 2px" title=""';E+="onmouseover=\"MpcEditor.togOver('idW');return false;\" onmouseout=\"MpcEditor.togOut('idW');return false;\"";E+='onclick="MpcEditor.wbnClicked(\'0\');return false;" id="idW">White</div></td>';E+='<td style="width:40px"><div class="doff tdadd_center selok mg2 fsel" style="width:40px;padding:4px 2px 4px 2px" title=""';E+="onmouseover=\"MpcEditor.togOver('idB');return false;\" onmouseout=\"MpcEditor.togOut('idB');return false;\"";E+='onclick="MpcEditor.wbnClicked(\'1\');return false;" id="idB">Black</div></td>';E+='<td style="width:40px"><div class="don tdadd_right selok mg2" style="width:40px;padding:4px 2px" title=""';E+="onmouseover=\"MpcEditor.togOver('idN');return false;\" onmouseout=\"MpcEditor.togOut('idN');return false;\"";E+='onclick="MpcEditor.wbnClicked(\'2\');return false;" id="idN">None</div></td>';E+='<td style="width:320px;text-align:left">&nbspBackground Color</td>';E+="</tr>";E+="</table>";E+="</td>";E+="</tr>";E+="<tr>";E+='<td style="width:30px"><div class="doff tdadd_left selok mg2" style="width:30px" title=""';E+="onmouseover=\"MpcEditor.togOver('idNo1');return false;\" onmouseout=\"MpcEditor.togOut('idNo1');return false;\"";E+='onclick="MpcEditor.ynClicked(\'1\');return false;" id="idYes1">Yes</div></td>';E+='<td style="width:30px"><div class="don tdadd_right selok mg2 fsel" style="width:30px" title=""';E+="onmouseover=\"MpcEditor.togOver('idYes1');return false;\" onmouseout=\"MpcEditor.togOut('idYes1');return false;\"";E+='onclick="MpcEditor.ynClicked(\'1\');return false;" id="idNo1">No</div></td>';E+="<td>&nbsp;Loop Forever</td>";E+="<td></td>";E+='<td colspan="3">';E+='<table style="white-space:nowrap"><tr>';E+='<td><input id="utube_width" class="pinkinp" type="text" value="" ></td>';E+='<td style="width:20px"><div class="doff tdadd_left selok mg2" style="width:20px" title=""';E+="onmouseover=\"MpcEditor.togOver('idNo3');return false;\" onmouseout=\"MpcEditor.togOut('idNo3');return false;\"";E+='onclick="MpcEditor.ynClicked(\'3\');return false;" id="idYes3">%</div></td>';E+='<td style="width:20px"><div class="don tdadd_right selok mg2 fsel" style="width:20px" title=""';E+="onmouseover=\"MpcEditor.togOver('idYes3');return false;\" onmouseout=\"MpcEditor.togOut('idYes3');return false;\"";E+='onclick="MpcEditor.ynClicked(\'3\');return false;" id="idNo3">px</div></td>';E+="<td>&nbspWidth</td>";E+="</tr></table>";E+="</td>";E+="</tr>";E+="<tr>";E+='<td style="width:30px"><div class="doff tdadd_left selok mg2" style="width:30px" title=""';E+="onmouseover=\"MpcEditor.togOver('idNo2');return false;\" onmouseout=\"MpcEditor.togOut('idNo2');return false;\"";E+='onclick="MpcEditor.ynClicked(\'2\');return false;" id="idYes2">Yes</div></td>';E+='<td style="width:30px"><div class="don tdadd_right selok mg2 fsel" style="width:30px" title=""';E+="onmouseover=\"MpcEditor.togOver('idYes2');return false;\" onmouseout=\"MpcEditor.togOut('idYes2');return false;\"";E+='onclick="MpcEditor.ynClicked(\'2\');return false;" id="idNo2">No</div></td>';E+="<td>&nbsp;Allow Fullscreen</td>";E+="<td></td>";E+='<td colspan="3">';E+='<table style="white-space:nowrap"><tr>';E+='<td><input id="utube_height" class="pinkinp" type="text" value="" ></td>';E+='<td style="width:20px"><div class="doff tdadd_left selok mg2" style="width:20px" title=""';E+="onmouseover=\"MpcEditor.togOver('idNo4');return false;\" onmouseout=\"MpcEditor.togOut('idNo4');return false;\"";E+='onclick="MpcEditor.ynClicked(\'4\');return false;" id="idYes4">%</div></td>';E+='<td style="width:20px"><div class="don tdadd_right selok mg2 fsel" style="width:20px" title=""';E+="onmouseover=\"MpcEditor.togOver('idYes4');return false;\" onmouseout=\"MpcEditor.togOut('idYes4');return false;\"";E+='onclick="MpcEditor.ynClicked(\'4\');return false;" id="idNo4">px</div></td>';E+="<td>&nbspHeight&nbsp;</td>";E+='<td style="text-align:right">';E+='<div id="ratio"><a href="#" onclick="MpcEditor.setWide()">16:9</a> | <a href="#" onclick="MpcEditor.setFull()">4:3</a></div>';E+="</td>";E+="</tr></table>";E+="</td>";E+="</tr>";E+="</table>";E+="</div>";E+='<div style="position:relative;margin:25px 15px 0 0;">';E+='<div id="ttlbusy" class="busycss" style="position:absolute;top:0;right:2px"></div>';E+='<table style="white-space:nowrap">';E+="<tr>";E+='<td style="text-align:left;width:70px">';E+='<button class="sexybutton allbtns" title="Create shortcode and save settings"';E+='onclick="MpcEditor.acceptShortUT(\'1\');return false;" disabled="disabled">';E+='<span><span><span class="accept">Accept</span></span></span>';E+="</button>&nbsp;&nbsp;&nbsp;";E+="</td>";E+='<td style="text-align:left;width:70px">';E+='<button class="sexybutton allbtns" title="Validate Api key"';E+='onclick="MpcEditor.testApi();return false;" disabled="disabled">';E+='<span><span><span class="lightning">Test Api Key</span></span></span>';E+="</button>&nbsp;&nbsp;&nbsp;";E+="</td>";E+='<td style="text-align:left;width:70px">';E+='<button class="sexybutton allbtns" title="Save settings without creating shortcode"';E+='onclick="MpcEditor.acceptShortUT(\'0\');return false;" disabled="disabled">';E+='<span><span><span class="save">Save Settings</span></span></span>';E+="</button>";E+="</td>";E+="</tr>";E+="</table>";E+='<div id="diastat" class="dia-status" style="position:absolute;top:-22px;left:0;"></div>';E+="</div>";E+="</div>";Shadowbox.open({content:E,title:"YouTube Video shortcode",player:"html",handleOversize:"none",height:436,width:537,options:{loadingColor:an.php.thm_sbload,bodyColor:an.php.thm_sbbody,animate:an.php.bAnimate,animateFade:0,onFinish:ah}})};function ah(){an.doAjax64("../ajax.php","yD0B23XF3",true,{},function(E){j=jQuery.parseJSON(E);jQuery("#utube_apikey").val(j.api);jQuery("#utube_channel").val(j.chan);jQuery("#utube_keywords").val(j.keyw);jQuery("#utube_width").val(j.w);jQuery("#utube_height").val(j.h);jQuery("#idW").toggleClass("fsel",(j.bg==0));jQuery("#idB").toggleClass("fsel",(j.bg==1));jQuery("#idN").toggleClass("fsel",(j.bg==2));jQuery("#idYes0").toggleClass("fsel",(j.auto==1));jQuery("#idNo0").toggleClass("fsel",(j.auto==0));jQuery("#idYes1").toggleClass("fsel",(j.loop==1));jQuery("#idNo1").toggleClass("fsel",(j.loop==0));jQuery("#idYes2").toggleClass("fsel",(j.full==1));jQuery("#idNo2").toggleClass("fsel",(j.full==0));jQuery("#idYes3").toggleClass("fsel",(j.wp==1));jQuery("#idNo3").toggleClass("fsel",(j.wp==0));jQuery("#idYes4").toggleClass("fsel",(j.hp==1));jQuery("#idNo4").toggleClass("fsel",(j.hp==0));p();jQuery(".allbtns").prop("disabled",false);e("ttlbusy")})}an.utDefaults=function(){var E;for(E=0;E<5;E++){jQuery("#idYes"+E).toggleClass("fsel",false);jQuery("#idNo"+E).toggleClass("fsel",true)}jQuery("#idW").toggleClass("fsel",false);jQuery("#idB").toggleClass("fsel",true);jQuery("#idN").toggleClass("fsel",false);jQuery("#utube_width").val("420");jQuery("#utube_height").val("315");p()};an.setWide=function(){var E=jQuery("#utube_width").val();var aS=Math.floor((E*9)/16);jQuery("#utube_height").val(aS)};an.setFull=function(){var E=jQuery("#utube_width").val();var aS=Math.floor((E*3)/4);jQuery("#utube_height").val(aS)};an.acceptShortUT=function(a5){var a2=jQuery("#utube_apikey");var a1=jQuery("#utube_channel");var E=jQuery("#utube_keywords");var a6=jQuery("#utube_width");var aY=jQuery("#utube_height");var a0=a2.val().trim();var aU=a1.val().trim();var a4=E.val().trim();var aX=a6.val();var aS=aY.val();if(a0==""){A("pink","API key is required");a2.toggleClass("warnn",true);return}if((a4=="")&&(a5==1)){A("pink","Keywords are required");E.toggleClass("warnn",true);return}if(aX==""){A("pink","Width required");a6.toggleClass("warnn",true);return}if(aS==""){A("pink","Height required");aY.toggleClass("warnn",true);return}var aT=x1=x2=x3=x4=0;if(jQuery("#idYes3").hasClass("fsel")){x3=1}if(jQuery("#idYes4").hasClass("fsel")){x4=1}if((x3==1)&&(aX>100)){A("pink","Percentage over 100");a6.toggleClass("warnn",true);return}if((x4==1)&&(aS>100)){A("pink","Percentage over 100");aY.toggleClass("warnn",true);return}jQuery(".allbtns").prop("disabled",true);v("ttlbusy");var aW="2";if(jQuery("#idW").hasClass("fsel")){aW="0"}if(jQuery("#idB").hasClass("fsel")){aW="1"}if(jQuery("#idYes0").hasClass("fsel")){aT=1}if(jQuery("#idYes1").hasClass("fsel")){x1=1}if(jQuery("#idYes2").hasClass("fsel")){x2=1}if(a5==1){var aZ={};aZ.h=aS;aZ.w=aX;if(x3==1){aZ.wp=1}if(x4==1){aZ.hp=1}if(aW==0){aZ.bg=0}if(aW==1){aZ.bg=1}aZ.keyw=a4;if(aU!=""){aZ.chan=aU}if(aT==1){aZ.auto=1}if(x1==1){aZ.loop=1}if(x2==1){aZ.full=1}jstr=JSON.stringify(aZ);var a3="[mpc-shortcode: youtube "+jstr+"]";if(an.oEditor.mode=="source"){o(a3)}else{an.oEditor.insertHtml(a3)}}var aV={api:a0,chan:aU,keyw:a4,w:aX,h:aS,bg:aW,auto:aT,loop:x1,full:x2,wp:x3,hp:x4};jstr=JSON.stringify(aV);an.doAjax64("../ajax.php","yD0116XdG",true,{parm_ajax:jstr},function(a7){if(a5==1){A("lightgreen","Shortcode created and Settings saved")}else{A("lightgreen","Settings saved")}jQuery(".allbtns").prop("disabled",false);e("ttlbusy")})};an.testApi=function(){var E=jQuery("#utube_apikey");var aS=E.val().trim();if(aS==""){A("pink","API key is required");E.toggleClass("warnn",true);return}jQuery(".allbtns").prop("disabled",true);v("ttlbusy");an.doAjax64("../ajax.php","ya5e18X1c",true,{api_ajax:aS,keyw_ajax:"funny cats",savefile:false},function(aT){rj=jQuery.parseJSON(aT);if(rj.stat=="ok"){A("lightgreen","API key is valid")}else{A("pink","API Key is disabled or invalid")}jQuery(".allbtns").prop("disabled",false);e("ttlbusy")})};aL.MpcEditor=an})(window);
var mpc_full;var bluew;var anim_block=0;var anim_block1=0;jQuery(document).ready(function(){$(function(){$(".wwcbox").click(function(){var h=this.id.charAt(0);var g=$("."+h+"_tbox");if($("#"+this.id).prop("checked")){g.toggleClass("textnowrap",false);g.toggleClass("textwrap",true)}else{g.toggleClass("textwrap",false);g.toggleClass("textnowrap",true)}})});$(function(){$(":input").change(function(){MpcCpanel.saveSnap(this.id);MpcCpanel.statBtnEmpty()})});$(function(){$(".lab").keyup(function(){if(this.value.match(/[^a-zA-Z0-9_]/g)){this.value=this.value.replace(/[^a-zA-Z0-9_]/g,"")}if(this.value.length>12){this.value=this.value.substring(0,12)}obj=$("#"+this.name+"x");obj.html(12-this.value.length);$("#"+this.name+"x").css("color","#000000")})});$(function(){$(".lab").keydown(function(h){var g=h.keyCode?h.keyCode:h.which;if(g!=8){if(this.value.length>11){$("#"+this.name+"x").css("color","#ff0000")}}})});$(function(){$(".lab").focusin(function(){obj=$("#"+this.name+"x");obj.html(12-this.value.length);obj.css("visibility","visible")})});$(function(){$(".lab").focusout(function(){$("#"+this.name+"x").css("visibility","hidden");if(this.value.match(/[^a-zA-Z0-9_]/g)){this.value=this.value.replace(/[^a-zA-Z0-9_]/g,"")}if(this.value.length>12){this.value=this.value.substring(0,12)}if(this.value.match(/^(var|path)\d+$/i)){var g=this.id.substr(2);MpcCpanel.messageBoxEX("ERR:"+g+" Custom Name error",'"Path#" and "Var#" cannot be used as custom names.',"center",115,440);$("#"+this.id).val("")}})});var c=$(window).height();if(c<615){c=615}c-=249;c=c/3;$(".parmbox textarea").css("height",c);$(function(){$(window).resize(function(){var k=$(window).height();var g=($("#outlineS").css("display")=="none");var i=($("#outlineP").css("display")=="none");var l=($("#outlineV").css("display")=="none");if(g||i||l){k-=mpc_full;if(!g){$("#taSource").css("height",k)}else{if(!i){$(".parmbox_p textarea").css("height",k)}else{$(".parmbox_v textarea").css("height",k)}}}else{if(k<615){k=615}k-=249;k=k/3;$(".parmbox textarea").css("height",k)}})});var a=0;$(function(){$(".pbtn").mousedown(function(){a=this.id})});$(function(){$(".pbtn").mouseup(function(){if(a==0){return}var k=a;var h=this.id;a=0;if(k==h){MpcCpanel.switchPageStat(h);return}var g=Number(k.substr(k.length-1));var i=Number(h.substr(h.length-1));var l;l=$("#taPath"+g).val();lab=$("#txPath"+g).val();if(i>g){for(x=g;x<i;x++){$("#taPath"+x).val($("#taPath"+(x+1)).val());MpcCpanel.saveSnap("taPath"+x);$("#txPath"+x).val($("#txPath"+(x+1)).val());MpcCpanel.saveSnap("txPath"+x)}}if(i<g){for(x=g;x>i;x--){$("#taPath"+x).val($("#taPath"+(x-1)).val());MpcCpanel.saveSnap("taPath"+x);$("#txPath"+x).val($("#txPath"+(x-1)).val());MpcCpanel.saveSnap("txPath"+x)}}$("#taPath"+i).val(l);MpcCpanel.saveSnap("taPath"+i);$("#txPath"+i).val(lab);MpcCpanel.saveSnap("txPath"+i);MpcCpanel.switchPageStat(h)})});var e=0;$(function(){$(".vbtn").mousedown(function(){e=this.id})});$(function(){$(".vbtn").mouseup(function(){if(e==0){return}var k=e;var h=this.id;mvpdown=0;if(k==h){MpcCpanel.switchPageStat(h);return}var g=Number(k.substr(k.length-1));var i=Number(h.substr(h.length-1));var l;l=$("#taVar"+g).val();lab=$("#txVar"+g).val();if(i>g){for(x=g;x<i;x++){$("#taVar"+x).val($("#taVar"+(x+1)).val());MpcCpanel.saveSnap("taVar"+x);$("#txVar"+x).val($("#txVar"+(x+1)).val());MpcCpanel.saveSnap("txVar"+x)}}if(i<g){for(x=g;x>i;x--){$("#taVar"+x).val($("#taVar"+(x-1)).val());MpcCpanel.saveSnap("taVar"+x);$("#txVar"+x).val($("#txVar"+(x-1)).val());MpcCpanel.saveSnap("txVar"+x)}}$("#taVar"+i).val(l);MpcCpanel.saveSnap("taVar"+i);$("#txVar"+i).val(lab);MpcCpanel.saveSnap("txVar"+i);MpcCpanel.switchPageStat(h);MpcCpanel.saveSnap()})});fh=$(window).height()-$("#footer").offset().top;mpc_full=116+fh;document.oncontextmenu=function(g){if(g.preventDefault!=undefined){g.preventDefault()}if(g.stopPropagation!=undefined){g.stopPropagation()}return false};var b=(ht_dowp==1)?"menu_Qwp":"menu_Q";if(ht_qetrigger=="double"){if(ht_dowp==1){$("#taSource").contextMenu("menu",menu_Qwp,{triggerOn:"dblclick",horAdjust:6,verAdjust:6})}else{$("#taSource").contextMenu("menu",menu_Q,{triggerOn:"dblclick",horAdjust:6,verAdjust:6})}}else{if(ht_dowp==1){$("#taSource").contextMenu("menu",menu_Qwp,{triggerOn:"click",mouseClick:"left",horAdjust:6,verAdjust:7})}else{$("#taSource").contextMenu("menu",menu_Q,{triggerOn:"click",mouseClick:"left",horAdjust:6,verAdjust:7})}}$(".parmbox_s").contextMenu("menu",menu_S,{triggerOn:"click",mouseClick:"right",horAdjust:6,verAdjust:6});$(".parmbox_p").contextMenu("menu",menu_P,{triggerOn:"click",mouseClick:"right",horAdjust:6,verAdjust:6});$(".parmbox_v").contextMenu("menu",menu_V,{triggerOn:"click",mouseClick:"right",horAdjust:6,verAdjust:6});MpcCpanel.initBoot()});(function(cK,b6){var db={bProjectEmpty:false};var cN=[],dd=null,bb=500,o=0,dK=0,dL=0,R=false,c4=false,bh=true,dc=0,cG=1,bf=1,cd=true;bCloseOk=true;mmClose=false;grabDestAs="",bWebRoot="",bExZip="",assetName="",delName="",prjBaseName="",dynBaseName="",parseN="",parseT="",mem_tstamp="",browse_cmd="",pbarObj=null,lbarObj=null,passObj=null,stopObj=null,dirtyBR=true,dirtyAR=true,dirtyAZ=true,dirtyAT=true,disBR=true,disAR=true,disAZ=true,disAT=true,disBU=true,iPath=-1,iCmp=-1,bPermu=false,bPolling=false,progPass=0,mProgLab="&nbsp;",bProgLabPc=false,mem_qp={},mem_protected_source=0,mem_protected_paths={},mem_protected_vars={},mem_mpcset_chklist="",mem_mpcset_fname="",mem_cf_email="";mem_cf_key="",mem_cf_zone="",mem_restart=false,mem_cfsett_logins={},mem_cfsett_ardoms=[],mem_cfsett_index=0,mem_cfsett_total=0,mem_cfsett_cbox=0,mem_j_bnBH="",mem_j_selHPO="",mem_j_bnCF="",bBuilding=false,buildLst="L",mem_buildLst="L",mem_tab="",mem_cntvu=0,mem_boxvu=[],mem_vfid=-1,vFolder="",theBucket="",mem_bp_first_url="",mem_bp_first_title="",mem_blue_r="",mem_blue_caller="",mem_build_r="",mem_build_caller="",mem_ar_file=[],mem_cf_caller="",mem_settings_caller="",mem_path_first="",mem_path_first_item="",mem_path_first_item_raw="",mem_path_first_count="",mem_writeto="current",mem_s3_wbucket="",mem_s3_region="us-east-1",mem_s3_url_storage="",mem_s3_url_website="",mem_prompt_sv="",mem_timer="",mem_wroot=[],mem_dom="",mem_url="",ar_mem_asu_inp=["tx_srcfileASU","tx_asu_marker1","tx_asu_marker2","asu_kpath"],ar_mem_asu_cbx=["asu_ux","asu_marker1","asu_marker2","asu_kmatch","asu_kwrite"],mem_asu={},ar_mem_asu1_inp=["tx_srcfileASU1","tx_asu1_marker1","tx_asu1_marker2"],ar_mem_asu1_cbx=["asu1_ux","asu1_marker1","asu1_marker2"],mem_asu1={},iUnbuild=0,iBuildHtml=1,iPostSelect=1,aLawSelect="A",rWebRoot=0,iTgz=0,ajaxloc="",ar_cust=[],ar_vadata=[],ar_vapatt=[],ar_vaorig=[],va_idlist="",va_index=0,va_divyn=0,va_arlen=0,va_changed=0;g_ar_s=[],g_ar_w=[],miscglobal="",xmlurlsav="",xmlnamesav="",xmlindexsav="",xmlurlcnt="",xmlwritetosav="current",memsaveas="",memexten=".php",memsaveasG="",memextenG=".php",memsilo="index.php",bAnySilo="false",last_silo_path=0,usStates=[],ar_snapcnt=[],totalcount=0,gtotal=0,ar_gbeg=[],ar_snapstr=[],arCmp=[],ar_pcust=[],ar_pcustlo=[],ar_showPath=[],rangeF="",rangeL="",mem_auto="";bStopButtons=false,globalzz=0;mem_red="normal",mem_bnAll=false;mem_bnNone=false;ar_markers=[],us_mem_cpc=0,us_mem_cpx=0,us_mem_cst=0,us_mem_cci=0,us_mem_cpz="1",us_mem_cbabb=0,us_mem_scr="1",mem_copyfile="copy",mem_srcFname="",arPbox="",lastx=0,traits="",arSiloPaths="",cp={},theme={},settings={},jsettings={},ftpsettings={},tmp_settings={},pxsettings={},px_mem_alist=[],px_mem_alist_length=0,px_mem_alist_pbar=0,px_mem_alist_index=0,px_mem_city_total=0,px_mem_vpx={},pxarray=["itarget","silo","locase","folder","pop","formula","auto"],extProject={},strSource="",treeSelFname="",browseFtype="",mem_grab_dest="webroot",memProjectF="",memWebAssetF="",linkEXP='"https://masspagecreator.com/links.php?go=hasExp" target="_blank"',linkDEMO='"https://masspagecreator.com/links.php?go=hasDemo" target="_blank"',menu_PF=[];db.initBoot=function(){M("v");M("p");M("s");R=(self!=top);ajaxloc=db.php.ajaxloc;usStates.length=50;var dU;for(dU=0;dU<50;dU++){usStates[dU]=0}mem_asu.tx_srcfileASU="";mem_asu.tx_asu_marker1="";mem_asu.tx_asu_marker2="";mem_asu.asu_kpath=0;mem_asu1.tx_srcfileASU1="";mem_asu1.tx_asu1_marker1="";mem_asu1.tx_asu1_marker2="";mem_asu.asu_ux=false;mem_asu.asu_marker1=true;mem_asu.asu_marker2=false;mem_asu.asu_kmatch=true;mem_asu.asu_kwrite=true;mem_asu1.asu1_ux=false;mem_asu1.asu1_marker1=true;mem_asu1.asu1_marker2=false;mem_asu.n123=0;mem_asu1.n123=0;mem_qp.beg=-1;mem_qp.end=-1;mem_qp.path=-1;mem_qp.type="=";function M(d1){var dZ=jQuery("."+d1+"_tbox");var d0=jQuery("#"+d1+"_ww").prop("checked");if(d0){dZ.toggleClass("textnowrap",false);dZ.toggleClass("textwrap",true)}else{dZ.toggleClass("textwrap",false);dZ.toggleClass("textnowrap",true)}}function dX(d0){try{cp=jQuery.parseJSON(d0)}catch(dZ){cj()}c4=((cp.iWlic==1)||R)}function dV(d0){try{ftpsettings=jQuery.parseJSON(d0)}catch(dZ){cj()}}function dY(d0){try{pxsettings=jQuery.parseJSON(d0)}catch(dZ){cj()}}function dW(d3){try{settings=jQuery.parseJSON(d3)}catch(d2){cj()}cY(settings.theme);iBuildHtml=settings.dia_build_html;iTgz=settings.dia_build_tgz;cP("bp1");db.switchPageStat("bv1");bk();var d0="";if(cp.li=="yes"){cw()}else{if(settings.tzone=="gmt"){var d0="GMT";var d1=new Date();var d4=d1.getTimezoneOffset();if(d4!=0){var dZ=(d4<0)?"+":"-";d4/=60;d4=Math.abs(d4);d4=d4.toString();if(d4.length>2){d4=d4.substr(0,2)}d0=dZ+d4}}}c8("aea919XDx",{def_tzone:d0},function(d5){if(d5!="none"){var d6=decodeURIComponent(d5);obj=jQuery.parseJSON(d6);switch(obj.cmd){case"dL":ai();break;case"dU":dC(obj.fname,obj.oldver,obj.newver);break;case"dC":bV();break;case"dP":bv(d6);break;case"dEv":aE(obj.lmsg);break;case"dEx":bm();break;case"dM":cE();break;case"dD":h(d6);break}}})}cp.theFname=db.php.theFname;bp(function(dZ){dX(dZ);a2(dW);if(cp.li=="yes"){br(dV);G(dY)}});menu_PF=[{name:"First line of range",img:db.php.ht_cssloc+"/silk/arrow_top.png",title:"",fun:function(){MpcCpanel.setRangeFirst()}},{name:"Last line of range",img:db.php.ht_cssloc+"/silk/arrow_bottom.png",title:"",fun:function(){MpcCpanel.setRangeLast()}},{name:"Clear all markers",img:db.php.ht_cssloc+"/silk/broom.png",title:"",fun:function(){MpcCpanel.clrMarkers()}}]};function cj(M){Shadowbox.close();aX()}function bX(dX,dW,M){var dV=document.getElementById(dX);dV.focus();if((dW==0)&&(M==0)){dV.scrollTop=0}if(dV.setSelectionRange){dV.setSelectionRange(dW,M)}else{if(dV.createTextRange){var dU=dV.createTextRange();dU.collapse(true);dU.moveEnd("character",M);dU.moveStart("character",dW);dU.select()}}}function aj(M){jQuery("#"+M).toggleClass("busycss",true)}function ca(M){jQuery("#"+M).toggleClass("busycss",false)}function av(M){jQuery("#"+M).hasClass("busycss")}db.sortBoxS=function(){Shadowbox.close();aN("ajax_sortBoxS",{dosort:settings.dosort},function(dU){try{obj=jQuery.parseJSON(dU)}catch(M){return false}if(obj.stat=="ok"){jQuery("#taSource").val(obj.box);bX("taSource",0,0)}})};db.setSrcExten=function(M){aN("ajax_setSrcExten",{ext:M},function(dV){try{obj=jQuery.parseJSON(dV)}catch(dU){return false}if(obj.stat=="ok"){jQuery("#taSource").val(obj.box);bX("taSource",0,0)}})};db.fullWide=function(M){cQ(M);jQuery("#blownp_"+M).css("visibility","visible");aR(M)};function cQ(M){jQuery("#fs_"+M+"1").toggleClass("displaynone",true);jQuery("#fs_"+M+"2").toggleClass("displaynone",true);jQuery("#fs_"+M+"3").toggleClass("displaynone",true)}db.fullScreen=function(dU){switch(dU){case"s":cQ("s");var M=jQuery(cK).height()-mpc_full;jQuery("#taSource").css("height",M);jQuery("#blownp_s").css("visibility","visible");jQuery("#outlineP").css("display","none");jQuery("#outlineV").css("display","none");break;case"p":cQ("p");var M=jQuery(cK).height()-mpc_full;jQuery(".parmbox_p textarea").css("height",M);jQuery("#blownp_p").css("visibility","visible");jQuery("#outlineS").css("display","none");jQuery("#outlineV").css("display","none");aR("p");break;case"v":cQ("v");var M=jQuery(cK).height()-mpc_full;jQuery(".parmbox_v textarea").css("height",M);jQuery("#blownp_v").css("visibility","visible");jQuery("#outlineS").css("display","none");jQuery("#outlineP").css("display","none");aR("v");break}};db.fullEsc=function(dU){var M=$(cK).height();if(M<615){M=615}M-=249;M=M/3;jQuery(".parmbox textarea").css("height",M);jQuery("#fs_"+dU+"1").toggleClass("displaynone",false);jQuery("#fs_"+dU+"2").toggleClass("displaynone",false);jQuery("#fs_"+dU+"3").toggleClass("displaynone",false);jQuery("#blownp_"+dU).css("visibility","hidden");O(dU);if(dU=="s"){jQuery("#outlineP").css("display","block");jQuery("#outlineV").css("display","block")}else{if(dU=="p"){jQuery("#outlineS").css("display","block");jQuery("#outlineV").css("display","block")}else{jQuery("#outlineS").css("display","block");jQuery("#outlineP").css("display","block")}}};db.blowNextPage=function(M){db.switchNextPage(M);aR(M.charAt(1))};db.blowPrevPage=function(M){db.switchPrevPage(M);aR(M.charAt(1))};function aR(dU){if(dU=="s"){return}var dV;if(dU=="p"){var M=jQuery("#blowcust_p");dV=jQuery("#txPath"+cG).val();if(dV==""){dV="Path"+cG}M.html(dV);M.css("visibility","visible")}if(dU=="v"){var M=jQuery("#blowcust_v");dV=jQuery("#txVar"+bf).val();if(dV==""){dV="Var"+bf}M.html(dV);M.css("visibility","visible")}}function O(M){if(M!="s"){jQuery("#blowcust_"+M).css("visibility","hidden")}}function b1(dU){var M=dU.trim();M=M.replace(/^(http|https):\/\//i,"");return M}function a6(dU){var M=dU.trim();if(M.search(/^(http|https):\/\//i)==0){return M}return"http://"+M}db.diaRemoveAll=function(dW){var M;var dV;var dU;if(dW=="path"){M="5 Path";dV="Paths";dU="Path"}else{M="9 Var";dV="Vars";dU="Var"}var dX="";dX+='<div class="dia-content">';dX+='<div class="tab_hdr" style="text-align:center">';dX+="Do you really want to clear all "+M+" list boxes?";dX+="</div>";dX+='<div class="centerbtn">';dX+='<button class="sexybutton" onclick="MpcCpanel.submitRmAll(\''+dW+"');return false;\"><span><span>";dX+='<span class="trashcan">Clear All '+dV+"</span></span></span>";dX+="</button>&nbsp;&nbsp;";dX+='<button class="sexybutton" onclick="Shadowbox.close()" title="Cancel operation"><span><span>';dX+='<span class="cancel">Cancel</span></span></span>';dX+="</button>";dX+="</div>";dX+="</div>";Shadowbox.open({content:dX,title:"Confirm "+dU+" removal",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:cI},height:103,width:450})};db.submitRmAll=function(M){setTimeout("Shadowbox.close()",100);af(M);db.statBtnEmpty();return false};function af(dU){var M;switch(dU){case"path":for(var M=1;M<6;M++){jQuery("#taPath"+M).val("");db.saveSnap("taPath"+M);jQuery("#txPath"+M).val("");db.saveSnap("txPath"+M)}jQuery("#taPath"+cG).focus();break;case"var":for(var M=1;M<10;M++){jQuery("#taVar"+M).val("");db.saveSnap("taVar"+M);jQuery("#txVar"+M).val("");db.saveSnap("txVar"+M)}jQuery("#taVar"+bf).focus();break}return false}db.boxRemoveSingle=function(M){switch(M){case"source":jQuery("#taSource").val("");db.saveSnap("taSource");jQuery("#taSource").focus();break;case"path":jQuery("#taPath"+cG).val("");db.saveSnap("taPath"+cG);jQuery("#txPath"+cG).val("");db.saveSnap("txPath"+cG);jQuery("#taPath"+cG).focus();db.statBtnEmpty();break;case"var":jQuery("#taVar"+bf).val("");db.saveSnap("taVar"+bf);jQuery("#txVar"+bf).val("");db.saveSnap("txVar"+bf);jQuery("#taVar"+bf).focus();db.statBtnEmpty();break}return false};function bA(dX){dX+="";var M=dX.split(".");var dW=M[0];var dU=M.length>1?"."+M[1]:"";var dV=/(\d+)(\d{3})/;while(dV.test(dW)){dW=dW.replace(dV,"$1,$2")}return dW+dU}function cC(dU){var M=jQuery(dU).val();M=M.replace(/\n+/g,"\n");M=M.replace(/^[ \n]+/,"");M=M.replace(/[ \n]+$/,"");if(M==""){cN[0]="";return 0}cN=M.split("\n");return cN.length}db.togAsFolders=function(){s=jQuery("#taPath"+cG).val();s=s.trim();s+="\n";len=s.length;if(len==1){return false}p=s.indexOf("\n");setas=(s.charAt(p-1)!="/");if(!setas&&len>3){setas=(s.substr(p-2,2)=="//")}s=s.replace(/\n+/g,"\\n");s=s.replace(/[\/ ]*\\n/g,"\\n");if(setas){s=s.replace(/\\n/g,"/\n")}else{s=s.replace(/\\n/g,"\n")}jQuery("#taPath"+cG).val(s);db.saveSnap("taPath"+cG);return false};db.togAsSilos=function(){s=jQuery("#taPath"+cG).val();s=s.trim();s+="\n";len=s.length;if(len==1){return false}p=s.indexOf("\n");if(len>3){setas=(s.substr(p-2,2)!="//")}else{setas=(s.charAt(p-1)!="/")}s=s.replace(/\n+/g,"\\n");s=s.replace(/[\/ ]*\\n/g,"\\n");if(setas){s=s.replace(/\\n/g,"//\n")}else{s=s.replace(/\\n/g,"\n")}jQuery("#taPath"+cG).val(s);db.saveSnap("taPath"+cG);return false};function ce(dX){var dU=dX.length;if(dU==0){return""}var dW=-1;var dV=-1;var M;for(M=0;M<dU;M++){if(dX.charCodeAt(M)>32){dW=M;break}}if(dW==-1){return""}if(dX.length==1){return dX}for(M=dU-1;M>0;M--){if(dX.charCodeAt(M)>32){dV=M;break}}return dX.substring(dW,dV+1)}function bE(dW){var dU=dW.length;if(dU==0){return""}var dV=-1;var M;for(M=0;M<dU;M++){if(dW.charCodeAt(M)>32){dV=M;break}}if(dV==-1){return""}if(dW.length==1){return dW}return dW.substring(dV)}function bo(dV,dX){var M=(dV=="blueprint")?"ERR:Blueprint error":"ERR:Build error";var dW=dX;var dU=132;switch(dX){case"ut_api":dW='YouTube API key was not found. <a href="http://masspagecreator.com/links.php?go=utapi" target="_blank">More info</a>';dU=117;break;case"yelp_api":dW='Yelp API keys were not found. <a href="http://masspagecreator.com/links.php?go=yelpapi" target="_blank">More info</a>';dU=117;break;case"no_body":dW="Overlay shortcode not finding required &lt;body&gt; tag";dU=117;break}cu(M,dW,"center",dU,500)}db.messageBoxEX=function(M,dX,dV,dW,dU){cu(M,dX,dV,dW,dU)};function cu(dU,dV,d0,dX,d1){var dY=theme.sbbody;var M=theme.sbload;var dW="";if(dU.substr(0,4)=="ERR:"){dU=dU.substr(4);M=theme.sberrBgnd;dY=theme.sberrBgnd;dW="color:"+theme.sberrColor}var dZ="";dZ+='<div class="dia-content" style="text-align:'+d0+";font-size:14px;"+dW+'">';dZ+=dV;dZ+='<div class="centerbtn"><button class="sexybutton" onclick="Shadowbox.close()"><span><span>';dZ+='<span class="accept">Continue</span></span></span></button></div>';dZ+="</div>";Shadowbox.open({content:dZ,title:dU,player:"html",handleOversize:"none",options:{loadingColor:M,bodyColor:dY,animate:settings.anim,onFinish:cI},height:dX-15,width:d1})}function aX(){var M="";M+='<div class="dia-content" style="text-align:center;font-size:14px;color:black">';if(jQuery("#logoutdiv").css("visibility")=="visible"){M+="Multiple sessions found. Mpc needs to restart.";M+='<div class="centerbtn"><button class="sexybutton" onclick="goLogout()"><span><span>';M+='<span class="reload">Restart Mpc</span></span></span></button></div>'}else{M+="Multiple sessions found. Browser needs page reload.";M+='<div class="centerbtn"><button class="sexybutton" onclick="MpcCpanel.doRefresh()"><span><span>';M+='<span class="reload">Reload Page</span></span></span></button></div>'}M+="</div>";Shadowbox.open({content:M,title:"Mpc unable to start",player:"html",handleOversize:"none",options:{loadingColor:"pink",bodyColor:"pink",animate:settings.anim},height:117-15,width:540})}db.messageBoxD=function(){var dU=theme.sberrBgnd;var dV=theme.sberrBgnd;var M="color:"+theme.sberrColor;var dW="";dW+='<div class="dia-content" style="text-align:center;font-size:14px;'+M+'">';dW+="Duplicates were found in Path list boxes.<br />";dW+="Please open the Project utility and click 'Clean Project'.<br />";dW+='<div class="centerbtn"><button class="sexybutton" onclick="Shadowbox.close()"><span><span>';dW+='<span class="accept">Continue</span></span></span></button>';dW+='&nbsp;&nbsp;<button class="sexybutton" onclick="MpcCpanel.return2project()"><span><span>';dW+='<span class="build">Open Project utility</span></span></span></button>';dW+="</div>";dW+="</div>";Shadowbox.open({content:dW,title:"Path duplicates found",player:"html",handleOversize:"none",options:{loadingColor:dU,bodyColor:dV,animate:settings.anim,onFinish:cI},height:117,width:500})};function aS(dU,dV,d0,dX,d1){var dY=theme.sbbody;var M=theme.sbload;var dW="";if(dU.substr(0,4)=="ERR:"){dU=dU.substr(4);M=theme.sberrBgnd;dY=theme.sberrBgnd;dW="color:"+theme.sberrColor}var dZ="";dZ+='<div class="dia-content" style="text-align:'+d0+";font-size:14px;"+dW+'">';dZ+="<p>"+dV+"</p>";dZ+='<div class="centerbtn"><button class="sexybutton" onclick="Shadowbox.close()"><span><span>';dZ+='<span class="accept">Continue</span></span></span></button>';dZ+='&nbsp;&nbsp;<button class="sexybutton" onclick="MpcCpanel.return2build(\'main\')"><span><span>';dZ+='<span class="build">Return to Build</span></span></span></button>';dZ+="</div>";dZ+="</div>";Shadowbox.open({content:dZ,title:dU,player:"html",handleOversize:"none",options:{loadingColor:M,bodyColor:dY,animate:settings.anim,onFinish:cI},height:dX,width:d1})}function aT(dV,dW,d1,dY,d2,M){var dZ=theme.sbbody;var dU=theme.sbload;var dX="";if(dV.substr(0,4)=="ERR:"){dV=dV.substr(4);dU=theme.sberrBgnd;dZ=theme.sberrBgnd;dX="color:"+theme.sberrColor}var d0="";d0+='<div class="dia-content" style="text-align:'+d1+";font-size:14px;"+dX+'">';d0+="<p>"+dW+"</p>";d0+='<div class="centerbtn">';d0+='<button class="sexybutton" onclick="Shadowbox.close()"><span><span>';d0+='<span class="accept">Continue</span></span></span></button>';d0+='&nbsp;&nbsp;<button class="sexybutton" onclick="MpcCpanel.return2build(\'main\')"><span><span>';d0+='<span class="build">Return to Build</span></span></span></button>';d0+="</div>";d0+="</div>";Shadowbox.open({content:d0,title:dV,player:"html",handleOversize:"none",options:{loadingColor:dU,bodyColor:dZ,animate:settings.anim,qmarkTarget:M,onFinish:cI},height:dY,width:d2})}function bn(dW){var dV=document.getElementById(dW);dV.focus();var dU=dV.value;var M=dU.length;if(dV.setSelectionRange){dV.setSelectionRange(M,M)}}function cL(dU){var M=jQuery("#"+dU);M.focus();M.scrollTop(0);return}function ch(){Shadowbox.close()}function bC(M){var dU=jQuery(M).val();dU=dU.trim();dU=dU.replace(/\s*\n\s*/g,"\\n");return dU}function c9(){var dV="";var M;var dU;var dW;for(M=1;M<9;M++){dU=jQuery("#taVar"+M).val();dU=dU.trim();dW=dU.search(/\n/);if(dW!=-1){dU=dU.substr(0,dW)}dV+=encodeURIComponent(dU)+","}dU=jQuery("#taVar9").val();dU=dU.trim();dW=dU.search(/\n/);if(dW!=-1){dU=dU.substr(0,dW)}dV+=encodeURIComponent(dU);return dV}db.toggleSpintax=function(){var dY="";var dU;var dW=jQuery("#taVar"+bf);v=dW.val();v=v.trim();if(v==""){return}if(v.charAt(0)=="{"){var dX=v.length;v=v.substr(1,dX-2);var M=v.split("|");dU=M.length;for(x=0;x<dU;x++){s=M[x].trim();if(s==""){continue}dY+=s+"\n"}dW.val(dY)}else{var dV=v.split("\n");dU=dV.length;dY="{";for(x=0;x<dU-1;x++){s=dV[x].trim();if(s==""){continue}dY+=s+"|"}dY+=dV[x]+"}\n";dW.val(dY)}db.saveSnap("taVar"+bf);return false};db.togOver=function(M){j=jQuery("#"+M);if(!j.hasClass("selok")){return}if(j.hasClass("sb-dis")){return}j.toggleClass("toghover",true)};db.togOut=function(M){jQuery("#"+M).toggleClass("toghover",false)};var dw={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",lookup:null,ie:/MSIE /.test(navigator.userAgent),ieo:/MSIE [67]/.test(navigator.userAgent),encode:function(d0){var dV=dw.toUtf8(d0),dW=-1,dX=dV.length,M,d1,dY,dU=[,,];if(dw.ie){var dZ=[];while(++dW<dX){M=dV[dW];d1=dV[++dW];dU[0]=M>>2;dU[1]=((M&3)<<4)|(d1>>4);if(isNaN(d1)){dU[2]=dU[3]=64}else{dY=dV[++dW];dU[2]=((d1&15)<<2)|(dY>>6);dU[3]=(isNaN(dY))?64:dY&63}dZ.push(dw.alphabet.charAt(dU[0]),dw.alphabet.charAt(dU[1]),dw.alphabet.charAt(dU[2]),dw.alphabet.charAt(dU[3]))}return dZ.join("")}else{var dZ="";while(++dW<dX){M=dV[dW];d1=dV[++dW];dU[0]=M>>2;dU[1]=((M&3)<<4)|(d1>>4);if(isNaN(d1)){dU[2]=dU[3]=64}else{dY=dV[++dW];dU[2]=((d1&15)<<2)|(dY>>6);dU[3]=(isNaN(dY))?64:dY&63}dZ+=dw.alphabet[dU[0]]+dw.alphabet[dU[1]]+dw.alphabet[dU[2]]+dw.alphabet[dU[3]]}return dZ}},toUtf8:function(dX){var dU=-1,M=dX.length,dW,dV=[];if(/^[\x00-\x7f]*$/.test(dX)){while(++dU<M){dV.push(dX.charCodeAt(dU))}}else{while(++dU<M){dW=dX.charCodeAt(dU);if(dW<128){dV.push(dW)}else{if(dW<2048){dV.push((dW>>6)|192,(dW&63)|128)}else{dV.push((dW>>12)|224,((dW>>6)&63)|128,(dW&63)|128)}}}}return dV}};db.saveSnap=function(M){dirtyAR=true;dirtyBR=true;dirtyAZ=true;dirtyAT=true;bB(cp.auxdir+"/projcp.php","aD8e1aXG0",{destid:M,boxdata:bC("#"+M)});return false};db.saveSnapName=function(M){bB(cp.auxdir+"/projcp.php","aD8e1aXG0",{destid:"Name",boxdata:M});return false};function cw(){aN("a9ad1eXdD",{},function(dV){if(dV=="ERR:"){return false}try{obj=jQuery.parseJSON(dV)}catch(dU){return false}db.setProjectBaseName(obj.NAME);dt();db.setDynaBaseName(obj.DYNA);jQuery("#taSource").val(cg(obj.SBOX));cq(aq(obj.SBOX),false);var M;for(M=1;M<6;M++){jQuery("#taPath"+M).val(cg(obj["PBOX"+M]));jQuery("#txPath"+M).val(obj["PLAB"+M])}for(M=1;M<10;M++){jQuery("#taVar"+M).val(cg(obj["VBOX"+M]));jQuery("#txVar"+M).val(obj["VLAB"+M])}cP("bp1");db.switchPageStat("bv1")})}db.formSubmit=function(dW){var dV={};jQuery(dW).find(":input").each(function(dY,dZ){var d0=jQuery(this);if(d0.attr("name")!==b6){dV[d0.attr("name")]=d0.val()}});var dX=document.createElement("form");dX.target=dW.target;dX.method="post";dX.action=dW.action;var M=document.createElement("input");M.type="hidden";M.name="mydata";var dU={"+":"-","/":"_","=":"."};M.value=dw.encode(JSON.stringify(dV)).replace(/[\+\/\=]/g,function(dY){return dU[dY]});dX.appendChild(M);document.body.appendChild(dX);dX.submit()};function bq(dU,M,dV,dW){c8("afcf1cXxf",{},function(dX){var dZ={};var d1=(settings.force_ssl==1)?"https":cp.ssl;var d4=dX.lastIndexOf("\t");var d5=dX.substr(0,d4);dZ.v9=d5.split("\t");dZ.theDomain=cp.theDomain;dZ.theDirname=cp.theDirname;var dY=(dV=="1")?1:settings.init_ed_src;var d2={ver:cp.ver,win1:(cp.win)?1:0,proto:d1,tzone:settings.tzone,thePath:cp.thePath,mpcpath:cp.mpcpath,theAuxDir:cp.auxdir,theDomain:cp.theDomain,theDomainP:cp.theDomainP,theDirname:cp.theDirname,dotdot:cp.dotdot,dowp:settings.dowp,theWebRoot:cp.theWebRoot,are:cp.r,theFname:cp.theFname,theFnameUrl:cp.theFnameUrl,theFnameFld:cp.theFnameFld,FormButton:dU,fileType:M,bAnimate:settings.anim,di:cp.di,eye:cp.i,sxd:(cp.ixd==1)?"true":"false",iraw:dV,treeSelFname:treeSelFname,testing:cp.testing,theTheme:settings.theme,bConfOvr:settings.conf_ovr,init_ed_src:dY,misc:dW,ola:cp.o,cin:cp.c,varNine:JSON.stringify(dZ),jsett:dX.substr(d4+1)};rj=jQuery.parseJSON(d2.jsett);jQuery("#taSource").val(rj.sbox);bX("taSource",0,0);var d0=document.createElement("form");d0.target="_blank";d0.method="post";d0.action=cp.auxdir+"/edit/editor.php";var d6=document.createElement("input");d6.type="hidden";d6.name="edData";var d3={"+":"-","/":"_","=":"."};d6.value=dw.encode(JSON.stringify(d2)).replace(/[\+\/\=]/g,function(d7){return d3[d7]});d0.appendChild(d6);document.body.appendChild(d0);d0.submit()})}db.diaDestruct=function(){var M="";M+='<div class="dia-content" style="padding:15px 15px 0">';M+='<div style="margin:0 0 10px">';M+='This action <span style="color:#c00000;font-weight:bold">PERMANENTLY REMOVES</span> Mpc program files.';M+='<div style="margin:10px 0">';M+="Pages and Sitemaps are left intact. To remove them, UnBuild your Project before using this dialog.";M+="</div>";M+="There are two levels of Mpc removal: Partial and Full.";M+="</div>";M+='<div class="pinstrip twrapz" style="padding:0 10px 10px;text-align:left">';M+='<div style="font-weight:bold;padding:5px 0">Partial Removal</div>';M+="This method leaves assets and runtime files in place. The runtime files allow Vpages, Widgets, and Shortcodes to continue operating.";M+="<br>The Redirect module is <b>not</b> supported.";M+='<div style="margin:8px 0 0">';M+='<button class="sexybutton allbtn" onclick="MpcCpanel.doRemoveBtn(\'some\');return false;"';M+='title="Remove Mpc while leaving Asset and Runtime files in place (pages and sitemaps NOT removed)">';M+='<span><span><span class="trashcan">Partial Removal - Keep Assets and Runtime</span></span></span>';M+="</button>";M+="</div>";M+="</div>";M+='<div class="pinstrip twrapz" style="padding:0 10px 10px;margin:10px 0;text-align:left">';M+='<div style="font-weight:bold;padding:5px 0">Full Removal</div>';M+="This method completely removes <b>all</b> Mpc program files.";M+='<div style="margin:8px 0 0">';M+='<button class="sexybutton allbtn" onclick="MpcCpanel.doRemoveBtn(\'all\');return false;"';M+='title="Completely Remove Mpc (pages and sitemaps NOT removed)">';M+='<span><span><span class="redtrash">Full Removal of Mpc Program Files</span></span></span>';M+="</button>";M+="</div>";M+="</div>";M+='<div style="position:relative">';M+='<div id="ttlbusy" class="" style="position:absolute;top:0;right:2px"></div>';M+='<div id="divcancel" style="position:absolute;top:0;left:13px">';M+='<table style="width:420px">';M+="<tr>";M+='<td style="text-align:left">';M+='<button class="sexybutton" onclick="Shadowbox.close();return false;"';M+='title="Remove entire Mpc folder">';M+='<span><span><span class="cancel">Cancel</span></span></span>';M+="</button>";M+="</td>";M+="</tr>";M+="</table>";M+="</div>";M+='<div id="divyn" style="position:absolute;top:0;left:13px;visibility:hidden">';M+="<table>";M+="<tr>";M+='<td style="text-align:left"><div id="ynprompt" style="margin-right:20px"></div></td>';M+='<td style="text-align:left">';M+='<button id="yesbtn" class="sexybutton yns" onclick="MpcCpanel.doRemove();return false;">';M+='<span><span><span class="accept">Yes</span></span></span>';M+="</button>";M+="&nbsp;&nbsp;";M+='<button class="sexybutton yns" onclick="Shadowbox.close();return false;">';M+='<span><span><span class="cancel">No</span></span></span>';M+="</button>";M+="</td>";M+="</tr>";M+="</table>";M+="</div>";M+="</div>";M+="</div>";Shadowbox.open({content:M,title:"Remove Mpc from Server",player:"html",handleOversize:"none",height:381,width:520,options:{loadingColor:theme.sbload,bodyColor:theme.sbload,qmarkTarget:"rlogout",animate:settings.anim,onFinish:cI}})};db.doRemoveBtn=function(M){miscglobal=M;jQuery(".allbtn").prop("disabled",true);jQuery("#divcancel").css("visibility","hidden");var dU=(M!="all")?"Partially Remove Mpc?":'<span style="color:#C00000;font-weight:bold">Completely Remove Mpc?</span>';jQuery("#ynprompt").html(dU);if(cp.testing==1){jQuery("#yesbtn").prop("disabled",true)}jQuery("#divyn").css("visibility","visible")};db.doRemove=function(){jQuery(".yns").prop("disabled",true);aj("ttlbusy");c8("aebF1dXC9",{parm_ajax:miscglobal},function(M){location.href="http://masspagecreator.com/ck/msgpage.php?msg=removed_"+M;return false});return false};function n(dX,dU,dY,dV){var M=arguments;var dW={"+":"-","/":"_","=":"."};jQuery.ajax({url:cp.theFname,async:!dV,type:"POST",data:{cmd_ajax:dX,mpc_ajax:64,data_ajax:dw.encode(JSON.stringify(dU)).replace(/[\+\/\=]/g,function(dZ){return dW[dZ]})},success:dY,error:function(d2,d0,dZ){Shadowbox.close();var d1;if(d2.status=="524"){msg2="Pause CloudFlare and wait 5 minutes to bypass their 100 second time limit.";msg2+=" Be sure to UNpause CF when finished building.";d1=201}else{msg2="If you cannot increase server timeout setting, your project will need to be split into separate builds.";d1=201}msg2+="<br><br>Servers designed for Mpc (no timeouts) can be found at:<br>";msg2+='<a href="http://hosixy.com/masspagecreator/" target="_blank">http://hosixy.com/masspagecreator/</a>';cu("ERR:Timeout error: "+d2.status,"Process timed out: "+dZ+".<br>"+msg2,"left",d1,500)},complete:function(d0,dZ){if(dZ!="success"){dc=2;setTimeout(function(){MpcCpanel.setCancel(2)},10)}}})}function bB(dU,dY,dV,dZ,dW){var M=arguments;var dX={"+":"-","/":"_","=":"."};jQuery.ajax({url:dU,async:!dW,type:"POST",data:{cmd_ajax:dY,mpc_ajax:64,data_ajax:dw.encode(JSON.stringify(dV)).replace(/[\+\/\=]/g,function(d0){return dX[d0]})},success:dZ,error:function(d2,d1,d0){cu("ERR:Ajax error",dY+": "+d2.status+" : "+d1+" : "+d0,"center",117)}})}function c8(dV,M,dW,dU){bB(cp.theFname,dV,M,dW,dU)}function aN(dV,M,dW,dU){bB(ajaxloc,dV,M,dW,dU)}(function(M){M.fn.linedtextarea=function(dU){var dV=M.extend({},M.fn.linedtextarea.defaults,dU);var dW=function(dX,dY,dZ){while((dX.height()-dY)<=0){if(dZ==dV.selectedLine){dX.append("<div class='lineno lineselect'>"+dZ+"</div>")}else{dX.append("<div class='lineno'>"+dZ+"</div>")}dZ++}return dZ};return this.each(function(){var d4=1;var dY=M(this);var d3=dY.parent().wrap("");var d2=d3.parent();var d1=d2.find(".lines");d1.height(dY.height()+6);d1.append("<div class='codelines'></div>");var d0=d1.find(".codelines");d4=dW(d0,d1.height(),1);if(dV.selectedLine!=-1&&!isNaN(dV.selectedLine)){var dZ=parseInt(dY.height()/(d4-2));var dX=parseInt(dZ*dV.selectedLine)-(dY.height()/2);dY[0].scrollTop=dX}dY.scroll(function(d5){var d7=M(this)[0];var d8=d7.scrollTop;var d6=d7.clientHeight;d0.css({"margin-top":(-1*d8)+"px"});d4=dW(d0,d8+d6,d4)})})};M.fn.linedtextarea.defaults={selectedLine:-1,selectedClass:"lineselect"}})(jQuery);db.browseFile=function(dZ,d0){browse_cmd=dZ;var dV;var dU;switch(dZ){case"autosource":case"autosource1":dV="Upload Content file";dU="Browse (or drag and drop) <b>zipped</b> Auto Source content.";break;case"file":var dY=(d0=="html")?"HTML Page":"TEXT Article";dV="Upload "+dY+" from your computer";dU="Browse (or drag and drop) to upload file to Mpc Editor.";break;case"project_leg":dV="Upload Legacy Project file";dU='Browse (or drag and drop) to upload a <span class="warn">Legacy</span> Project.';break;case"project_adv":dV="Upload Project file";dU="Browse (or drag and drop) to upload an Mpc Project.";break;case"grab":dV="Upload Computer file";dU='Browse (or drag/drop) to upload file into <span class="warn">Project Folder</span>.';break;case"grabwr":dV="Upload Computer file";dU='Browse (or drag/drop) to upload file into <span class="warn">WebRoot</span>.';break}var M=encodeURIComponent(theme.text);var dW=encodeURIComponent(theme.sbload);var dX=theme.linkAsc;Shadowbox.open({content:cp.auxdir+"/uploader.php?cmd="+dZ+"&prompt="+dU+"&thm_sbload="+dW+"&thm_sbbody=none&thm_text="+M+"&VER="+cp.ver+"&TESTING="+cp.testing+"&psk="+dX+"&misc="+d0,title:dV,player:"iframe",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:cI},height:238,width:476})};db.browseAccept=function(M){switch(browse_cmd){case"autosource":at(M);break;case"autosource1":df(M);break;case"file":cM(M);break;case"project_leg":case"project_adv":bj(M);break;case"ftp":dx(M);break;case"grab":case"grabwr":aK(M);break;case"dyna":dO(M);break;case"mpcset":bI(M);break}};db.mainConfig=function(dX,dV){mem_config_caller=dV;if(dX==0){t();return false}var dW="allbtns";var M=["<b>UI Configuration</b> (Mpc theme and behaviors)","<b>Amazon S3</b> (api keys, region, website bucket)","<b>ArticleBuilder</b> (user, pw, options)","<b>bSeolize IPGrabber</b> (api key)","<b>SpinRewriter</b> (api key, email, options)","<b>You Tube</b> (api key, options)"];var dU=["go_program","go_s3","go_ab","go_ipg","go_srw","go_ut"];mem_ar_file=["settings","s3settings.php","artsettings.php","ipgsettings.php","spinsettings.php","utsettings.php"];var dY="";dY+='<div spellcheck="false" class="dia-content noselect" style="text-align:left;white-space:nowrap;padding-top:13px" onmousedown="MpcCpanel.hidePinkcb();return true;">';dY+='<div id="ttlbusy" class="" style="position:absolute;top:10px;right:15px"></div>';dY+='<div id="top_stat" class="dia-status" style="position:absolute;top:10px;right:60px;"></div>';dY+='<div id="mpcset_prompt" style="margin-bottom:5px">Load, Save, Edit API keys and the User Interface.</div>';dY+='<div class="pinstripe twrap0" style="position:relative;width:510px;padding:0 10px;margin:15px 0 14px;background-color:'+theme.sbload+'">';dY+='<div class="avis" onclick="MpcCpanel.cfg_toggle_all()" style="position:absolute;top:10px;right:10px">TOGGLE ALL</div>';dY+='<table style="width:100%">';for(x=0;x<M.length;x++){dY+='<tr><td colspan="6"><div style="height:10px"></div></td></tr>';dY+="<tr>";dY+='<td style="width:20px"><div class="avis2" onclick="MpcCpanel.cfg_edit(\''+dU[x]+'\')" style="margin:0 5px 0 0">EDIT</td>';dY+='<td style="width:5px" class="tdcb"><input id="cbms'+x+'" class="cbc" type="checkbox"></td>';dY+='<td colspan="4"><label for="cbms'+x+'" style="margin-left:5px">'+M[x]+"</label></td>";dY+="</tr>"}dY+='<tr><td colspan="4"><div style="margin:15px 5px 10px 0">';dY+='<button class="sexybutton allbtns" onclick="MpcCpanel.loadMpcSettings()" ';dY+='title="Load selected settings from computer">';dY+='<span><span><span class="loadprj">Load Selected Settings</span></span></span>';dY+="</button>";dY+="</div></td>";dY+='<td colspan="2">';dY+='<div style="position:relative">';dY+="From an Mpc Settings file";dY+='<div id="load_stat" class="dia-status" style="position:absolute;top:0;right:0;"></div>';dY+="</div>";dY+="</td>";dY+="</tr>";dY+="</table>";dY+='<div id="if_div" style="position:absolute;top:5px;left:5px;height:242px;width:519px;background-color:'+theme.sbload+';visibility:hidden">';dY+='<div style="width:489px;margin:10px 0 20px 15px;">';dY+='<table style="width:100%">';dY+="<tr>";dY+='<td style="text-align:left">';dY+="Load Mpc Settings zipfile (<b>*_mpcset.zip</b>) from Computer";dY+="</td>";dY+='<td style="text-align:right">';dY+='<a href="javascript:MpcCpanel.mpcsetLoadCancel();">Cancel</a>';dY+="</td>";dY+="</tr>";dY+="</table>";dY+="</div>";dY+='<div style="margin:2px 0 0 20px;height:178px;width:478px;background-color:'+theme.sbload+'">';dY+='<iframe id="mpcsetIframe" frameborder="0" width="100%" height="100%"></iframe>';dY+="</div>";dY+="</div>";dY+="</div>";dY+='<div class="pinstripe twrap0" style="width:510px;padding:0 10px;margin:15px 0 0;background-color:'+theme.sbload+'">';dY+='<div id="mpcset_savearea">';dY+='<table style="width:100%">';dY+='<tr style="white-space:nowrap">';dY+='<td colspan="4" style="text-align:left;font-weight:bold"><div style="margin:5px 0 0">Save an Mpc Settings file to Computer</div></td>';dY+="</tr>";dY+='<tr style="white-space:nowrap">';dY+='<td colspan="4"><div class="lab11">Mpc Settings filename</div></td>';dY+="</tr>";dY+="<tr>";dY+='<td colspan="3" style="text-align:left">';dY+='<input type="text" style="width:100%;margin:0;padding:0 0 0 4px;font-size:14px;line-height:21px;font-family:monospace"';dY+='value="'+mem_mpcset_fname+'" id="mpcset_inp_save" placeholder="name required"';dY+='class="round epink" onkeyup="MpcCpanel.pnKeyup();return false"></td>';dY+='<td style="width:20px;font-weight:bold"><div style="margin:0 0 0 8px">_mpcset.zip</div></td>';dY+="</tr>";dY+="<tr>";dY+='<td colspan="2">';dY+='<div style="margin:10px 0">';dY+='<button id="mpcset_bnsave" class="sexybutton allbtns" onclick="MpcCpanel.saveMpcSettings()" ';dY+='title="Save all settings to computer">';dY+='<span><span><span class="save">Save All Settings to Computer</span></span></span>';dY+="</div>";dY+="</td>";dY+='<td colspan="2">';dY+='<div id="save_stat" class="dia-status" style=""></div>';dY+="</td>";dY+="</tr>";dY+="</table>";dY+="</div>";dY+="</div>";dY+='<form id="mpcsetform" method="post" action="'+cp.auxdir+'/send_mpcset.php" />';dY+='<input type="hidden" name="dest_name" value="" />';dY+="</form>";dY+="</div>";Shadowbox.open({content:dY,title:"Mpc Settings",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,qmarkTarget:"diaConfig",bodyColor:theme.sbbody,onMyClose:db.closeConfig,animate:settings.anim,onFinish:bu},height:477-29-29,width:570})};function bu(){cI()}db.closeConfig=function(){if(jQuery("#ttlbusy").hasClass("cssbusy")){return}if(jQuery("#mpcset_inp_save").prop("disabled")){return}if(mem_restart){aj("ttlbusy");mem_restart=false;a("top_stat","gold","Restarting Mpc..");db.doRefresh()}else{Shadowbox.close()}};db.editIPG=function(){var M="";M+='<div class="dia-content noselect" spellcheck="false" style="padding:15px 0 0 15px" onmousedown="MpcCpanel.hideDiaStatusPink();return true;">';M+="<div>";if(cp.i==1){M+='You must <a href="http://masspagecreator.com/links.php?go=unsub" target="_blank">unsubscribe to Mpc IP Protection</a> to use your IPGrabber token.'}else{M+='Don\'t have an IPGrabber token? <a href="javascript:MpcCpanel.purchaseModule()">Enroll in Mpc IP Protection</a> and save 65%.'}M+='<div style="margin:5px 0 15px">Changing IP Protection requires logging out and back into Mpc to complete.</div>';M+="</div>";M+='<div class="pinstripe twrap" style="width:485px;padding:6px 10px 10px">';M+='<table style="width:100%">';M+="<tr>";M+='<td style="text-align:left><span class="prompt">Enter token or <a href="http://masspagecreator.com/links.php?go=bseo" target="_blank">get a token</a></span></td>';M+='<td style="text-align:right"><label for="cbShowIPG">Show</label></td>';M+='<td style="width:8px"><input type="checkbox" id="cbShowIPG" onchange="MpcCpanel.cbShowhideClick(this, \'inp_ipgkey\', \'none\')"></td>';M+="</tr>";M+="<tr>";M+='<td colspan="3"><input type="password" id="inp_ipgkey" style="width:475px" class="inpPW epink"></td>';M+="</tr>";M+="</table>";M+="</div>";M+='<div style="position:relative;margin:15px 15px 0 0;">';M+='<div id="ttlbusy" class="busycss" style="position:absolute;top:0;right:2px"></div>';M+='<table style="white-space:nowrap">';M+="<tr>";M+='<td style="text-align:left;width:70px">';M+='<button class="sexybutton allbtns" title="Save and validate token"';M+='onclick="MpcCpanel.acceptTK();return false;" disabled="disabled">';M+='<span><span><span class="accept">Test & Save</span></span></span>';M+="</button>&nbsp;&nbsp;";M+="</td>";M+='<td style="text-align:left;width:70px">';M+='<button class="sexybutton allbtns" title=""';M+='onclick="MpcCpanel.back2config();return false;" disabled="disabled">';M+='<span><span><span class="cancel">Close</span></span></span>';M+="</button>";M+="</td>";M+="</tr>";M+="</table>";M+='<div class="dia-status" style="position:absolute;bottom:3px;right:0;"></div>';M+="</div>";M+="</div>";Shadowbox.open({content:M,title:'<span class="ttlgold">Edit</span> bSeolized IPGrabber token',player:"html",handleOversize:"none",height:190,width:537,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,onMyClose:db.back2config,animate:settings.anim,onFinish:cV}})};function cV(){aN("y33G58XX9",{},function(dU){try{rj=jQuery.parseJSON(dU)}catch(M){alert("JSON error: ini token. \n"+dU)}switch(rj.status){case"ok":jQuery("#inp_ipgkey").val(rj.token);break;case"nofile":case"badtoken":break}jQuery(".allbtns").prop("disabled",false);ca("ttlbusy")})}db.acceptTK=function(){var dU=jQuery("#inp_ipgkey");var M=dU.val();M=M.trim();if(M==""){ad("pink","Token is required");dU.css("background-color","pink");return}jQuery(".allbtns").prop("disabled",true);aj("ttlbusy");aN("y33x56XAx",{token:M},function(dW){try{rj=jQuery.parseJSON(dW)}catch(dV){alert("JSON error: acc ipg. \n"+dW)}switch(rj.status){case"ok":ca("ttlbusy");ad("lightgreen","Token verified and saved");break;case"invalid":jQuery("#inp_ipgkey").css("background-color","pink");ca("ttlbusy");ad("pink","Wrong or expired token");break}jQuery(".allbtns").prop("disabled",false);ca("ttlbusy")})};db.back2config=function(){Shadowbox.close(true);setTimeout(function(){MpcCpanel.mainConfig(1,"main")},10)};db.editAB=function(){var M="";M+='<div class="dia-content noselect" spellcheck="false" style="padding:15px 0 0 15px" onmousedown="MpcCpanel.hideDiaStatusPink();return true;">';M+='<div class="pinstripe twrap" style="width:385px;padding:6px 10px 10px">';M+='<table style="width:100%">';M+='<tr style="white-space:nowrap">';M+='<td colspan="3" style="text-align:left><span class="prompt">Enter Login or <a href="http://masspagecreator.com/ck/articlebuilder.php" target="_blank">Get an account</a></span></td>';M+="<td></td>";M+='<td style="text-align:right"><label for="cbShowAB">Show</label></td>';M+='<td style="width:8px"><input type="checkbox" id="cbShowAB" onchange="MpcCpanel.cbShowhideClick(this, \'inp_user\', \'inp_pw\')"></td>';M+="</tr>";M+="<tr>";M+='<td style="text-align:left"><div class="lab11">Username</div></td>';M+='<td style="width:10px"><div style="width:10px"></div></td>';M+='<td colspan="4" style="text-align:left"><div class="lab11">Password</div></td>';M+="</tr>";M+="<tr>";M+='<td style="width:140px"><input type="password" id="inp_user" style="width:140px" class="inpPW epink"></td>';M+="<td></td>";M+='<td colspan="4" style="text-align:left"><input type="password" id="inp_pw" style="width:220px" class="inpPW epink"></td>';M+="</tr>";M+="</table>";M+="</div>";M+='<div style="position:relative;margin:15px 15px 0 0;">';M+='<div id="ttlbusy" class="busycss" style="position:absolute;top:0;right:2px"></div>';M+='<table style="white-space:nowrap">';M+="<tr>";M+='<td style="text-align:left;width:70px">';M+='<button class="sexybutton allbtns" title="Validate and Save Login"';M+='onclick="MpcCpanel.doLoginAB();return false;" disabled="disabled">';M+='<span><span><span class="accept">Test & Save</span></span></span>';M+="</button>&nbsp;&nbsp;";M+="</td>";M+='<td style="text-align:left;width:70px">';M+='<button class="sexybutton allbtns" title=""';M+='onclick="MpcCpanel.back2config();return false;" disabled="disabled">';M+='<span><span><span class="cancel">Close</span></span></span>';M+="</button>";M+="</td>";M+="</tr>";M+="</table>";M+='<div class="dia-status" style="position:absolute;bottom:2px;right:0;"></div>';M+="</div>";M+="</div>";Shadowbox.open({content:M,title:'<span class="ttlgold">Edit</span> ArticleBuilder Login',player:"html",handleOversize:"none",height:159,width:437,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,onMyClose:db.back2config,animate:settings.anim,onFinish:a4}})};function a4(){cI();db.cbShowhideClick("#cbShowAB","inp_user","inp_pw");aN("y4094bX3f",{},function(M){rj=jQuery.parseJSON(M);jQuery("#inp_user").val(rj.username);jQuery("#inp_pw").val(rj.password);jQuery(".allbtns").prop("disabled",false);ca("ttlbusy")})}db.doLoginAB=function(){aj("ttlbusy");user=jQuery("#inp_user").val();pw=jQuery("#inp_pw").val();aN("ajax_update_artsettings",{action:"authenticate",username:user,password:pw},function(M){rj=jQuery.parseJSON(M);if(rj.success=="false"){ad("pink","Invalid User or Password")}else{ad("lightgreen","Login valid and saved")}ca("ttlbusy")})};db.editSRW=function(){var M="";M+='<div class="dia-content noselect" spellcheck="false" style="padding:15px 0 0 15px" onmousedown="MpcCpanel.hideDiaStatusPink();return true;">';M+='<div class="pinstripe twrap" style="width:535px;padding:6px 10px 10px">';M+='<table style="width:100%">';M+='<tr style="white-space:nowrap">';M+='<td colspan="3" style="text-align:left><span class="prompt">Enter Login or <a href="http://masspagecreator.com/ck/spinrewriter.php" target="_blank">Get a SpinRewriter account</a></span></td>';M+="<td></td>";M+='<td style="text-align:right"><label for="cbShowRW">Show</label></td>';M+='<td style="width:8px"><input type="checkbox" id="cbShowRW" onchange="MpcCpanel.cbShowhideClick(this, \'inp_user\', \'inp_pw\')"></td>';M+="</tr>";M+="<tr>";M+='<td style="text-align:left"><div class="lab11">Email</div></td>';M+='<td style="width:10px"><div style="width:10px"></div></td>';M+='<td colspan="4" style="text-align:left"><div class="lab11">API Key</div></td>';M+="</tr>";M+="<tr>";M+='<td style="width:140px"><input type="password" id="inp_user" style="width:220px" class="inpPW epink"></td>';M+="<td></td>";M+='<td colspan="4" style="text-align:left"><input type="password" id="inp_pw" style="width:290px" class="inpPW epink"></td>';M+="</tr>";M+="</table>";M+="</div>";M+='<div style="position:relative;margin:15px 15px 0 0;">';M+='<div id="ttlbusy" class="busycss" style="position:absolute;top:0;right:2px"></div>';M+='<table style="white-space:nowrap">';M+="<tr>";M+='<td style="text-align:left;width:70px">';M+='<button class="sexybutton allbtns" title="Validate and Save Login"';M+='onclick="MpcCpanel.valid_saveRW();return false;" disabled="disabled">';M+='<span><span><span class="accept">Test & Save</span></span></span>';M+="</button>&nbsp;&nbsp;";M+="</td>";M+='<td style="text-align:left;width:70px">';M+='<button class="sexybutton allbtns" title=""';M+='onclick="MpcCpanel.back2config();return false;" disabled="disabled">';M+='<span><span><span class="cancel">Close</span></span></span>';M+="</button>";M+="</td>";M+="</tr>";M+="</table>";M+='<div class="dia-status" style="position:absolute;bottom:2px;right:0;"></div>';M+="</div>";M+="</div>";Shadowbox.open({content:M,title:'<span class="ttlgold">Edit</span> SpinRewriter Login',player:"html",handleOversize:"none",height:159,width:587,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,onMyClose:db.back2config,animate:settings.anim,onFinish:du}})};function du(){cI();db.cbShowhideClick("#cbShowRW","inp_user","inp_pw");aN("yXA749X0a",{},function(M){rj=jQuery.parseJSON(M);jQuery("#inp_user").val(rj.email_address);jQuery("#inp_pw").val(rj.api_key);jQuery(".allbtns").prop("disabled",false);ca("ttlbusy")})}db.valid_saveRW=function(){aj("ttlbusy");var M=jQuery("#inp_user").val();var dU=jQuery("#inp_pw").val();aN("ajax_updateSpinRewriter",{email_address:M,api_key:dU},function(dV){rj=jQuery.parseJSON(dV);if(rj.status!="OK"){ad("pink","Invalid User or Password")}else{ad("lightgreen","Login valid and saved")}ca("ttlbusy")})};db.editUT=function(){var M="";M+='<div class="dia-content noselect" spellcheck="false" style="padding:15px 0 0 15px" onmousedown="MpcCpanel.hideDiaStatusPink();return true;">';M+='<div class="pinstripe twrap" style="width:495px;padding:6px 10px 10px">';M+='<table style="width:100%">';M+='<tr style="white-space:nowrap">';M+='<td colspan="3" style="text-align:left><span class="prompt">Enter API key or <a href="http://masspagecreator.com/links.php?go=utkey" target="_blank">Get an API key</a></span></td>';M+="<td></td>";M+='<td style="text-align:right"><label for="cbShowUT">Show</label></td>';M+='<td style="width:8px"><input type="checkbox" id="cbShowUT" onchange="MpcCpanel.cbShowhideClick(this, \'inp_user\', \'none\')"></td>';M+="</tr>";M+="<tr>";M+='<td colspan="6"style="text-align:left"><div class="lab11">API Key</div></td>';M+="</tr>";M+="<tr>";M+='<td colspan="6"><input type="password" id="inp_user" style="width:485px" class="inpPW epink"></td>';M+="</tr>";M+="</table>";M+="</div>";M+='<div style="position:relative;margin:15px 15px 0 0;">';M+='<div id="ttlbusy" class="busycss" style="position:absolute;top:0;right:2px"></div>';M+='<table style="white-space:nowrap">';M+="<tr>";M+='<td style="text-align:left;width:70px">';M+='<button class="sexybutton allbtns" title="Validate and Save API key"';M+='onclick="MpcCpanel.valid_saveUT();return false;" disabled="disabled">';M+='<span><span><span class="accept">Test & Save</span></span></span>';M+="</button>&nbsp;&nbsp;";M+="</td>";M+='<td style="text-align:left;width:70px">';M+='<button class="sexybutton allbtns" title=""';M+='onclick="MpcCpanel.back2config();return false;" disabled="disabled">';M+='<span><span><span class="cancel">Close</span></span></span>';M+="</button>";M+="</td>";M+="</tr>";M+="</table>";M+='<div class="dia-status" style="position:absolute;bottom:2px;right:0;"></div>';M+="</div>";M+="</div>";Shadowbox.open({content:M,title:'<span class="ttlgold">Edit</span> YouTube API Key',player:"html",handleOversize:"none",height:159,width:547,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,onMyClose:db.back2config,animate:settings.anim,onFinish:aP}})};function aP(){cI();db.cbShowhideClick("#cbShowUT","inp_user","none");aN("yD0B23XF3",{},function(M){rj=jQuery.parseJSON(M);jQuery("#inp_user").val(rj.api);jQuery(".allbtns").prop("disabled",false);ca("ttlbusy")})}db.valid_saveUT=function(){aj("ttlbusy");var M=jQuery("#inp_user").val();M=M.trim();if(M==""){ad("pink","API key is required");return}jQuery(".allbtns").prop("disabled",true);aj("ttlbusy");aN("ya5e18X1c",{api_ajax:M,keyw_ajax:"funny cats",savefile:true},function(dU){rj=jQuery.parseJSON(dU);if(rj.stat!="ok"){ad("pink","Invalid Key")}else{ad("lightgreen","Key valid and saved")}jQuery(".allbtns").prop("disabled",false);ca("ttlbusy")})};db.editYELP=function(){var M="";M+='<div class="dia-content noselect" spellcheck="false" style="padding:15px 0 0 15px" onmousedown="MpcCpanel.hideDiaStatusPink();return true;">';M+='<div class="pinstripe twrap" style="width:535px;padding:6px 10px 10px">';M+='<table style="width:100%">';M+='<tr style="white-space:nowrap">';M+='<td colspan="3" style="text-align:left><span class="prompt">Enter Login or <a href="http://masspagecreator.com/ck/spinrewriter.php" target="_blank">Get a SpinRewriter account</a></span></td>';M+="<td></td>";M+='<td style="text-align:right"><label for="cbShowRW">Show</label></td>';M+='<td style="width:8px"><input type="checkbox" id="cbShowRW" onchange="MpcCpanel.cbShowhideClick(this, \'inp_user\', \'inp_pw\')"></td>';M+="</tr>";M+="<tr>";M+='<td style="text-align:left"><div class="lab11">Email</div></td>';M+='<td style="width:10px"><div style="width:10px"></div></td>';M+='<td colspan="4" style="text-align:left"><div class="lab11">API Key</div></td>';M+="</tr>";M+="<tr>";M+='<td style="width:140px"><input type="password" id="inp_user" style="width:220px" class="inpPW epink"></td>';M+="<td></td>";M+='<td colspan="4" style="text-align:left"><input type="password" id="inp_pw" style="width:290px" class="inpPW epink"></td>';M+="</tr>";M+="</table>";M+="</div>";M+='<div style="position:relative;margin:15px 15px 0 0;">';M+='<div id="ttlbusy" class="busycss" style="position:absolute;top:0;right:2px"></div>';M+='<table style="white-space:nowrap">';M+="<tr>";M+='<td style="text-align:left;width:70px">';M+='<button class="sexybutton allbtns" title="Validate and Save Login"';M+='onclick="MpcCpanel.valid_saveRW();return false;" disabled="disabled">';M+='<span><span><span class="accept">Test & Save</span></span></span>';M+="</button>&nbsp;&nbsp;";M+="</td>";M+='<td style="text-align:left;width:70px">';M+='<button class="sexybutton allbtns" title=""';M+='onclick="MpcCpanel.back2config();return false;" disabled="disabled">';M+='<span><span><span class="cancel">Close</span></span></span>';M+="</button>";M+="</td>";M+="</tr>";M+="</table>";M+='<div class="dia-status" style="position:absolute;bottom:2px;right:0;"></div>';M+="</div>";M+="</div>";Shadowbox.open({content:M,title:'<span class="ttlgold">Edit</span> Yelp Login',player:"html",handleOversize:"none",height:159,width:587,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,onMyClose:db.back2config,animate:settings.anim,onFinish:aF}})};function aF(){cI()}db.editCF=function(){var M="";M+='<div class="dia-content noselect" spellcheck="false" style="padding:15px 0 0 15px" onmousedown="MpcCpanel.hideDiaStatusPink();return true;">';M+='<div class="pinstripe twrap" style="width:565px;padding:6px 10px 10px">';M+='<table style="width:100%">';M+='<tr style="white-space:nowrap">';M+='<td colspan="3" style="text-align:left><span class="prompt"><b>'+cp.theDomainPlo+"</b> (current domain)</td>";M+='<td style="text-align:right"><label for="cb_sh1">Show</label></td>';M+='<td style="width:8px"><input type="checkbox" id="cb_sh1" onchange="MpcCpanel.cbShowhideClickCF(this, \'inp_user\', \'inp_pw\')"></td>';M+="</tr>";M+='<tr style="white-space:nowrap">';M+='<td style="text-align:left"><div class="lab11">Email Address</div></td>';M+='<td style="width:10px"><div style="width:10px"></div></td>';M+='<td style="text-align:left"><div class="lab11">API Key</div></td>';M+="<td></td>";M+="<td></td>";M+="</tr>";M+="<tr>";M+='<td style="width:140px"><input type="password" id="inp_user" style="width:220px" class="inp_stat1 inpPW epink"></td>';M+="<td></td>";M+='<td colspan="3" style="text-align:left"><input type="password" id="inp_pw" style="width:320px" class="inp_stat1 inpPW epink"></td>';M+="</tr>";M+="<tr>";M+='<td colspan="5">';M+='<table style="width:100%">';M+='<tr><td colspan="3"><div style="height:10px"></div></td></tr>';M+="<tr>";M+='<td style="width:30px"><div class="avis53" style="margin:0 20px 0 1px" onclick="MpcCpanel.testCF(\'stat1\');return false;">TEST</div></td>';M+='<td style="width:30px"><div id="stat1" class="dia-status" style="margin-top:0px"></div></td>';M+='<td style="text-align:right"><a href="https://cloudflare.com" target="_blank">Get a Cloudflare Key</a>&nbsp;&nbsp;</td>';M+="</tr>";M+="</table>";M+="</td>";M+="</tr>";M+="</table>";M+="</div>";M+='<div class="pinstripe twrap" style="width:565px;margin:15px 0 0;padding:6px 10px 10px">';M+='<table style="width:100%">';M+='<tr style="white-space:nowrap">';M+='<td colspan="3"><span class="prompt"><b>Other Accounts</b></span> (<span id="cnt_other">0</span>)</td>';M+="</tr>";M+='<tr><td colspan="3"><div class="lab11">Domain</div></td>';M+='<tr><td colspan="3"><input id="inp_domain" style="width:488px" class="inp_stat2 inpPW epink" type="text"></td>';M+='<tr><td colspan="3"><div class="lab11">Email Address</div></td></tr>';M+='<tr><td><input id="inp_email" style="width:488px" class="inp_stat2 inpPW epink" type="password"></td>';M+='<td style="text-align:right"><label for="cb_sh2">Show</label></td>';M+='<td style="width:8px"><input type="checkbox" id="cb_sh2" onchange="MpcCpanel.cbShowhideClickCF(this, \'inp_email\', \'none\')"></td>';M+="</tr>";M+='<tr><td colspan="3"><div class="lab11">API Key</div></td></tr>';M+='<tr><td><input id="inp_key" style="width:488px" class="inp_stat2 inpPW epink" type="password"></td>';M+='<td style="text-align:right"><label for="cb_sh4">Show</label></td>';M+='<td style="width:8px"><input type="checkbox" id="cb_sh4" onchange="MpcCpanel.cbShowhideClickCF(this, \'inp_key\', \'none\')"></td>';M+="</tr>";M+="</table>";M+='<div style="position:relative;margin:0;height:29px">';M+='<div id="cf_normal" class="cf_area" style="position:absolute;top:10px;left:0">';M+="<table>";M+='<tr style="white-space:nowrap">';M+='<td><div class="avis53" style="margin:0 10px 0 1px" onclick="MpcCpanel.testCF(\'stat2\');return false;">TEST</div></td>';M+='<td><div class="avis53" style="margin-right:10px" onclick="MpcCpanel.showPrevEntryCF();return false;">PREV</div></td>';M+='<td><div class="avis53" style="margin-right:10px" onclick="MpcCpanel.showNextEntryCF();return false;">NEXT</div></td>';M+='<td><div class="avis53" style="margin-right:10px" onclick="MpcCpanel.showBtnAreaCF(\'add\');return false;">ADD</div></td>';M+='<td><div class="avis53" style="margin-right:10px" onclick="MpcCpanel.showBtnAreaCF(\'mod\');return false;">MODIFY</div></td>';M+='<td><div class="avis53" style="margin-right:20px" onclick="MpcCpanel.showBtnAreaCF(\'del\');return false;">DELETE</div></td>';M+='<td style="width:50px"><div id="stat2" class="dia-status" style=""></div></td>';M+="</tr>";M+="</table>";M+="</div>";M+='<div id="cf_adding" class="cf_area" style="position:absolute;top:10px;left:0;visibility:hidden">';M+="<table>";M+='<tr style="white-space:nowrap">';M+='<td><div id="add_mod" style="margin:0 10px 0 1px">Adding Account:</div></td>';M+='<td><div class="avis53" style="margin-right:10px" onclick="MpcCpanel.addAcceptCF();return false;">ACCEPT</div></td>';M+='<td><div class="avis53" style="margin-right:20px" onclick="MpcCpanel.addCancelCF();return false;">CANCEL</div></td>';M+='<td style="width:50px"><div id="stat4" class="dia-status" style=""></div></td>';M+="</tr>";M+="</table>";M+="</div>";M+='<div id="cf_delete" class="cf_area" style="position:absolute;top:10px;left:0;visibility:hidden">';M+="<table>";M+='<tr style="white-space:nowrap">';M+='<td><div id="add_mod" style="margin:0 10px 0 1px"><span style="font-weight:bold;color:#c00000">DELETE</span> Account:</div></td>';M+='<td><div class="avis53" style="margin-right:10px" onclick="MpcCpanel.deleteAcceptCF();return false;">ACCEPT</div></td>';M+='<td><div class="avis53" style="margin-right:20px" onclick="MpcCpanel.deleteCancelCF();return false;">CANCEL</div></td>';M+='<td style="width:50px"><div id="stat5" class="dia-status" style=""></div></td>';M+="</tr>";M+="</table>";M+="</div>";M+="</div>";M+="</div>";M+='<div style="position:relative;margin:15px 15px 0 15px;">';M+='<div id="ttlbusy" class="busycss" style="position:absolute;top:0;right:2px"></div>';M+='<table style="white-space:nowrap">';M+="<tr>";M+='<td style="text-align:left;width:70px">';M+='<button class="sexybutton allbtns" title="Save all Logins to memory, NOT computer"';M+='onclick="MpcCpanel.saveLoginsCF();return false;" disabled="disabled">';M+='<span><span><span class="accept">Save All Logins</span></span></span>';M+="</button>&nbsp;&nbsp;";M+="</td>";M+='<td style="text-align:left;width:70px">';M+='<button class="sexybutton allbtns" title=""';M+='onclick="MpcCpanel.back2config();return false;" disabled="disabled">';M+='<span><span><span class="cancel">Close</span></span></span>';M+="</button>";M+="</td>";M+="</tr>";M+="</table>";M+='<div id="stat3" class="dia-status" style="position:absolute;bottom:2px;right:0;"></div>';M+="</div>";M+="</div>";Shadowbox.open({content:M,title:'<span class="ttlgold">Edit</span> Cloudflare accounts',player:"html",handleOversize:"none",height:406,width:617,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,onMyClose:db.back2config,qmarkTarget:"editCF",animate:settings.anim,onFinish:ab}})};function ab(){cI();jQuery("#cb_sh1").prop("checked",(mem_cfsett_cbox&1));jQuery("#cb_sh2").prop("checked",(mem_cfsett_cbox&2));jQuery("#cb_sh4").prop("checked",(mem_cfsett_cbox&4));db.cbShowhideClick("#cb_sh1","inp_user","inp_pw");db.cbShowhideClick("#cb_sh2","inp_email","none");db.cbShowhideClick("#cb_sh4","inp_key","none");aN("y44C59X7b",{domain:cp.theDomainPlo},function(M){rj=jQuery.parseJSON(M);jQuery("#inp_user").val(rj.email);jQuery("#inp_pw").val(rj.key);mem_cfsett_ardoms=[];mem_cfsett_total=0;mem_cfsett_logins={};if(rj.status=="ok"){mem_cfsett_logins=jQuery.parseJSON(rj.cf_set);for(var dU in mem_cfsett_logins){mem_cfsett_total=mem_cfsett_ardoms.push(dU.toLowerCase())}}mem_cfsett_index=-1;db.showNextEntryCF();c0();bL();jQuery(".allbtns").prop("disabled",false);ca("ttlbusy")})}db.cbShowhideClickCF=function(M,dV,dU){db.cbShowhideClick(M,dV,dU);mem_cfsett_cbox=0;if(jQuery("#cb_sh1").prop("checked")){mem_cfsett_cbox|=1}if(jQuery("#cb_sh2").prop("checked")){mem_cfsett_cbox|=2}if(jQuery("#cb_sh4").prop("checked")){mem_cfsett_cbox|=4}};db.saveLoginsCF=function(){if(mem_cfsett_total<1){a("stat3","pink","No Logins to save");jQuery("stat3").css("background-color","pink");return}aj("ttlbusy");jQuery(".allbtns").prop("disabled",true);var dU,dX;var dV={};var M=jQuery("#inp_user").val();var dW=jQuery("#inp_pw").val();mem_cfsett_logins[cp.theDomainPlo]=M+","+dW;for(dU=0;dU<mem_cfsett_total;dU++){dX=mem_cfsett_ardoms[dU];dV[dX]=mem_cfsett_logins[dX]}var dY=JSON.stringify(dV);aN("ajax_saveCFsettings",{cfs:dY},function(dZ){jQuery(".allbtns").prop("disabled",false);ca("ttlbusy")})};function bL(){v=mem_cfsett_total;if(v>0){if(mem_cfsett_ardoms.includes(cp.theDomainPlo)){v--}}jQuery("#cnt_other").html(v)}db.showNextEntryCF=function(){aD();if(mem_cfsett_ardoms[mem_cfsett_index]==cp.theDomainPlo){aD();if(mem_cfsett_total<2){dj();return}}c0()};db.showPrevEntryCF=function(){E();if(mem_cfsett_ardoms[mem_cfsett_index]==cp.theDomainPlo){E();if(mem_cfsett_total<2){dj();return}}c0()};function aD(){mem_cfsett_index++;if(mem_cfsett_index>=mem_cfsett_total){mem_cfsett_index=0}}function E(){mem_cfsett_index--;if(mem_cfsett_index<0){mem_cfsett_index=mem_cfsett_total-1}if(mem_cfsett_index<0){mem_cfsett_index=0}}function dj(){jQuery("#inp_domain").val("");jQuery("#inp_email").val("");jQuery("#inp_key").val("")}function c0(){if(mem_cfsett_total==0){dj();return}var dU=mem_cfsett_ardoms[mem_cfsett_index];if(dU==cp.theDomainPlo){dj();return}var M=mem_cfsett_logins[dU].split(",");jQuery("#inp_domain").val(dU);jQuery("#inp_email").val(M[0]);jQuery("#inp_key").val(M[1])}db.testCF=function(M){var dX,dV,dW,dU;if(M=="stat1"){dX=cp.theDomainPlo;dV=jQuery("#inp_user").val();dW=jQuery("#inp_pw").val()}else{dX=jQuery("#inp_domain").val();dV=jQuery("#inp_email").val();dW=jQuery("#inp_key").val()}if((dX=="")||(dV=="")||(dW=="")){a(M,"pink","All inputs are required");jQuery(".inp_"+M).css("background-color","pink");return}aj("ttlbusy");jQuery(".allbtns").prop("disabled",true);aN("ajax_testCF",{email:dV,key:dW,domain:dX},function(dY){rj=jQuery.parseJSON(dY);if(rj.status!="ok"){a(M,"pink","Invalid Email or Key")}else{a(M,"lightgreen","Valid Login")}jQuery(".allbtns").prop("disabled",false);ca("ttlbusy")})};db.showBtnAreaCF=function(dV){var dX=jQuery("#cf_normal");var dW=jQuery("#cf_adding");var dU=dW;var M=jQuery("#cf_delete");jQuery(".cf_area").css("visibility","hidden");switch(dV){case"normal":dX.css("visibility","visible");break;case"add":jQuery("#inp_domain").val("");jQuery("#inp_email").val("");jQuery("#inp_key").val("");jQuery("#add_mod").html("Add New Account:");dW.css("visibility","visible");break;case"mod":jQuery("#add_mod").html("Modify Existing Account:");dW.css("visibility","visible");break;case"del":M.css("visibility","visible");break}};db.deleteAcceptCF=function(){var M=jQuery("#inp_domain");var dU=M.val().trim();if(dU==""){a("stat5","pink","Domain is required");M.css("background-color","pink");return}mem_cfsett_ardoms.splice(mem_cfsett_index,1);mem_cfsett_index--;mem_cfsett_total--;bL();db.showNextEntryCF();db.showBtnAreaCF("normal");a("stat2","lightgreen","One entry deleted")};db.deleteCancelCF=function(){db.showBtnAreaCF("normal");c0()};db.addAcceptCF=function(){var dV=jQuery("#inp_domain").val().trim();var M=jQuery("#inp_email").val().trim();var dU=jQuery("#inp_key").val().trim();if((dV=="")||(M=="")||(dU=="")){a("stat4","pink","All inputs are required");jQuery(".inp_stat2").css("background-color","pink");return}dV=dV.toLowerCase();mem_cfsett_logins[dV]=M+","+dU;var dW="Account updated";if(!mem_cfsett_ardoms.includes(dV)){mem_cfsett_total=mem_cfsett_ardoms.push(dV);dW="Account added"}bL();db.showBtnAreaCF("normal");a("stat2","lightgreen",dW)};db.addCancelCF=function(){db.showBtnAreaCF("normal");c0()};db.cfg_toggle_all=function(){var M=jQuery("#cbms0").prop("checked");jQuery(".cbc").prop("checked",!M)};db.cfg_edit=function(M){Shadowbox.close(true);switch(M){case"go_program":setTimeout(function(){MpcCpanel.diaSettings("controller")},50);break;case"go_s3":setTimeout(function(){MpcCpanel.mainBuildPages(1,"controller")},50);break;case"go_ab":setTimeout(function(){MpcCpanel.editAB()},50);break;case"go_ipg":setTimeout(function(){MpcCpanel.editIPG()},50);break;case"go_cf":setTimeout(function(){MpcCpanel.editCF()},50);break;case"go_srw":setTimeout(function(){MpcCpanel.editSRW()},50);break;case"go_yelp":setTimeout(function(){MpcCpanel.editYELP()},50);break;case"go_ut":setTimeout(function(){MpcCpanel.editUT()},50);break}};db.hidePinkcb=function(){db.hideDiaStatusPink();jQuery(".tdcb").toggleClass("pnk",false)};db.saveMpcSettings=function(){var M=jQuery("#mpcset_inp_save");var dU=M.val().trim();if(dU==""){a("save_stat","pink","Filename is required");M.css("background-color","pink");return}mem_mpcset_fname=dU;jQuery(".allbtns").prop("disabled",true);aj("ttlbusy");aN("ajax_zipMpcSettings",{zname:cp.theZname,ver:cp.ver},function(dV){a("save_stat","lightgreen","Save file processed");f=document.getElementById("mpcsetform");f.dest_name.value=encodeURIComponent(dU);f.submit();jQuery(".allbtns").prop("disabled",false);ca("ttlbusy")})};db.loadMpcSettings=function(){mem_mpcset_chklist="";for(x=0;x<mem_ar_file.length;x++){if(jQuery("#cbms"+x).prop("checked")){mem_mpcset_chklist+=mem_ar_file[x]+","}}if(mem_mpcset_chklist==""){jQuery(".tdcb").toggleClass("pnk",true);a("load_stat","pink","None selected");return}browse_cmd="mpcset";jQuery("#mpcset_prompt").css("visibility","hidden");jQuery("#mpcset_savearea").css("opacity","0.2");jQuery("#mpcset_bnsave").prop("disabled",true);jQuery("#mpcset_inp_save").prop("disabled",true);jQuery("#if_div").css("visibility","visible");var M=encodeURIComponent(theme.text);var dU=encodeURIComponent(theme.sbload);var dV=theme.linkAsc;jQuery("#mpcsetIframe").attr("src",cp.auxdir+"/uploader.php?cmd=ftp&thm_sbload="+dU+"&thm_sbbody=none&thm_text="+M+"&VER="+cp.ver+"&TESTING="+cp.testing+"&psk="+dV)};function bI(M){jQuery(".allbtns").prop("disabled",true);aj("ttlbusy");db.mpcsetLoadCancel();mem_mpcset_fname=M.replace(/_mpcset.*?\.zip$/i,"");jQuery("#mpcset_inp_save").val(mem_mpcset_fname);aN("ajax_updateMpcSettings",{zname:cp.theZname,fn:M,flist:mem_mpcset_chklist,restart:mem_restart},function(dV){var dU=jQuery.parseJSON(dV);switch(dU.status){case"ok":mem_restart=dU.restart;if(dU.theme!="no"){settings=jQuery.parseJSON(dU.jstr);cY(dU.theme);jQuery(".pinstripe").css("background-color",theme.sbload);jQuery(".pinstripe").css("border-color",theme.pinstripe)}a("load_stat","lightgreen","Settings loaded");break;case"except":case"nosig":a("load_stat","pink",dU.msg);break}jQuery(".allbtns").prop("disabled",false);ca("ttlbusy")})}db.mpcsetLoadCancel=function(){jQuery("#mpcset_prompt").css("visibility","visible");jQuery("#if_div").css("visibility","hidden");jQuery("#mpcset_bnsave").prop("disabled",false);jQuery("#mpcset_inp_save").prop("disabled",false);jQuery("#mpcset_savearea").css("opacity","1.0")};db.diaXml=function(){db.setCancel(0);bPermu=false;var dU=(settings.force_ssl==1)?"https":cp.ssl;if(xmlurlsav==""){xmlurlsav=dU+"://"+cp.theDomain}if(xmlnamesav==""){xmlnamesav="sitemap"}if(xmlindexsav==""){xmlindexsav="sitemap"}var M=(prjBaseName=="")?"Untitled":prjBaseName;var dV="";dV+='<div class="dia-content noselect" style="padding-top:0" onMousedown="MpcCpanel.mouseDownXml();return true;">';dV+='<div id="ttlbusy" class="busycss" style="position:absolute;top:7px;right:15px"></div>';dV+='<div style="margin:10px 0 10px">Project: '+M+"</div>";dV+='<div id="areaU" class="pinstripe twrap" spellcheck="false"';dV+='style="width:425px;padding:5px 15px 10px;margin-bottom:15px;background-color:'+theme.sbload+'">';dV+='<div id="areaU_opc" style="position:relative;opacity:0.3">';dV+='<div id="xurl-req" class="lab11" style="position:absolute;top:40px;right:0px;color:#c00000;visibility:hidden">URL REQUIRED&nbsp;</div>';dV+="<div>";dV+='<table style="width:100%">';dV+="<tr>";dV+='<td style="text-align:left">';dV+="<b>Domain Url</b>";dV+="</td>";dV+='<td style="text-align:right">Write to:&nbsp;</td>';dV+='<td style="width:50px"><select id="writeto" onchange="MpcCpanel.writetoChange();return false" class="pad2024" style="margin-right:-4px">';dV+='<option value="current">CURRENT SERVER</option>';dV+='<option value="ama_storage">AMAZON S3 STORAGE</option>';dV+='<option value="ama_website">AMAZON S3 WEBSITE</option>';dV+="</select>";dV+="</td>";dV+='<td style="width:7px"><div style="width:7px"></div></td>';dV+="</tr>";dV+="<tr>";dV+='<td colspan="3" style="text-align:left"><div style="margin-top:6px"><input id="xmlUrl" class="roundpad3034 epink" value="'+xmlurlsav+'" type="text" /></div></td>';dV+='<td style="width:7px"><div style="width:7px"></div></td>';dV+="</tr>";dV+="<tr>";dV+='<td colspan="4">';dV+='<div id="div_ama" style="visibility:hidden">';dV+='<table style="width:100%">';dV+="<tr>";dV+='<td style="text-align:left"><div id="lbl_bkt" class="lab11">Amazon Bucket</div></td>';dV+="<td></td>";dV+='<td style="text-align:left"><div class="lab11">Amazon Region</div></td>';dV+="</tr>";dV+="<tr>";dV+='<td><input id="inp_s3bucket" onkeyup="MpcCpanel.s3Changed(\'k\');return false" style="width:200px" class="roundpad3034 epink" value="" type="text" /></td>';dV+="<td></td>";dV+="<td>";dV+='<select id="sel_s3region" onchange="MpcCpanel.s3Changed(\'s\');return false" class="pad2024" style=";margin-right:-4px" title="Select Region">';dV+='<option value="us-east-2">US East (Ohio)</option>';dV+='<option value="us-east-1">US East (N. Virginia)</option>';dV+='<option value="us-west-1">US West (N. California)</option>';dV+='<option value="us-west-2">US West (Oregon)</option>';dV+='<option value="ca-central-1">Canada (Central)</option>';dV+='<option value="ap-south-1">Asia Pacific (Mumbai)</option>';dV+='<option value="ap-northeast-2">Asia Pacific (Seoul)</option>';dV+='<option value="ap-southeast-1">Asia Pacific (Singapore)</option>';dV+='<option value="ap-southeast-2">Asia Pacific (Sydney)</option>';dV+='<option value="ap-northeast-1">Asia Pacific (Tokyo)</option>';dV+='<option value="cn-northwest-1">China (Ningxia)</option>';dV+='<option value="eu-central-1">EU (Frankfurt)</option>';dV+='<option value="eu-west-1">EU (Ireland)</option>';dV+='<option value="eu-west-2">EU (London)</option>';dV+='<option value="eu-west-3">EU (Paris)</option>';dV+='<option value="sa-east-1">South America (Sao Paulo)</option>';dV+="</select>";dV+="</td>";dV+="</tr>";dV+="</table>";dV+="</div>";dV+="</td>";dV+="</tr>";dV+="</table>";dV+="</div>";dV+='<div id="dstatU" class="dia-status" style="position:absolute;bottom:0px;right:0px;"></div>';dV+="</div>";dV+="</div>";dV+='<div id="areaI" class="pinstripe twrap"';dV+='style="width:425px;padding:5px 15px 10px;margin-bottom:15px;background-color:'+theme.sbload+'">';dV+='<div id="areaI_opc" style="position:relative;opacity:0.3">';dV+='<div id="dstatI" class="dia-status" style="position:absolute;bottom:2px;right:0px;"></div>';dV+="<div>";dV+='<table style="width:100%">';dV+='<tr class="subI_opc">';dV+='<td colspan="4" style="text-align:left">';dV+='<div style="margin:0;"><b>Sitemap Index</b>. Submit <b>this</b> file to Google.</div>';dV+="</td>";dV+="</tr>";dV+='<tr style="white-space:nowrap" class="subI_opc">';dV+='<td style="text-align:left;width:80px"><div class="lab11">Index filename</div></td>';dV+='<td style="text-align:right;width:80px">';dV+='<div id="index-req" class="lab11" style="text-align:right;color:#c00000;visibility:hidden">NAME REQUIRED&nbsp;</div>';dV+="</td>";dV+='<td colspan="2">&nbsp;</td>';dV+="</tr>";dV+='<tr class="subI_opc">';dV+='<td colspan="2" style="text-align:left;width:200px"><input id="xmlindex" class="roundpad3034" value="'+xmlindexsav+'" type="text" /></td>';dV+='<td><div style="padding-left:1px;text-align:left">-index.xml&nbsp;</div></td>';dV+='<td style="text-align:right">';dV+='<div style="">';dV+='<button class="sexybutton allbtn wtdis" onclick="MpcCpanel.viewIndex();return false;"';dV+='title="View Sitemap Index file">';dV+='<span><span><span class="search">View Index</span></span></span>';dV+="</button>";dV+="</div>";dV+="</td>";dV+="</tr>";dV+="<tr>";dV+='<td colspan="4">';dV+='<div style="margin:11px 0 0 0">';dV+='<table style="width:100%">';dV+='<tr style="white-space:nowrap">';dV+='<td style="text-align:left">';dV+='<button class="sexybutton allbtn wtdis" onclick="MpcCpanel.delClicked();return false;"';dV+='title="Delete Index mapfile and all sitemaps listed within">';dV+='<span><span><span class="delete">Delete Index</span></span></span>';dV+="</button>";dV+="</td>";dV+='<td style="text-align:right"><div id="eradiv1" style="visibility:hidden">Delete indexed maps?&nbsp;</div></td>';dV+='<td style="width:130px">';dV+='<div id="eradiv2" style="text-align:right;visibility:hidden">';dV+='<button class="sexybutton" onclick="MpcCpanel.delYes();return false;">';dV+='<span><span><span class="accept">Yes</span></span></span>';dV+="</button>&nbsp;";dV+='<button class="sexybutton" onclick="MpcCpanel.delNo();return false;">';dV+='<span><span><span class="cancel">No</span></span></span>';dV+="</button>";dV+="</div>";dV+="</td>";dV+="</tr>";dV+="</table>";dV+="</div>";dV+="</td>";dV+="</tr>";dV+="</table>";dV+="</div>";dV+="</div>";dV+="</div>";dV+='<div id="areaP" class="pinstripe twrap"';dV+='style="position:relative;width:425px;padding:5px 15px;margin-bottom:10px;background-color:'+theme.sbload+'">';dV+='<div id="areaP_opc" style="opacity:0.3">';dV+='<table style="width:100%">';dV+="<tr>";dV+='<td colspan="6" style="text-align:left">';dV+='<div style="margin:0;">';dV+="<b>Sitemap Files</b>. Written to webroot and listed in Sitemap Index.";dV+="</div>";dV+="</td>";dV+="</tr>";dV+='<tr style="white-space:nowrap">';dV+='<td style="text-align:left;width:80px"><div class="lab11">Sitemap name</div></td>';dV+='<td style="text-align:right;width:80px">';dV+='<div id="xname-req" class="lab11" style="text-align:right;color:#c00000;visibility:hidden">NAME REQUIRED&nbsp;</div>';dV+="</td>";dV+="<td>&nbsp;</td>";dV+="<td>&nbsp;</td>";dV+="<td>&nbsp;</td>";dV+='<td><div class="lab11">Max Urls per file</div></td>';dV+="</tr>";dV+="<tr>";dV+='<td colspan="2" style="text-align:left;width:200px"><input id="xmlname" class="roundpad3034" value="'+xmlnamesav+'" type="text" /></td>';dV+='<td style="width:20px"><div style="padding-left:1px;text-align:left">.xml&nbsp;&nbsp;</div></td>';dV+='<td style="width:30px">';dV+='<div class="tdcopy1 selok" style="padding:1px 0 2px 0;width:30px;margin:0" title="Select Xml filename from root directory" ';dV+='onclick="MpcCpanel.dotdotdotClick();return false" ';dV+='id="cbShowPath"><div style="padding-top:3px"><img src="'+cp.auxdir+'/images/browse.png"></div>';dV+="</div>";dV+="</td>";dV+="<td>&nbsp;</td>";dV+='<td style="width:80px"><select id="wcnt" class="pad2024">';dV+='<option value="50000">50,000</option><option value="25000">25,000</option><option value="10000">10,000</option>';dV+='<option value="5000">5,000</option><option value="2500">2,500</option><option value="1000">1,000</option>';dV+='<option value="500">500</option><option value="250">250</option><option value="100">100</option>';dV+="</select>";dV+="</td>";dV+="</tr>";dV+="<tr>";dV+='<td colspan="6" style="text-align:left"><div class="lab11" style="padding-bottom:1px">Sitemap writing option:</div></td>';dV+="</tr>";dV+="<tr>";dV+='<td colspan="6">';dV+='<table style="width:100%">';dV+="<tr>";dV+='<td><div style="margin:2px 0"   class="xml tdcopy1 selok     " id="xml1" title="If map names exist, they are overwritten."';dV+="onclick=\"MpcCpanel.tdSelect('xml1','xml',true);return false;\">Overwrite Sitemaps</div></td>";dV+='<td><div style="margin:2px 4px" class="xml tdcopy1 selok     " id="xml2" title="Create new files. Existing sitemaps remain intact."';dV+="onclick=\"MpcCpanel.tdSelect('xml2','xml',true);return false;\">Additional Sitemaps</div></td>";dV+='<td><div style="margin:2px 0"   class="xml tdcopy1 selok fsel" id="xml3" title="Test only. Display result in browser."';dV+="onclick=\"MpcCpanel.tdSelect('xml3','xml',true);return false;\">Test Only</div></td>";dV+="</tr>";dV+='</table style="width:100%">';dV+="</td>";dV+="</tr>";dV+="</table>";dV+="</div>";dV+='<div style="position:relative;margin:10px 0 0 0;padding-bottom:0;height:29px">';dV+='<div id="btns_3" style="position:absolute;top:0;left:0;width:425px">';dV+='<table style="width:100%">';dV+='<tr style="vertical-align:middle">';dV+='<td style="width:163px;text-align:left">';dV+='<button class="sexybutton allbtn" onclick="MpcCpanel.submitXml();return false;"';dV+='title="Generate and save sitemap files" disabled="disabled">';dV+='<span><span><span class="lightbulb">Generate Sitemaps</span></span></span>';dV+="</button>";dV+="</td>";dV+='<td style="text-align:center">';dV+='<button id="bn_robots" class="sexybutton allbtn" onclick="MpcCpanel.editRobots();return false;"';dV+='title="Open robots.txt file in Mpc Editor" disabled="disabled">';dV+='<span><span><span class="pencil">Edit robots.txt</span></span></span>';dV+="</button>";dV+="</td>";dV+='<td style="width:87px;text-align:right">';dV+='<button class="sexybutton" onclick="MpcCpanel.stopXml()"';dV+='title="Close dialog">';dV+='<span><span><span id="bnCtitle" class="cancel">Cancel</span></span></span>';dV+="</button>";dV+="</td>";dV+="</tr>";dV+="</table>";dV+="</div>";dV+="</div>";dV+='<div class="XMLbox2" style="position:absolute;top:10px;left:15px;width:425px;visibility:hidden">';dV+='<table style="width:100%">';dV+="<tr>";dV+='<td style="text-align:left"><div style="margin:0;">Select filename:</div></td>';dV+="</tr>";dV+="<tr>";dV+="<td>";dV+='<div id="scrollbox2"></div>';dV+="</td>";dV+="</tr>";dV+="</table>";dV+="</div>";dV+='<div class="XMLbox2" style="position:absolute;top:3px;right:17px;visibility:hidden">';dV+='<button id="bnNoSel" class="sexybutton allbtn" onclick="MpcCpanel.showXfiles(false);return false;"';dV+='title="Close list" disabled="disabled">';dV+='<span><span><span class="cancel">No Select</span></span></span>';dV+="</button>";dV+="</div>";dV+="</div>";dV+='<div style="position:relative;height:20px">';dV+='<div id="progXml" style="text-align:left;padding-top:4px">';dV+='<div id="MPCprog" style="background-color:'+theme.sbload+'">';dV+="<div></div>";dV+="</div>";dV+="</div>";dV+='<div id="LABprog" style="font-size:11px">&nbsp;</div>';dV+='<div id="pass" style="font-size:11px;display:none">&nbsp;</div>';dV+='<div id="successXml" style="position:absolute;top:0;left:0;text-align:center;width:438px;font-size:14px;color:#00a000;font-weight:bold;text-shadow:1px 1px 0 #000000;visibility:hidden">';dV+="Sitemap Build Successful";dV+="</div";dV+="</div";dV+='<div style="display:none" id="pass"></div>';dV+="</div>";ttl="XML Sitemap Builder";if(settings.dowp==1){ttl+=" (Not for Wordpress)"}Shadowbox.open({content:dV,title:ttl,player:"html",handleOversize:"none",height:513,width:497,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"xml",onMyClose:db.stopXml,animate:settings.anim,onFinish:cr}})};function cr(){cI();jQuery("#writeto").val(mem_writeto);bO("xml");bPermu=true;n("yEG154XF3",{},function(dV){bPermu=false;if(dc>0){return}var M;try{M=jQuery.parseJSON(dV)}catch(dU){alert("JSON error: preXml \n"+dV)}mem_path_first=M.path_first;mem_path_first_item=M.path_first_item;mem_path_first_item_raw=M.path_first_item_raw;mem_path_first_count=M.path_first_count;if(M.status=="except"){Shadowbox.close();cu("ERR:"+M.caption,M.msg,"center",170,500);return}if(M.status=="dupes"){Shadowbox.close();db.messageBoxD();return}if(M.status=="permu"){Shadowbox.close();da(dV);return}if(M.urlcount==0){Shadowbox.close();cu("ERR:Xml Sitemap error","No Urls in Project","center",115,500);return}dL=M.urlcount;jQuery(".allbtn").prop("disabled",false);jQuery("#areaU_opc").css("opacity","1.0");jQuery("#areaI_opc").css("opacity","1.0");jQuery("#areaP_opc").css("opacity","1.0");jQuery("#sel_s3region").val(mem_s3_region);db.writetoChange();db.showBusyXml(false)})}db.writetoChange=function(){var M=jQuery("#xml3");var dZ=jQuery("#xml2");var dX=dZ.hasClass("fsel");var dU=jQuery(".wtdis");var dY=jQuery("#bn_robots");var d0=jQuery("#cbShowPath");var d1=jQuery("#inp_s3bucket");var dW=jQuery("#lbl_bkt");var dV=jQuery("#div_ama");switch(jQuery("#writeto").val()){case"current":dV.css("visibility","hidden");dZ.toggleClass("sb-dis",false);dZ.toggleClass("selok",true);dU.prop("disabled",false);d0.css("opacity","1.0");dY.css("opacity","1.0");dY.prop("disabled",false);d0.toggleClass("selok",true);break;case"ama_storage":if(dX){dZ.toggleClass("fsel",false);M.toggleClass("fsel",true)}dZ.toggleClass("sb-dis",true);dZ.toggleClass("selok",false);dU.prop("disabled",true);d0.css("opacity","0.3");dY.css("opacity","0.3");dY.prop("disabled",true);d0.toggleClass("selok",false);dW.html("Amazon Bucket (from Path "+mem_path_first+")");break;case"ama_website":if(dX){dZ.toggleClass("fsel",false);M.toggleClass("fsel",true)}dZ.toggleClass("sb-dis",true);dZ.toggleClass("selok",false);dU.prop("disabled",true);d0.css("opacity","0.3");dY.css("opacity","0.3");dY.prop("disabled",true);d0.toggleClass("selok",false);d1.val(mem_s3_wbucket);d1.prop("title",mem_s3_wbucket);dW.html("Amazon Bucket");break}mem_writeto=jQuery("#writeto").val();db.s3Changed("i")};db.s3Changed=function(dW){var dZ=(settings.force_ssl==1)?"https":cp.ssl;var M=jQuery("#sel_s3region").val();var dX=jQuery("#xmlUrl");var d0=jQuery("#inp_s3bucket");var dY=jQuery("#div_ama");var dV;switch(mem_writeto){case"current":dV=dZ+"://"+cp.theDomain;break;case"ama_storage":d0.val(mem_path_first_item);d0.prop("readonly",true);d0.toggleClass("forced_none",true);if(M=="us-east-1"){dV=dZ+"://s3.amazonaws.com"}else{dV=dZ+"://s3-"+M+".amazonaws.com"}mem_s3_url_storage=dV;mem_s3_region=M;dY.css("visibility","visible");break;case"ama_website":d0.prop("readonly",false);d0.toggleClass("forced_none",false);var dU=d0.val();if(dW=="k"){dU=dU.toLowerCase();if(dU.match(/[^a-z0-9.-]/g)){dU=dU.replace(/[^a-z0-9.-]/g,"")}d0.val(dU)}d0.prop("title",dU);dV=dZ+"://"+dU+".s3-website"+Y(M)+".amazonaws.com";mem_s3_url_website=dV;mem_s3_region=M;mem_s3_wbucket=dU;dY.css("visibility","visible");break}dX.val(dV);dX.prop("title",dV)};function c5(){switch(mem_writeto){case"current":return"";break;case"ama_storage":return mem_path_first_item;break;case"ama_website":return mem_s3_wbucket;break}}function aJ(){switch(mem_writeto){case"current":return"";break;case"ama_storage":return mem_s3_url_storage;break;case"ama_website":return mem_s3_url_website;break}}function Y(M){var dU=".";switch(M){case"us-east-2":case"ca-central-1":case"ap-south-1":case"ap-northeast-2":case"cn-northwest-1":case"eu-central-1":case"eu-west-2":case"eu-west-3":break;case"us-east-1":case"us-west-1":case"us-west-2":case"ap-southeast-1":case"ap-southeast-2":case"ap-northeast-1":case"eu-west-1":case"sa-east-1":dU="-";break}return dU+M}db.delClicked=function(){jQuery(".allbtn").prop("disabled",true);jQuery("#areaP_opc").css("opacity","0.3");jQuery(".subI_opc").css("opacity","0.3");jQuery("#eradiv1").css("visibility","visible");jQuery("#eradiv2").css("visibility","visible")};db.delNo=function(){jQuery(".allbtn").prop("disabled",false);jQuery("#areaP_opc").css("opacity","1.0");jQuery(".subI_opc").css("opacity","1.0");jQuery("#eradiv1").css("visibility","hidden");jQuery("#eradiv2").css("visibility","hidden");db.writetoChange()};db.delYes=function(){jQuery("#eradiv1").css("visibility","hidden");jQuery("#eradiv2").css("visibility","hidden");aj("ttlbusy");var dU=jQuery("#xmlindex").val();dU=dU.trim();jQuery("#xmlindex").val(dU);var M=jQuery("#xmlUrl").val();M=M.replace(/\./g,"^");aN("ajax_delXml",{iname:dU,domroot:cp.dotdot+"../",domcaret:M},function(dV){jQuery("#areaP_opc").css("opacity","1.0");jQuery(".subI_opc").css("opacity","1.0");jQuery(".allbtn").prop("disabled",false);ca("ttlbusy");if(dV=="noindex"){a("dstatI","gold","Index not found. Nothing deleted")}else{a("dstatI","lightgreen","Sitemaps and Index deleted")}})};db.submitXml=function(){var dZ=(settings.force_ssl==1)?"https":cp.ssl;var d0=jQuery("#xmlname").val();d0=d0.trim();var dW=jQuery("#xmlindex").val();dW=dW.trim();var dV=jQuery("#xmlUrl");var dY=dV.val();dY=dY.replace(/[\/ ]+$/,"");dY=dY.replace(/^[\/ ]+/,"");dV.val(dY);if(dY==""){db.warnXmlUrl(true);return false}if(!dY.match(/^(http:|https:)/i)){dY=dZ+"://"+dY}dV.val(dY);xmlurlsav=dY;var dU=jQuery("#writeto").val();var M=dU.substr(0,4);var dX=bi("xml",3);if(dX!=3){if(dW==""){db.warnIndex(true);return false}if(d0==""){db.warnXname(true);return false}if((M=="ama_")&&(cp.php_version<5.5)){a("dstatU","pink","S3 upload requires PHP 5.5+");return false}}xmlindexsav=dW;xmlnamesav=d0;db.showBusyXml(true);if((M=="ama_")&&(dX!=3)){setTimeout("MpcCpanel._submitXml_Amazon()",10);return false}setTimeout("MpcCpanel._submitXml()",10);return false};db._submitXml=function(){db.submitBP("xml")};db._submitXml_Amazon=function(){var dU=true;var dW=true;var dV=mem_s3_wbucket;if(mem_writeto=="ama_storage"){dU=(mem_path_first_item_raw.substr(-1)=="/");dW=(mem_path_first_count==1);dV="!"}var M=c5();aN("yCCc55X5A",{caller:"xml",bucketname:M,region:mem_s3_region,wbucket:dV,bslash_ok:dU,bcount_ok:dW},function(dY){var dX=jQuery.parseJSON(dY);switch(dX.status){case"bad_key_test":Shadowbox.close();if(dX.msg==""){cu("ERR:Amazon API key error",'Api keys could not be authenticated. <a href="https://masspagecreator.com/ck/errpage.php?cmd=S3api" target="_blank">More info</a>',"center",117,540)}else{cu("ERR:Amazon API error",dX.msg+'. <a href="https://masspagecreator.com/ck/errpage.php?cmd=cert" target="_blank">More info</a>',"center",117,540)}break;case"ng_bucket":Shadowbox.close();cu("ERR:Amazon bucket error",dX.msg,"center",117,540);break;case"ok_test":db.submitBP("xml_amazon");break}});return false};db.cloudXmlReturn=function(M){jQuery("#btns_1").css("visibility","hidden");jQuery("#LABprog").html("Uploading to cloud. Please wait...");setTimeout(function(){MpcCpanel._cloudXml(M)},10);return false};db._cloudXml=function(dU){var M=(mem_writeto=="ama_website")?"Sitemap: "+aJ()+"/"+xmlindexsav+"-index.xml":"";if(dU=="xml_amazon"){aN("y0Ax56XAx",{fromdir:"cloudxml",region:mem_s3_region,bucket:c5(),robots:M},function(dW){var dV=jQuery.parseJSON(dW);switch(dV.status){case"ex_error":Shadowbox.close();cu("ERR:Amazon bucket error",dV.msg,"center",117,540);break;case"ok_upload":MpcCpanel.showBusyXml(false);MpcCpanel.successXml(true);break}})}};db.cancelXml=function(){db.setCancel(1);return false};db.viewIndex=function(){var M=jQuery("#xmlindex").val();M=M.trim();jQuery("#xmlindex").val(M);aN("yCGedbXCx",{fname:cp.dotdot+"../"+M+"-index.xml"},function(dU){if(dU==1){w=cK.open(cp.dotdot+"../"+M+"-index.xml")}else{a("dstatI","pink","Index file not found")}},true);return false};db.editRobots=function(){jQuery(".allbtn").prop("disabled",true);aj("ttlbusy");treeSelFname=cp.dotdot+"robots.txt";bq("editPage","text","1","");setTimeout("MpcCpanel.fixVR()",3000);return false};db.fixVR=function(){jQuery(".allbtn").prop("disabled",false);ca("ttlbusy")};db.dotdotdotClick=function(){if(!jQuery("#cbShowPath").hasClass("selok")){return false}db.showBusyXml(true);db.showXfiles(true);aN("a0dE1fXCF",{domroot:cp.dotdot+"../"},function(dW){var dX="&nbsp;no xml sitemaps found";if(dW!="none"){dX="";var dU;var dV=jQuery.parseJSON(dW);var M=dV.length;for(dU=0;dU<M;dU++){dX+='<div class="smx" id="smx'+dU+'" onclick="MpcCpanel.smClick(\''+dU+"')\">"+dV[dU]+"</div>"}}jQuery("#scrollbox2").html(dX);db.showBusyXml(false)})};db.smClick=function(dV){var dU=jQuery("#smx"+dV).html();var M=dU.length;jQuery("#xmlname").val(dU.substr(0,M-4));db.showXfiles(false)};db.showXfiles=function(M){jQuery("#areaI_opc").css("visibility",(M)?"hidden":"visible");jQuery("#areaP_opc").css("visibility",(M)?"hidden":"visible");jQuery(".XMLbox2").css("visibility",(M)?"visible":"hidden")};db.showBusyXml=function(M){if(M){aj("ttlbusy");jQuery("#bnCtitle").html("Cancel")}else{ca("ttlbusy");jQuery("#bnCtitle").html("Close")}jQuery(".allbtn").prop("disabled",M);jQuery("#areaU_opc").css("opacity",(M)?0.3:1);jQuery("#areaI_opc").css("opacity",(M)?0.3:1);jQuery("#areaP_opc").css("opacity",(M)?0.3:1);jQuery(".xml").toggleClass("selok",!M);jQuery("#cbShowPath").toggleClass("selok",!M);db.writetoChange();if(!M){jQuery("#LABprog").html("")}};db.mouseDownXml=function(){jQuery(".epink").css("background-color","white");db.hideDiaStatus();db.warnXmlUrl(false);db.warnXname(false);db.warnIndex(false);db.successXml(false)};db.stopXml=function(){if(bPolling||bPermu){db.setCancel(1)}if(!bPolling){Shadowbox.close()}};db.warnXmlUrl=function(M){jQuery("#xmlUrl").toggleClass("warnn",M);jQuery("#xurl-req").css("visibility",(M)?"visible":"hidden")};db.warnIndex=function(M){jQuery("#xmlindex").toggleClass("warnn",M);jQuery("#index-req").css("visibility",(M)?"visible":"hidden")};db.warnXname=function(M){jQuery("#xmlname").toggleClass("warnn",M);jQuery("#xname-req").css("visibility",(M)?"visible":"hidden")};db.successXml=function(dU){var dV=jQuery("#successXml");var M=(jQuery("#writeto").val()=="current")?"Sitemap Build Successful":"Sitemap Build and Upload Successful";dV.html(M);dV.css("visibility",(dU)?"visible":"hidden");jQuery("#progXml").css("visibility",(dU)?"hidden":"visible")};db.diaRss=function(){bCloseOk=true;var M='<img src="'+cp.auxdir+'/css/silk/trash_16.gif" width="16" height="16">';if(cp.testing==1){M='<img src="cssfiles/silk/trash_16.gif" width="16" height="16">'}var dU="";dU+='<div class="dia-content noselect" style="padding:10px 0 0 15px" onmousedown="MpcCpanel.hideDiaStatus();return true;">';dU+='<div style="margin-bottom:10px">';dU+='<div id="feed_url" class="yesselect"></div>';dU+="</div>";dU+='<table style="width:100%">';dU+="<tr>";dU+='<td style="vertical-align:top">';dU+='<div class="pinstripe twrap DYNbox wbox" style="position:relative;height:100px;width:380px;margin:0;padding:6px 10px 10px">';dU+='<div id="diaDF" class="dia-status" style="position:absolute;top:5px;right:13px;"></div>';dU+='<table style="width:100%">';dU+="<tr>";dU+='<td colspan="4"><div style="margin-bottom:0">RSS Feed Details</div></td>';dU+="</tr>";dU+="<tr>";dU+='<td class="lab11"><div>Feed Title</div></td>';dU+="<td>&nbsp;&nbsp;</td>";dU+='<td class="lab11"><div>Feed Subfolder</div></td>';dU+='<td><div style="width:4px"></div></td>';dU+="</tr>";dU+='<tr style="white-space:nowrap">';dU+='<td><input id="chan_title" type="text" class="didv1 dydim" xdisabled="disabled"></td>';dU+="<td>&nbsp;&nbsp;</td>";dU+='<td style="width:100px"><input id="feed_subdir" type="text" onkeyup="MpcCpanel.subdirChange(event);return false"';dU+='class="didv1 dydim" value="rssfeed" xdisabled="disabled"></td>';dU+='<td><div style="width:4px"></div></td>';dU+="</tr>";dU+="<tr>";dU+='<td colspan="4" class="lab11"><div>Description (optional)</div></td>';dU+="</tr>";dU+='<tr style="white-space:nowrap">';dU+='<td colspan="3"><input id="chan_description" type="text" class="didv1 dydim" xdisabled="disabled"></td>';dU+='<td><div style="width:4px"></div></td>';dU+="</tr>";dU+="</table>";dU+="</div>";dU+="</td>";dU+='<td rowspan="2" style="vertical-align:top">';dU+='<div id="dypin" class="pinstripe twrap DYNbox" style="position:relative;height:269px;width:400px;margin:0;padding:6px 0 10px">';dU+='<table style="width:100%">';dU+="<tr>";dU+='<td><span style="margin-left:10px;padding-bottom:1px">&nbsp;Attribution</span></td>';dU+='<td class="radvis" style="text-align:right" title="Position attribution above or below article">Placement:&nbsp;</td>';dU+='<td style="width:40px"><div class="radvis tdadd_left selok cbtn" style="width:40px;padding:3px 5px"';dU+='title="Place attribution above the article"';dU+="onmouseover=\"MpcCpanel.togOver('idA');return false;\" onmouseout=\"MpcCpanel.togOut('idA');return false;\"";dU+='onclick="MpcCpanel.abnClicked(\'0\');return false;" id="idA">Above</div></td>';dU+='<td style="width:40px"><div class="radvis tdadd_center selok cbtn" style="width:40px;padding:3px 5px"';dU+='title="Place attribution below the article"';dU+="onmouseover=\"MpcCpanel.togOver('idB');return false;\" onmouseout=\"MpcCpanel.togOut('idB');return false;\"";dU+='onclick="MpcCpanel.abnClicked(\'1\');return false;" id="idB">Below</div></td>';dU+='<td style="width:40px"><div class="radvis tdadd_right selok fsel" style="width:40px;padding:3px 5px"';dU+='title="No attribution in RSS feed"';dU+="onmouseover=\"MpcCpanel.togOver('idN');return false;\" onmouseout=\"MpcCpanel.togOut('idN');return false;\"";dU+='onclick="MpcCpanel.abnClicked(\'2\');return false;" id="idN">None</div></td>';dU+='<td style="width:12px"></td>';dU+="</tr>";dU+="<tr>";dU+='<td class="lab11" colspan="9"><div style="margin-left:10px">Sample Output (click to update or re-spin)</div></td>';dU+="</tr>";dU+="<tr>";dU+='<td colspan="9" style="width:380px">';dU+='<div id="feed_sample" class="feed_sample" onclick="MpcCpanel.showSample();return false;"><div>';dU+="</td>";dU+="</tr>";dU+='<tr style="white-space:nowrap">';dU+='<td colspan="9" class="lab11"><div style="margin-left:10px">Attribution Spintax</div></td>';dU+="</tr>";dU+="<tr>";dU+='<td colspan="9"><textarea id="rsstextarea" textwrap tabindex="10" spellcheck="false"';dU+=' disabled="disabled" style="width:370px"';dU+=' class="noselect didv1 dydim transparent_bang"></textarea></td>';dU+="</tr>";dU+="<tr>";dU+='<td colspan="9">';dU+='<table style="width:100%">';dU+="<tr>";dU+='<td class="lab11" style="text-align:left"><div style="margin-left:10px;visibility:hidden" class="attvis">';dU+="<a href=\"javascript:MpcCpanel.defAttr('dom')\">DOMAIN ONLY</a> | <a href=\"javascript:MpcCpanel.defAttr('both')\">PAGE & DOMAIN</a>";dU+="</div></td>";dU+='<td colspan="8" style="text-align:right"><div style="padding:3px 10px 0 0">';dU+='<button id="bnEditAtt" class="sexybutton allbtns" title="Edit Attribute spintax"';dU+='onclick="MpcCpanel.editAtt();return false;" disabled="disabled">';dU+='<span><span><span id="edTitle" class="pencil">Edit Attribution</span></span></span>';dU+="</button>";dU+="</div></td>";dU+="</tr>";dU+="</table>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+='<div class="pinstripe twrap DYNbox wbox" style="position:relative;height:60px;width:380px;margin:15px 0 0 0;padding:6px 10px 10px">';dU+='<table style="white-space:nowrap;width:100%">';dU+="<tr>";dU+='<td style="text-align:left"><div>Notify when RSS Completed</div></td>';dU+='<td style="text-align:right"><input type="checkbox" id="feed_cb_notify" onchange="MpcCpanel.feedNotifyChange();return false;"</td>';dU+='<td style="width:10px">&nbsp;<label for="feed_cb_notify">Enable</label></td>';dU+="</tr>";dU+="<tr>";dU+='<td colspan="3" class="lab11"><div class="feed_notify" style="opacity:0.3">Email or Text Message address</div></td>';dU+="</tr>";dU+="<tr>";dU+='<td colspan="3">';dU+='<table class="feed_notify" style="white-space:nowrap;width:100%;opacity:0.3">';dU+="<tr>";dU+='<td style="text-align:left;width:173px"><input id="feed_email1" style="width:173px;text-align:right;padding-right:4px"';dU+='type="text" xdisabled="disabled" class="didv1"></td>';dU+='<td style="width:2px"><div style="margin:0 2px;font-weight:bold">@</div></td>';dU+='<td style="text=align:left;width:173px"><input id="feed_email2" style="width:173px;text-align:left"';dU+='type="text" xdisabled="disabled" class="didv1"></td>';dU+="<td></td>";dU+="</tr>";dU+="</table>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="<tr>";dU+='<td style="vertical-align:top">';dU+='<div class="pinstripe twrap DYNbox wbox" style="position:relative;height:113px;width:380px;margin:15px 0 0 0;padding:6px 10px 10px">';dU+='<table style="white-space:nowrap;width:100%">';dU+="<tr>";dU+='<td colspan="3"><div>RSS Page Counts and Options</div></td>';dU+="</tr>";dU+='<tr><td colspan="3"><div style="height:9px"></div></td></tr>';dU+="<tr>";dU+='<td colspan="2" style="width:78px"><input id="feed_init" onKeyup="MpcCpanel.onKeyup_digits(event);return false;" style="width:78px;text-align:center"';dU+='type="text" xdisabled="disabled" class="didv1"></td>';dU+='<td style="font-size:9pt">&nbsp;Page count to syndicate <b>on start up</b>.</td>';dU+="</tr>";dU+='<tr><td colspan="3"><div style="height:2px"></div></td></tr>';dU+="<tr>";dU+='<td colspan="2"style="width:78px"><input id="feed_recur" onKeyup="MpcCpanel.onKeyup_digits(event);return false;" style="width:78px;text-align:center"';dU+='type="text" xdisabled="disabled" class="didv1"></td>';dU+='<td style="font-size:9pt">&nbsp;Page count to syndicate <b>each interval</b>.</td>';dU+="</tr>";dU+='<tr><td colspan="3"><div style="height:2px"></div></td></tr>';dU+="<tr>";dU+='<td style="width:30px"><div class="cbb tdadd_left selok" style="width:30px;padding:3px 5px" title="Open in browser"';dU+="onmouseover=\"MpcCpanel.togOver('cbWindow');return false;\" onmouseout=\"MpcCpanel.togOut('silo_y');return false;\"";dU+='onclick="MpcCpanel.ynClicked(\'silo_\');return false;" id="silo_y">Yes</div></td>';dU+='<td style="width:30px"><div class="cbb tdadd_right selok fsel" style="margin-right:2px;width:30px;padding:3px 5px" title="Open in separate window"';dU+="onmouseover=\"MpcCpanel.togOver('cbBrowser');return false;\" onmouseout=\"MpcCpanel.togOut('silo_n');return false;\"";dU+='onclick="MpcCpanel.ynClicked(\'silo_\');return false;" id="silo_n">No</div></td>';dU+='<td  style="font-size:11px">&nbsp;Syndicate <b>Silo Index</b> pages first.</td>';dU+="</tr>";dU+='<tr><td colspan="3"><div style="height:2px"></div></td></tr>';dU+="<tr>";dU+='<td style="width:30px"><div class="cbb tdadd_left selok" style="width:30px;padding:3px 5px" title="Open in browser"';dU+="onmouseover=\"MpcCpanel.togOver('cbWindow');return false;\" onmouseout=\"MpcCpanel.togOut('foll_y');return false;\"";dU+='onclick="MpcCpanel.ynClicked(\'foll_\');return false;" id="foll_y">Yes</div></td>';dU+='<td style="width:30px"><div class="cbb tdadd_right selok fsel" style="margin-right:2px;width:30px;padding:3px 5px" title="Open in separate window"';dU+="onmouseover=\"MpcCpanel.togOver('cbBrowser');return false;\" onmouseout=\"MpcCpanel.togOut('foll_n');return false;\"";dU+='onclick="MpcCpanel.ynClicked(\'foll_\');return false;" id="foll_n">No</div></td>';dU+="<td style=\"font-size:11px\">&nbsp;Set <b>'No Follow'</b> hyperlink attributes.</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+='<div class="pinstripe twrap DYNbox wbox" style="position:relative;height:81px;width:380px;margin:15px 0 0 0;padding:6px 10px 10px">';dU+='<table style="white-space:nowrap;width:100%">';dU+="<tr>";dU+='<td colspan="4"><div>RSS Interval Timer</div></td>';dU+="</tr>";dU+="<tr>";dU+='<td class="lab11"><div>Days</div></td>';dU+="<td></td>";dU+='<td class="lab11"><div>Hours</div></td>';dU+="<td></td>";dU+="</tr>";dU+="<tr>";dU+='<td style="width:40px"><input id="feed_dmin" onKeyup="MpcCpanel.onKeyup_digits(event);return false;" style="width:40px;text-align:center"';dU+='type="text" xdisabled="disabled" class="didv1"></td>';dU+='<td style="width:2px"><div style="margin:0 2px;font-weight:bold">:</div></td>';dU+='<td style="width:40px"><input id="feed_hmin" onKeyup="MpcCpanel.onKeyup_digits(event);return false;" style="width:40px;text-align:center"';dU+='type="text" xdisabled="disabled" class="didv1"></td>';dU+="<td>&nbsp;Minimum interval <b>days:hours</b>.</td>";dU+="</tr>";dU+='<tr><td><div style="height:2px"></div></td></tr>';dU+="<tr>";dU+='<td style="width:40px"><input id="feed_dmax" onKeyup="MpcCpanel.onKeyup_digits(event);return false;" style="width:40px;text-align:center"';dU+='type="text" xdisabled="disabled" class="didv1"></td>';dU+='<td style="width:2px"><div style="margin:0 2px;font-weight:bold">:</div></td>';dU+='<td style="width:40px"><input id="feed_hmax" onKeyup="MpcCpanel.onKeyup_digits(event);return false;" style="width:40px;text-align:center"';dU+='type="text" xdisabled="disabled" class="didv1"></td>';dU+="<td>&nbsp;Maximum interval <b>days:hours</b>.</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+='<div style="margin-top:15px" class="wbox">';dU+='<table style="width:100%">';dU+="<tr>";dU+='<td style="text-align:left">';dU+='<button class="sexybutton allbtns" title="Start drip feed"';dU+='onclick="MpcCpanel.dyLoad();return false;" xdisabled="disabled">';dU+='<span><span><span class="stop_green">Start RSS Drip</span></span></span>';dU+="</button>&nbsp;&nbsp;&nbsp;";dU+='<button class="sexybutton allbtns" title="Stop drip feed"';dU+='onclick="MpcCpanel.dySave();return false;" xdisabled="disabled">';dU+='<span><span><span class="stop_red">Stop RSS Drip</span></span></span>';dU+="</button>&nbsp;&nbsp;&nbsp;";dU+='<button class="sexybutton allbtns" title="Close this dialog"';dU+='onclick="Shadowbox.close();return false;" xdisabled="disabled">';dU+='<span><span><span class="stop_blue">Close Dialog</span></span></span>';dU+="</button>";dU+="</td>";dU+='<td style="text-align:right">';dU+='<div>Syndicated: 0 of 24,000 (<span style="color:#c00000">stopped</span>)</div>';dU+="</td>";dU+='<td style="width:15px"><div style="width:15px"></div></td>';dU+="</tr>";dU+="</table>";dU+="</div>";dU+="</div>";Shadowbox.open({content:dU,title:"RSS Feed Configuration (HTML Use Only)",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,displayNav:0,onFinish:dq},height:479,width:850})};function dq(){cI();jQuery(".didv1").toggleClass("dydim",false);g(jQuery("#feed_subdir").val());aN("ajax_initDyna",{},function(dY){ca("ttlbusy");return;var dV=jQuery.parseJSON(dY);if(dV.stat!="ok"){}jQuery("#nwlinks").css("visibility","visible");var dU;var d0;var dX={};var dZ=jQuery("#dyna_loc");var M=dV.loc.length;for(dU=0;dU<M;dU++){d0=dV.loc[dU].indexOf("/");d=dV.loc[dU].substr(0,d0);dZ.append(jQuery("<option></option>").val(dV.loc[dU]).html(d))}dZ.prop("disabled",false);dZ.toggleClass("dydim",false);MpcCpanel.showDyLocVars();db.dyRead();jQuery(".didv1").prop("disabled",false);jQuery(".didv1").toggleClass("dydim",false);jQuery(".allbtns").prop("disabled",false);var dW=dV.dyna_fname.replace(/\.dyn$/i,"");jQuery("#dyna_fname").html(dW);if(dW=="Untitled"){dW="";cd=true}else{cd=false}jQuery("#dyc_fname").val(dW)})}db.feedNotifyChange=function(){var M=(jQuery("#feed_cb_notify").prop("checked"))?"1.0":"0.3";jQuery(".feed_notify").css("opacity",M)};db.subdirChange=function(dV){var dU=("which" in dV)?dV.which:dV.keyCode;if((dU==37)||(dU==39)){return}var M=jQuery("#feed_subdir");var dW=M.val();dW=dW.toLowerCase();if(dW.match(/[^a-z0-9_-]/g)){dW=dW.replace(/[^a-zA-Z0-9_]/g,"")}M.val(dW);g(dW)};function g(dU){var M=(dU=="")?"":"/"+dU;jQuery("#feed_url").html("Feed Url: http://"+cp.theDomain+M+"/rss.xml")}db.defAttr=function(dU){var M="";if(dU=="dom"){M+='{See|Read|Find} {more|additional}{ info| information|} at <a href="http://#DOMAIN#/"{ rel="nofollow"|}>';M+="{http://#DOMAIN#/|http://#DOMAIN#|http://www.#DOMAIN#/|http://www.#DOMAIN#}</a>"}else{M+="{This {post|article|blog post}|} #PAGELINK#{ was {first|originally} {seen on|published on|published to}|";M+=' is {courtesy of|available on|republished from}|{. See|. Read|. Find} more at:} <a href="http://#DOMAIN#/"';M+='{ rel="nofollow"|}>{http://#DOMAIN#/|http://#DOMAIN#|http://www.#DOMAIN#/|http://www.#DOMAIN#|#DOMAIN#}</a>'}jQuery("#rsstextarea").val(M);db.showSample()};db.showSample=function(){var M=jQuery("#rsstextarea").val();aN("ajax_rss_sample",{attr:M,dom:cp.theDomainPCaret},function(dU){rj=jQuery.parseJSON(dU);if(rj.stat="ok"){jQuery("#feed_sample").html(rj.msg)}})};db.abnClicked=function(dV){var M=new Array(false,false,false);M[dV]=true;jQuery("#idA").toggleClass("fsel",M[0]);jQuery("#idB").toggleClass("fsel",M[1]);jQuery("#idN").toggleClass("fsel",M[2]);var dU=jQuery("#bnEditAtt");if(dV==2){dU.prop("disabled",true);jQuery(".attvis").css("visibility","hidden");jQuery("#feed_sample").html("");jQuery("#rsstextarea").val("")}else{dU.prop("disabled",false);jQuery(".attvis").css("visibility","visible")}};db.editAtt=function(){var dU=jQuery("#rsstextarea");var dV=jQuery("#edTitle");if(dV.html()=="Edit Attribution"){jQuery(".radvis").css("visibility","hidden");jQuery(".wbox").css("display","none");dU.toggleClass("transparent_bang",false);dU.toggleClass("white",true);dU.toggleClass("noselect",false);dU.prop("disabled",false);jQuery("#dypin").css("width","818px");jQuery("#feed_sample").css("width","794px");var M=jQuery("#rsstextarea");M.css("width","788px");dV.html("Close Editor");M.focus()}else{jQuery(".radvis").css("visibility","visible");dV.html("Edit Attribution");jQuery(".wbox").css("display","block");jQuery("#dypin").css("width","400px");jQuery("#feed_sample").css("width","374px");var M=jQuery("#rsstextarea");M.css("width","370px");dU.prop("disabled",true);dU.toggleClass("white",false);dU.toggleClass("transparent_bang",true);dU.toggleClass("noselect",true)}};db.ynClicked=function(dW){var dV=jQuery("#"+dW+"y");var dU=jQuery("#"+dW+"n");if(dV.hasClass("sb-dis")||dU.hasClass("sb-dis")){return}if(!dV.hasClass("selok")||!dU.hasClass("selok")){return}var M=dV.hasClass("fsel");dV.toggleClass("fsel",!M);dU.toggleClass("fsel",M);return};db.acceptRSS=function(){};db.RSSqmrkDyna=function(){dyhelp=cK.open("https://masspagecreator.com/links.php?go=dyna")};db.RSSonKeyup=function(M){if((M.which==37)||(M.which==39)||(M.which==38)||(M.which==40)){return}aO(false)};function A(M){if(M){jQuery("#promptDS").css({"background-color":"transparent",color:"black"})}else{jQuery("#promptDS").css({"background-color":"red",color:"white"})}}db.RSSxClose=function(){if(!bCloseOk){return}if(!cd){Shadowbox.close()}else{db.hideDiaStatus();jQuery(".pinstripe").css("opacity","0.2");jQuery("#reportBoxDy").css("opacity","0.2");jQuery("#exit_yn").css("display","block");jQuery(".didv1").prop("disabled",true);jQuery(".didv1").toggleClass("dydim",true);jQuery(".fdim").toggleClass("forceDim",true);jQuery(".allbtns").prop("disabled",true);jQuery(".allbtns1").prop("disabled",true)}};db.RSSxCloseNo=function(){jQuery(".pinstripe").css("opacity","1.0");jQuery("#reportBoxDy").css("opacity","1.0");jQuery("#exit_yn").css("display","none");jQuery(".didv1").prop("disabled",false);jQuery(".didv1").toggleClass("dydim",false);jQuery(".fdim").toggleClass("forceDim",false);jQuery(".allbtns").prop("disabled",false);jQuery(".allbtns1").prop("disabled",false)};db.RSSxCloseYes=function(){Shadowbox.close()};db.RSSselectChange=function(){db.clearAllVarMatch();a1();db.showDyLocVars();db.dyRead()};db.RSSshowDyLocVars=function(){var dV=jQuery("#dyna_loc").val();var dU=dV.split("/");var M,dW;for(M=1;M<dU.length;M++){if(dU[M]=="default_novar"){continue}dW=jQuery("#v"+M);dW.html(dU[M]);dW.toggleClass("fsel",true);dW=jQuery("#t"+M);dW.prop("disabled",false);dW.toggleClass("dydim",false);jQuery("#dyd"+M).css("visibility","visible")}};function k(){jQuery(".tdadd").html("&nbsp;");jQuery(".tdadd").toggleClass("fsel",false);jQuery(".didv").html("");jQuery(".didv").prop("disabled",true);jQuery(".didv").toggleClass("dydim",true);jQuery(".trs").css("visibility","hidden")}db.RSSclearDyLine=function(dU){var M=jQuery("#t"+dU);if(M.val()!=""){aO(false)}M.val("");M.focus()};db.RSSclearAllVarMatch=function(){jQuery(".didv").val("");jQuery("#t1").focus();aO(false)};db.RSSdyRead=function(){aN("ajax_readDyna",{loc_json:aI(false)},function(dU){var M=jQuery.parseJSON(dU);if(M.stat=="ok"){jQuery("#dytextarea").val(M.msg);a("diaDS","lightgreen","Read entry successful");aO(true)}else{jQuery("#dytextarea").val("");a("diaDS","pink",M.errmsg)}})};db.RSSdyWrite=function(){aN("ajax_writeDyna",{loc_json:aI(true)},function(dU){var M=jQuery.parseJSON(dU);if(M.stat=="ok"){a("diaDS","lightgreen","Write entry successful");cd=true;aO(true)}else{a("diaDS","pink",M.errmsg)}})};db.RSSdyRemove=function(){var M="";if(M==""){return}jQuery(".allbtns1").prop("disabled",true);aj("ttlbusy");aN("ajax_removeDyna",{checked:M,loc:aM()},function(dV){var dU=jQuery.parseJSON(dV);if(dU.stat=="ok"){jQuery("#reportBoxDy").html(dU.report);a("diaRE","gold",dU.msg);cd=true}else{}jQuery(".allbtns1").prop("disabled",false);ca("ttlbusy")})};db.RSSdyClear=function(){jQuery("#dytextarea").val("");aO(false)};function cc(dY){var dW=jQuery("#dyna_loc").val();var dX=dW.split("/");var dU=dX.length;var dV={};dV.ident=dX[0];var M;for(M=1;M<dU;M++){dV[dX[M]]=jQuery("#t"+M).val()}if(dY){dV.shortcode_data=jQuery("#dytextarea").val()}return JSON.stringify(dV)}function dP(){var M=[];jQuery("#dyna_loc option").each(function(){M.push(jQuery(this).val())});return M.join()}db.RSSdySave=function(){var M=jQuery("#dyc_fname");var dU=M.val();dU=dU.trim();M.val(dU);if(dU==""){a("diaDF","pink","Name cannot be blank");return}dU=dU.trim();jQuery("#dyna_fname").html(dU);dU=encodeURIComponent(dU);f=document.getElementById("dynaform");f.dest_name.value=dU;cd=false;f.submit()};db.RSSdyNew=function(){bCloseOk=false;jQuery("#lsn_btns").css("display","none");jQuery("#yn_btns").css("display","block");jQuery(".didv1").prop("disabled",true);jQuery(".didv1").toggleClass("dydim",true);jQuery(".fdim").toggleClass("forceDim",true);jQuery(".allbtns").prop("disabled",true)};db.RSSdyNewNo=function(){bCloseOk=true;jQuery("#yn_btns").css("display","none");jQuery("#lsn_btns").css("display","block");jQuery(".didv1").prop("disabled",false);jQuery(".didv1").toggleClass("dydim",false);jQuery(".fdim").toggleClass("forceDim",false);jQuery(".allbtns").prop("disabled",false)};db.RSSdyNewYes=function(){aN("ajax_newDyna",{},function(M){jQuery("#dyna_fname").html("Untitled");jQuery("#dyc_fname").val("");jQuery("#dytextarea").val("");cd=true;db.dyNewNo()})};db.RSSselectEntry=function(dV){if(jQuery("#bnHideReport").prop("disabled")){return}var M=jQuery.parseJSON(decodeURIComponent(dV));ax();jQuery("#dyna_loc").val(M.ident);db.clearAllVarMatch();a1();db.showDyLocVars();if(M["default"]==0){var dU=M.ident.split("/");for(x=1;x<dU.length;x++){jQuery("#t"+x).val(M[dU[x]])}}db.dyRead()};db.RSShideReportClicked=function(){ax();db.dyRead()};function b0(){jQuery("#reportBoxDy").css("visibility","hidden");jQuery("#bnReport").css("visibility","hidden");jQuery(".DYNbox").css("visibility","visible")}db.RSSshowReport=function(){jQuery(".DYNbox").css("visibility","hidden");jQuery("#reportBoxDy").css("visibility","visible");jQuery("#bnReport").css("visibility","visible");aN("ajax_reportDyna",{loc:aM()},function(dU){var M=jQuery.parseJSON(dU);if(M.stat!="ok"){jQuery("#dytextarea").html("err");a("diaDS","pink",M.errmsg)}else{jQuery("#reportBoxDy").html(M.report)}})};db.RSSdyLoad=function(){browse_cmd="dyna";jQuery(".DYNbox").css("visibility","hidden");jQuery(".LODbox").css("visibility","visible");jQuery("#nwlinks").css("visibility","hidden");var M=encodeURIComponent(theme.text);var dU=encodeURIComponent(theme.sbload);var dV=theme.linkAsc;jQuery("#dynaIframe").attr("src",cp.auxdir+"/uploader.php?cmd=ftp&thm_sbload="+dU+"&thm_sbbody=none&thm_text="+M+"&VER="+cp.ver+"&TESTING="+cp.testing+"&psk="+dV)};db.RSSdyLoadCancel=function(){jQuery(".LODbox").css("visibility","hidden");jQuery(".DYNbox").css("visibility","visible");jQuery("#nwlinks").css("visibility","visible");jQuery("#dynaIframe").attr("src","")};function bR(M){aN("ajax_copyDyna",{fname:M},function(dW){var dU=jQuery.parseJSON(dW);jQuery(".LODbox").css("visibility","hidden");jQuery(".DYNbox").css("visibility","visible");jQuery("#nwlinks").css("visibility","visible");jQuery("#dynaIframe").attr("src","");if(dU.stat=="ng"){a("diaDF","pink",dU.msg);return}var dV=M.replace(/\.dyn$/i,"");jQuery("#dyna_fname").html(" "+dV);jQuery("#dyc_fname").val(" "+dV);cd=false})}db.bypassCF=function(M){mem_cf_caller=M;Shadowbox.close(true);var dU="";dU+='<div spellcheck="false" class="dia-content noselect" style="position:relative;text-align:left;white-space:nowrap;padding-top:15px" onmousedown="MpcCpanel.hideDiaStatusPink();return true">';dU+='<div id="ttlbusy" class="busycss" style="position:absolute;top:10px;right:15px"></div>';dU+="<div>";dU+="When Cloudflare status is Active, a 100 second timeout is imposed on your server connection.<br>";dU+="Bypass this timeout by setting CF to Development mode (click 'Bypass Timeout').<br>";dU+="</div>";dU+='<div style="margin:6px 0 0">';dU+="CF will automatically reset to Active (within 3 hours), or you can click 'Reset Active'.";dU+="</div>";dU+='<div class="pinstripe twrap0" style="position:relative;width:653px;padding:0;margin:15px 0 14px;background-color:'+theme.sbload+'">';dU+='<div id="areaCF" style="margin:5px 10px 10px;visibility:hidden">';dU+='<div style="margin-bottom:2px;">';dU+='<table style="width:100%">';dU+="<tr>";dU+='<td style="text-align:left"><div style="width:230px;overflow:hidden;font-weight:bold;margin:0 0 0 0">'+cp.theDomainP+"</div></td>";dU+="<td>&nbsp;</td>";dU+='<td style="text-align:right"><div id="devstat1" style="font-weight:bold"></div></td>';dU+="</tr>";dU+="<tr>";dU+="<td></td>";dU+='<td><div style="margin:0 0 9px;font-size:11px">&nbsp;</div></td>';dU+='<td style="text-align:right"><div id="devstat2" style="margin:0 0 9px;font-size:11px"></div></td>';dU+="</tr>";dU+="</table>";dU+='<table style="width:100%">';dU+="<tr>";dU+='<td><span class="lab11">Email Address</span></td>';dU+='<td style="width:15px"><div style="width:15px"></td>';dU+='<td style="text-align:left"><span class="lab11">API Key</span></td>';dU+='<td style="text-align:right"><span class="lab11"><a href="https://cloudflare.com" target="_blank">GET API KEY</a>&nbsp;</span></td>';dU+='<td colspan="2">';dU+="</tr>";dU+="<tr>";dU+='<td style="text-align:left;width:200px"><input type="password" id="cf_email" style="width:220px" class="inpPW all_input epink"></td>';dU+="<td></td>";dU+='<td colspan="2"><input type="password" id="cf_key" style="width:325px" class="inpPW all_input epink"></td>';dU+='<td style="width:50px;text-align:right"><label for="cb_sh">Show</label></td>';dU+='<td style="width:8px"><input type="checkbox" id="cb_sh" class="all_checkbox" onchange="MpcCpanel.cbShowhideClick(this, \'cf_email\', \'cf_key\')"></td>';dU+="</tr>";dU+="</table>";dU+="</div>";dU+="</div>";dU+="</div>";dU+="<div>";dU+='<table style="width:100%">';dU+='<tr style="white-space:nowrap">';dU+='<td style="width:250px">';dU+='<button class="sexybutton cfbtn" onclick="MpcCpanel.acceptBCF(\'on\');return false;"';dU+='title="Set Development mode" disabled="disabled">';dU+='<span><span><span class="accept">Bypass Timeout</span></span></span>';dU+="</button>";dU+='<button class="sexybutton cfbtn" onclick="MpcCpanel.acceptBCF(\'off\');return false;"';dU+='title="Clear Development mode" disabled="disabled" style="margin:0 0 0 9px">';dU+='<span><span><span class="accept_blue">Reset Active</span></span></span>';dU+="</button>";dU+="</td>";dU+='<td style="width:140px"></td>';dU+='<td style="width:50px">';dU+='<div class="dia-status"></div>';dU+="</td>";dU+='<td style="width:140px"></td>';dU+='<td style="width:60px">';dU+='<button class="sexybutton" onclick="MpcCpanel.exitBCF();return false;"';dU+='title="">';dU+='<span><span><span class="cancel">Close</span></span></span>';dU+="</button>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+="</div>";Shadowbox.open({content:dU,title:"Cloudflare Timeout",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"diaCF",onMyClose:db.exitBCF,animate:settings.anim,onFinish:bg},height:240,width:695})};function bg(){cI();var M="unknown";aN("ajax_preBCF",{domain:cp.theDomainP},function(dU){rj=jQuery.parseJSON(dU);mem_cf_email=rj.email;mem_cf_key=rj.key;mem_cf_zone=rj.zone;jQuery("#cf_email").val(mem_cf_email);jQuery("#cf_key").val(mem_cf_key);switch(rj.status){case"ok":M=rj.value;mem_cf_time_remaining=rj.time_remaining;break;case"nosettings":break;case"err_get_zone":ad("pink","No access. Check Email and Key");break;case"err_get_dev":ad("pink","Unable to read Account Status");break}cH(M);db.cbShowhideClick("#cb_sh","cf_email","cf_key");jQuery("#areaCF").css("visibility","visible");jQuery(".cfbtn").prop("disabled",false);ca("ttlbusy")})}db.acceptBCF=function(dW){var M=jQuery("#cf_email");var dV=jQuery("#cf_key");var dU=M.val();var dX=dV.val();dU=dU.trim();dX=dX.trim();if((dU=="")||(dX=="")){jQuery(".all_input").css("background-color","pink");ad("pink","Cloudflare Email and Key required");return}jQuery(".cfbtn").prop("disabled",true);aj("ttlbusy");aN("yAxf5aX2d",{domain:cp.theDomainP,email:dU,key:dX,zone:mem_cf_zone,onoff:dW},function(dZ){rj=jQuery.parseJSON(dZ);mem_cf_email=rj.email;mem_cf_key=rj.key;mem_cf_zone=rj.zone;jQuery("#cf_email").val(mem_cf_email);jQuery("#cf_key").val(mem_cf_key);switch(rj.status){case"ok":var dY=rj.onoff;mem_cf_time_remaining=rj.time_remaining;break;case"err_get_zone":ad("pink","No access. Check Email and Key");break;case"err_set_dev":ad("pink","Unable to change Devmode");break}cH(dY);db.cbShowhideClick("#cb_sh","cf_email","cf_key");jQuery("#areaCF").css("visibility","visible");jQuery(".cfbtn").prop("disabled",false);ca("ttlbusy")})};function cH(M){var dV=jQuery("#devstat1");var dU=jQuery("#devstat2");switch(M){case"on":dV.html("Timeout Bypassed (Devmode)");dV.css("color","#008000");dU.html("Resets to Active in "+mem_cf_time_remaining+"&nbsp;");break;case"off":dV.html("100 second timeout (Active)");dV.css("color","#C00000");dU.html("&nbsp;");break;default:dV.html("Unknown Status");dV.css("color","black");dU.html("&nbsp;");break}}db.exitBCF=function(){if(mem_cf_caller=="build"){db.return2build("cf")}else{if(mem_cf_caller=="blue"){db.return2blueprint("cf")}}return false};db.diaVa=function(){va_changed=0;if(cp.dual!=0){return}var M="";M+='<div class="dia-content noselect" style="padding-top:10px">';M+='<div id="ttlbusy" class="busycss" style="position:absolute;top:5px;right:15px"></div>';M+='<div class="dia-status" style="position:absolute;top:6px;right:20px">No VA licenses found</div>';M+='<table style="width:100%">';M+="<tr>";M+='<td><div style="padding-left:0px" class="lab11">&nbsp;License select</div></td>';M+="<td></td>";M+='<td><div style="padding-left:0px" class="lab11">&nbsp;Domain patterns</div></td>';M+="</tr>";M+="<tr>";M+='<td style="vertical-align:top;width:140px">';M+='<div id="scrollboxVa" class="bgnd_none"></div>';M+="</td>";M+='<td style="width:20px"></td>';M+='<td style="vertical-align:top;width:330px">';M+='<textarea id="va_patt" class="bgnd_none" spellcheck="false" onkeyup="MpcCpanel.keyUp()" disabled="disabled"></textarea>';M+="</td>";M+="</tr>";M+="</table>";M+='<div style="position:relative">';M+='<div id="div_btn" style="position:absolute;top:14px;left:0">';M+='<button id="bnAcceptV" class="sexybutton disbtnA" disabled="disabled" onclick="MpcCpanel.vaSave(\'close\');return false;"';M+='title="Save all changes and close dialog">';M+='<span><span><span class="accept">Accept</span></span></span>';M+="</button>&nbsp;&nbsp;&nbsp;";M+='<button id="bnClearV" class="sexybutton disbtnA" disabled="disabled" onclick="MpcCpanel.vaClear();return false;"';M+='title="Make this license inactive by removing it\'s domain pattern">';M+='<span><span><span class="delete">Clear pattern</span></span></span>';M+="</button>&nbsp;&nbsp;&nbsp;";M+='<button class="sexybutton disbtnZ" disabled="disabled" onclick="MpcCpanel.buyVa();return false;"';M+='title="Purchase new or reinstate a VA license">';M+='<span><span><span class="cart">Buy license</span></span></span>';M+="</button>&nbsp;&nbsp;&nbsp;";M+='<button class="sexybutton disbtnZ" disabled="disabled" onclick="Shadowbox.close();return false;"';M+='title="Close dialog. No changes made.">';M+='<span><span><span class="cancel">Cancel</span></span></span>';M+="</button>";M+="</div>";M+='<div id="div_btnyn" style="position:absolute;top:14px;left:0;visibility:hidden">';M+="<table><tr>";M+="<td>";M+="Changes were made&nbsp;&nbsp;";M+="</td>";M+="<td>";M+='<button class="sexybutton" onclick="MpcCpanel.vaSave(\'buy\');return false;"';M+='title="Save changes before going to Purchase page">';M+='<span><span><span class="save">Save</span></span></span>';M+="</button>&nbsp;&nbsp;";M+="</td>";M+="<td>";M+='<button class="sexybutton" onclick="MpcCpanel.buyVaIgnore();return false;"';M+='title="Ignore changes. Go to Purchase page.">';M+='<span><span><span class="trashcan">Ignore changes</span></span></span>';M+="</button>&nbsp;&nbsp;";M+="</td>";M+="<td>";M+='<button class="sexybutton" onclick="MpcCpanel.vaCancelYn();return false;"';M+='title="Cancel Purchase page request">';M+='<span><span><span class="cancel">Cancel</span></span></span>';M+="</button>&nbsp;&nbsp;";M+="</td>";M+="<table>";M+="</div>";M+="</div>";M+="</div>";Shadowbox.open({content:M,title:"VA license controller",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"vac",animate:settings.anim,onMyClose:db.vaCloseX,onFinish:ci},height:294,width:520})};function ci(){cI();c8("y4Df4dX6F",{},function(dV){var M=jQuery.parseJSON(dV);if(M.status!="ok"){ad("pink",M.msg);jQuery(".disbtnZ").prop("disabled",false);ca("ttlbusy");return}var dU=M.vadata.split("_");va_idlist=dU[1];ar_vadata=dU[0].split("&");va_arlen=ar_vadata.length;db.showSelectVa(-1);if(va_arlen==0){ad("pink","No VA licenses found");jQuery(".disbtnZ").prop("disabled",false);ca("ttlbusy")}else{db.vaClick(0);jQuery("#scrollboxVa").toggleClass("bgnd_none",false)}jQuery(".disbtnA").prop("disabled",false);jQuery(".disbtnZ").prop("disabled",false);ca("ttlbusy")})}db.vaClick=function(dU){jQuery(".cball").prop("checked",false);jQuery("#cb"+dU).prop("checked",true);var M=jQuery("#va_patt");M.val(ar_vapatt[dU].replace(/,/g,"\n"));va_index=dU;if(a7(dU)=="c"){M.toggleClass("bgnd_none",true);M.prop("disabled",true);jQuery("#bnClearV").prop("disabled",true);jQuery("#bnAcceptV").prop("disabled",(va_changed==0))}else{M.toggleClass("bgnd_none",false);M.prop("disabled",false);jQuery(".disbtnA").prop("disabled",false);M.focus()}};function a7(M){return ar_vadata[M].charAt(0)}db.buyVaIgnore=function(){va_changed=0;db.buyVa()};db.buyVa=function(){if(va_changed==1){jQuery("#div_btn").css("visibility","hidden");jQuery("#div_btnyn").css("visibility","visible");va_divyn=1;return}var M="";if(va_arlen>0){var dU=ar_vadata[va_index].split(":");if(dU[0]=="c"){M="?v="+dU[1]}}setTimeout("Shadowbox.close()",100);cK.open("https://masspagecreator.com/purchase/va.php"+M)};db.keyUp=function(){if(va_arlen==0){return}if(ar_vaorig[va_index]=="c"){return}va_changed=1;var dU=ar_vadata[va_index].split(":");var dV=jQuery("#va_patt");var dW=dV.val();dW=dW.replace(/[^=a-zA-Z0-9\-\.\n]/g,"");dV.val(dW);var M=dW.length;if((M==0)&&(dU[0]=="a")){dU[0]="i";ar_vadata[va_index]=dU[0]+":"+dU[1]+":"+dU[2]+":"+dW;ar_vapatt[va_index]=dW;db.showSelectVa(va_index);return}if((M>0)&&(dU[0]=="i")){dU[0]="a";ar_vadata[va_index]=dU[0]+":"+dU[1]+":"+dU[2]+":"+dW;ar_vapatt[va_index]=dV.val();db.showSelectVa(va_index);return}ar_vadata[va_index]=dU[0]+":"+dU[1]+":"+dU[2]+":"+dW;ar_vapatt[va_index]=dW};db.showSelectVa=function(M){var dV;var dW='<table style="width:100%">';for(x=0;x<va_arlen;x++){var dU=(x==M)?"checked":"";dV=ar_vadata[x].split(":");dW+='<tr class="'+dV[0]+'va" onclick="MpcCpanel.vaClick(\''+x+"')\">";dW+='<td><input id="cb'+x+'" class="cball" type="checkbox" '+dU+"></td>";dW+="<td>"+dV[1]+"</td>";dW+="<td>&nbsp;"+dV[2]+"</td>";dW+="</tr>";ar_vapatt[x]=dV[3];ar_vaorig[x]=dV[0]}dW+="</table>";jQuery("#scrollboxVa").html(dW)};db.vaCancelYn=function(){jQuery("#div_btnyn").css("visibility","hidden");jQuery("#div_btn").css("visibility","visible");va_divyn=0};db.vaClear=function(){var M=jQuery("#va_patt");M.val("");db.keyUp();M.focus()};db.vaCloseX=function(){if(va_divyn==1){db.vaCancelYn()}else{Shadowbox.close()}};db.vaSave=function(dU){jQuery(".disbtnA").prop("disabled",true);jQuery(".disbtnZ").prop("disabled",true);aj("ttlbusy");var dV;var dW="";var M="";for(x=0;x<va_arlen;x++){dV=ar_vapatt[x].trim();M+=dW+dV.replace(/\n/g,",");dW="&"}c8("yfb052X8b",{idlist:va_idlist,vapatt:M},function(dY){var dX=jQuery.parseJSON(dY);if(dX.status!="ok"){ad("pink",dX.msg);jQuery(".disbtnA").prop("disabled",false);jQuery(".disbtnZ").prop("disabled",false);ca("ttlbusy");return}if(dU=="buy"){va_changed=0;db.buyVa()}else{setTimeout("Shadowbox.close()",50)}})};db.diaBindPath=function(){for(x=1;x<6;x++){ar_cust[x-1]=(jQuery("#txPath"+x).val()=="")?"path"+x:jQuery("#txPath"+x).val()}var M="";M+='<div class="dia-content noselect" style="padding:0 0 0 15px" spellcheck="false" onmousedown="MpcCpanel.hideDiaStatusPink();return true">';M+='<div class="dia-status" style="position:absolute;bottom:23px;right:15px;"></div>';M+='<div id="ttlbusy" style="position:absolute;bottom:20px;right:15px"></div>';M+='<div style="font-size:12.8px;margin:10px 0">';M+="Read items from one path and write each into another Path with<br />formulas that bind them together.";M+="</div>";M+='<div class="pinstripe twrap px_left" style="width:455px;padding:5px 0 10px 10px;margin:0 13px 15px 0">';M+="<table>";M+='<tr style="white-space:nowrap">';M+='<td><div class="lab11"><span style="color:#00A000"><b>READ</b></span> this Path</div></td>';M+='<td style="width:10px"><div style="width:10px"</td>';M+='<td><div class="lab11"><span style="color:#c00000"><b>WRITE</b></span> this Path</div></td>';M+='<td style="width:10px"><div style="width:10px"</td>';M+='<td><div class="lab11">Additional text (optional)</div></td>';M+="</tr>";M+="<tr>";M+='<td style="text-align:left">';M+='<select id="bind_from" class="epink bindsel" size="1">';M+='<option value="0">-- select --</option>';for(x=1;x<6;x++){M+='<option value="'+x+'">'+ar_cust[x-1]+"</option>"}M+="</select>";M+="</td>";M+="<td></td>";M+='<td style="text-align:left">';M+='<select id="bind_to" class="epink bindsel" size="1">';M+='<option value="0">-- select --</option>';for(x=1;x<6;x++){M+='<option value="'+x+'">'+ar_cust[x-1]+"</option>"}M+="</select>";M+="</td>";M+="<td></td>";M+='<td style="width:160px">';M+="<div>";M+='<input id="bind_text" style="font-size:14px;width:160px;margin-right:4px" class="roundpad2024 epink inp12" type="text" value="" />';M+="</div>";M+="</td>";M+="</tr>";M+="</table>";M+="</div>";M+='<div style="margin:15px 0 0">';M+='<button class="sexybutton gbtn" onclick="MpcCpanel.acceptBIND(\'ov\');return false;"';M+='title="Generate and Overwrite list. Save dialog settings">';M+='<span><span><span class="accept">Overwrite</span></span></span>';M+="</button>&nbsp;&nbsp;";M+='<button class="sexybutton gbtn" onclick="MpcCpanel.acceptBIND(\'ap\');return false;"';M+='title="Generate and Append list. Save dialog settings">';M+='<span><span><span class="accept_blue">Append</span></span></span>';M+="</button>&nbsp;&nbsp;";M+='<button class="sexybutton gbtn" onclick="Shadowbox.close();return false"';M+='title="Close dialog">';M+='<span><span><span class="cancel">Cancel</span></span></span>';M+="</button>";M+="</div>";M+="</div>";Shadowbox.open({content:M,title:"Bind paths",player:"html",handleOversize:"none",height:175,width:497,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"bindpaths",animate:settings.anim,onFinish:az}})};function az(){cI()}db.acceptBIND=function(dV){var dX=jQuery("#bind_from");var dU=jQuery("#bind_to");var M=dX.val();var dY=jQuery("#bind_text").val();if(M==0){dX.css("background-color","pink");ad("pink","Path not selected");return false}var dW=dU.val();if(dW==0){dU.css("background-color","pink");ad("pink","Path not selected");return false}if(dX.val()==dU.val()){dX.css("background-color","pink");dU.css("background-color","pink");ad("pink","Error: Same paths");return false}aj("ttlbusy");jQuery(".sortbtn").prop("disabled",true);aN("ajax_bindPaths",{ifrom:M,ito:dW,sfrom:ar_cust[M-1],sto:ar_cust[dW-1],wtype:dV,text:dY},function(d0){try{obj=jQuery.parseJSON(d0)}catch(dZ){ca("ttlbusy");ad("pink","Processing error");return false}if(obj.stat=="ok"){jQuery("#taPath"+dW).val(obj.box);bX("taPath"+dW,0,0);Shadowbox.close()}else{ad("pink","Read path empty");return false}})};db.diaDynamic=function(){var dX=(settings.cb_ts==1)?"checked":"";var dV=(dynBaseName=="")?"Untitled":dynBaseName;cn(dynBaseName);var dX=(settings.cb_ts==1)?"checked":"";var M=(settings.tzone=="GMT")?"":settings.tzone;bCloseOk=true;mmClose=false;var dU='<img src="'+cp.auxdir+'/css/silk/trash_16.gif" width="16" height="16">';if(cp.testing==1){dU='<img src="cssfiles/silk/trash_16.gif" width="16" height="16">'}var dW="";dW+='<div class="dia-content noselect" style="padding:10px 0 0 15px" onmousedown="MpcCpanel.dyKeyup();return true;">';dW+='<div id="diaTOP" class="dia-status" style="position:absolute;top:8px;left:15px"></div>';dW+='<div id="ttlbusy" class="busycss" style="position:absolute;top:10px;right:15px"></div>';dW+='<div id="dndiv" style="height:16px;margin-bottom:10px">'+dV+"</div>";dW+='<table style="width:100%">';dW+="<tr>";dW+='<td colspan="2" style="vertical-align:top">';dW+='<div class="pinstripe twrap DYNbox wbox" style="position:relative;height:93px;width:798px;margin:0 0 15px;padding:6px 10px 10px">';dW+='<div id="diaDF" class="dia-status" style="position:absolute;top:5px;left:110px;"></div>';dW+='<table style="width:100%">';dW+="<tr>";dW+='<td colspan="4">';dW+='<table style="width:100%">';dW+="<tr>";dW+='<td colspan = "2" style="text-align:left"><b>Data File</b></td>';dW+='<td colspan = "2" style="text-align:right"><span class="hide_ns" style="visibility:hidden"><a href="javascript:MpcCpanel.gosett(\'dynamic\')">Set timezone</a></span>';dW+="</tr>";dW+="</table>";dW+="<td";dW+="</tr>";dW+='<tr style="white-space:nowrap">';dW+='<td colspan="2"><div class="lab11">Data filename</div></td>';dW+='<td colspan="2"><div class="lab11">Timestamp (optional)</div></td>';dW+="</tr>";dW+="<tr>";dW+='<td style="text-align:left">';dW+='<input type="text" style="width:100%;margin:0;padding:2px 4px;font-size:14px;font-family:monospace"';dW+='value="'+parseN+'" id="txDynaName" placeholder="filename required"';dW+='class="round didv1 dydim" onkeyup="MpcCpanel.dyKeyup();return false"></td>';dW+='<td style="width:10px"><div style="width:10px"></div></td>';dW+='<td style="width:125px">';dW+='<input type="text" style="width:117px;text-align:left;margin:0 4px;padding:2px 4px;font-size:14px;font-family:monospace" ';dW+='title="GMT'+M+'" ';dW+='value="'+parseT+'" id="txDynaTime" class="round didv1 dydim" readonly></td>';dW+='<td style="width:25px;text-align:left;font-weight:bold"><b>.dyn</b></td>';dW+="</tr>";dW+="<tr>";dW+='<td colspan="2"></td>';dW+='<td colspan="2">';dW+='<div style="visibility:hidden;padding-top:12px" class="hide_ns">';dW+="<table>";dW+='<tr style="white-space:nowrap">';dW+='<td style="width:5px"><input id="cb_time" type="checkbox" '+dX+' onchange="MpcCpanel.dytimeClicked();"></td>';dW+='<td><label for="cb_time">New timestamp</label></td>';dW+="</tr>";dW+="</table>";dW+="</div>";dW+="</td>";dW+="</tr>";dW+="</table>";dW+='<div id="lsn_btns" style="position:absolute;left:10px;bottom:9px">';dW+='<button class="sexybutton allbtns" title="Load Controller file from computer"';dW+='onclick="MpcCpanel.dyLoad();return false;" disabled="disabled">';dW+='<span><span><span class="loadprj">Load</span></span></span>';dW+="</button>&nbsp;&nbsp;&nbsp;";dW+='<button class="sexybutton allbtns" title="Save Controller file to computer"';dW+='onclick="MpcCpanel.dySave();return false;" disabled="disabled">';dW+='<span><span><span class="save">Save</span></span></span>';dW+="</button>&nbsp;&nbsp;&nbsp;";dW+='<button class="sexybutton allbtns" title="Create new Dynamic Data file"';dW+='onclick="MpcCpanel.dyNew();return false;" disabled="disabled">';dW+='<span><span><span class="page_white">New..</span></span></span>';dW+="</button>";dW+="</div>";dW+='<div id="yn_btns" style="position:absolute;left:10px;bottom:9px;display:none">';dW+='<span style="color:#c00000;font-weight:bold">Erase</span> all controller entries? &nbsp;&nbsp;';dW+='<button class="sexybutton" title="Cancel new controller file"';dW+='onclick="MpcCpanel.dyNewNo();return false;">';dW+='<span><span><span class="delete_gray">No</span></span></span>';dW+="</button>&nbsp;&nbsp;";dW+='<button class="sexybutton" title="Initialize new controller file"';dW+='onclick="MpcCpanel.dyNewYes();return false;">';dW+='<span><span><span class="delete">Erase</span></span></span>';dW+="</button>";dW+="</div>";dW+="</div>";dW+="</td>";dW+="</tr>";dW+="<tr>";dW+='<td style="vertical-align:top">';dW+='<div class="pinstripe twrap DYNbox wbox" style="position:relative;height:348px;width:380px;margin:0;padding:6px 10px 10px">';dW+='<div id="diaVM" class="dia-status" style="position:absolute;top:5px;right:13px;">Entry written</div>';dW+='<table style="width:100%">';dW+="<tr>";dW+='<td colspan="3"><div><b>Location and Var matching</b></div></td>';dW+="</tr>";dW+="<tr>";dW+='<td colspan="3"><div class="lab11">Location Identifier</div></td>';dW+="</tr>";dW+="<tr>";dW+='<td colspan="3" style="text-align:left"><select id="dyna_loc" class="didc dydim fdim" style="width:100%" size="1"';dW+='style=padding:2px onChange="MpcCpanel.selectChange();return false;" disabled="disabled"></select>';dW+="</tr>";dW+="<tr>";dW+='<td><div class="lab11">Vars</div></td>';dW+='<td colspan="2"><div class="lab11">Value to match</div></td>';dW+="</tr>";dW+="<tr>";dW+='<td style="text-align:left;width:100px"><div id="v1" class="tdadd dybtn fdim" >&nbsp;</div></td>';dW+='<td><input id="t1" tabindex="1" onKeyup="MpcCpanel.onKeyup(event);return false;" type="text" disabled="disabled" class="didv dydim fdim"></td>';dW+='<td style="text-align:right;width:24px"><div id="dyd1" class="trs"><a href="javascript:MpcCpanel.clearDyLine(\'1\');">'+dU+"</a></div></td>";dW+="</tr>";dW+="<tr>";dW+='<td style="text-align:left;width:100px"><div id="v2" class="tdadd dybtn fdim" >&nbsp;</div></td>';dW+='<td><input id="t2" tabindex="2" onKeyup="MpcCpanel.onKeyup(event)" type="text" disabled="disabled" class="didv dydim fdim"></td>';dW+='<td style="text-align:right;width:24px"><div id="dyd2" class="trs"><a href="javascript:MpcCpanel.clearDyLine(\'2\');">'+dU+"</a></div></td>";dW+="</tr>";dW+="<tr>";dW+='<td style="text-align:left;width:100px"><div id="v3" class="tdadd dybtn fdim" >&nbsp;</div></td>';dW+='<td><input id="t3" tabindex="3" onKeyup="MpcCpanel.onKeyup(event)" type="text" disabled="disabled" class="didv dydim fdim"></td>';dW+='<td style="text-align:right;width:24px"><div id="dyd3" class="trs"><a href="javascript:MpcCpanel.clearDyLine(\'3\');">'+dU+"</a></div></td>";dW+="</tr>";dW+="<tr>";dW+='<td style="text-align:left;width:100px"><div id="v4" class="tdadd dybtn fdim" >&nbsp;</div></td>';dW+='<td><input id="t4" tabindex="4" onKeyup="MpcCpanel.onKeyup(event)" type="text" disabled="disabled" class="didv dydim fdim"></td>';dW+='<td style="text-align:right;width:24px"><div id="dyd4" class="trs"><a href="javascript:MpcCpanel.clearDyLine(\'4\');">'+dU+"</a></div></td>";dW+="</tr>";dW+="<tr>";dW+='<td style="text-align:left;width:100px"><div id="v5" class="tdadd dybtn fdim">&nbsp;</div></td>';dW+='<td><input id="t5" tabindex="5" onKeyup="MpcCpanel.onKeyup(event)" type="text" disabled="disabled" class="didv dydim fdim"></td>';dW+='<td style="text-align:right;width:24px"><div id="dyd5" class="trs"><a href="javascript:MpcCpanel.clearDyLine(\'5\');">'+dU+"</a></div></td>";dW+="</tr>";dW+="<tr>";dW+='<td style="text-align:left;width:100px"><div id="v6" class="tdadd dybtn fdim">&nbsp;</div></td>';dW+='<td><input id="t6" tabindex="6" onKeyup="MpcCpanel.onKeyup(event)" type="text" disabled="disabled" class="didv dydim fdim"></td>';dW+='<td style="text-align:right;width:24px"><div id="dyd6" class="trs"><a href="javascript:MpcCpanel.clearDyLine(\'6\');">'+dU+"</a></div></td>";dW+="</tr>";dW+="<tr>";dW+='<td style="text-align:left;width:100px"><div id="v7" class="tdadd dybtn fdim">&nbsp;</div></td>';dW+='<td><input id="t7" tabindex="7" onKeyup="MpcCpanel.onKeyup(event)" type="text" disabled="disabled" class="didv dydim fdim"></td>';dW+='<td style="text-align:right;width:24px"><div id="dyd7" class="trs"><a href="javascript:MpcCpanel.clearDyLine(\'7\');">'+dU+"</a></div></td>";dW+="</tr>";dW+="<tr>";dW+='<td style="text-align:left;width:100px"><div id="v8" class="tdadd dybtn fdim">&nbsp;</div></td>';dW+='<td><input id="t8" tabindex="8" onKeyup="MpcCpanel.onKeyup(event)" type="text" disabled="disabled" class="didv dydim fdim"></td>';dW+='<td style="text-align:right;width:24px"><div id="dyd8" class="trs"><a href="javascript:MpcCpanel.clearDyLine(\'8\');">'+dU+"</a></div></td>";dW+="</tr>";dW+="<tr>";dW+='<td style="text-align:left;width:100px"><div id="v9" class="tdadd dybtn fdim">&nbsp;</div></td>';dW+='<td><input id="t9" tabindex="9" onKeyup="MpcCpanel.onKeyup(event)" type="text" disabled="disabled" class="didv dydim fdim"></td>';dW+='<td style="text-align:right;width:24px"><div id="dyd9" class="trs"><a href="javascript:MpcCpanel.clearDyLine(\'9\');">'+dU+"</a></div></td>";dW+="</tr>";dW+="<tr>";dW+='<td colspan="3">';dW+='<div style="margin-top:10px;padding-right:18px">';dW+='<table style="width:100%">';dW+="<tr>";dW+='<td style="text-align:left">';dW+='<button class="sexybutton allbtns" title="Show Data Entry Report"';dW+='onclick="MpcCpanel.showReport();return false;" disabled="disabled">';dW+='<span><span><span class="add">Show Report</span></span></span>';dW+="</button>&nbsp;&nbsp;";dW+="</td>";dW+='<td style="text-align:right">';dW+='<button class="sexybutton allbtns" title="Clear all Value input boxes"';dW+='onclick="MpcCpanel.clearAllVarMatch();return false;" disabled="disabled">';dW+='<span><span><span class="broom">Clear All Values</span></span></span>';dW+="</button>";dW+="</td>";dW+="</tr>";dW+="</table>";dW+="</div>";dW+="<td>";dW+="</tr>";dW+="</table>";dW+='<div id="bnReport" style="position:absolute; left:10px; bottom:10px; visibility:hidden">';dW+='<table style="width:800px">';dW+='<tr style="white-space:nowrap">';dW+='<td style="text-align:left">';dW+='<button class="sexybutton allbtns1" title="Hide Data Entry Report"';dW+='id="bnHideReport" onclick="MpcCpanel.hideReportClicked();return false;">';dW+='<span><span><span class="delete">Hide Report</span></span></span>';dW+="</button>&nbsp;&nbsp;";dW+='<button class="sexybutton allbtns1" title="Remove Entries from Controller file"';dW+='onclick="MpcCpanel.dyRemove();return false;">';dW+='<span><span><span class="cancel">Remove Checked Entries</span></span></span>';dW+="</button>";dW+="</td>";dW+='<td style="text-align:right">';dW+="Color legend:&nbsp;";dW+="</td>";dW+='<td style="width:100px">';dW+='<span class="grn hd bw-tbl tdgeotl tdgeobl">Ok</span><span class="gry hd bw-tbl">';dW+='Empty</span><span class="pnk hd bw-all tdgeotr tdgeobr">Missing</span>';dW+="<td>";dW+="</tr>";dW+="</table>";dW+="</div>";dW+="</div>";dW+="</td>";dW+='<td style="vertical-align:top">';dW+='<div id="dypin" class="pinstripe twrap DYNbox" style="position:relative;height:348px;width:400px;margin:0;padding:6px 0 10px">';dW+='<div id="diaDS" class="dia-status" style="position:absolute;top:5px;right:20px;">Entry written</div>';dW+='<table style="width:100%">';dW+="<tr>";dW+='<td><span id="promptDS" style="margin-left:10px;padding-bottom:1px"><b>Entry Editor</b>&nbsp;</span></td>';dW+="</tr>";dW+="<tr>";dW+="<td>";dW+='<div class="linedwrap" style="border:none;margin-top:3px">';dW+='<div class="lines" style="float:left;height:282px;border:1px solid transparent"></div>';dW+='<div id="linedtextarea" style="border:none">';dW+='<textarea id="dytextarea" tabindex="10" spellcheck="false" ';dW+='style="width:370px;height:282px;margin:0px 0 0 10px" class="didv1 dydim lined" onKeyup="MpcCpanel.onKeyup(event);return false;">';dW+="</textarea>";dW+="</div>";dW+="</div>";dW+="</td>";dW+="</tr>";dW+="<tr>";dW+="<td>";dW+='<div style="margin-top:10px">';dW+='<table style="width:100%">';dW+='<tr style="white-space:nowrap">';dW+='<td style="width:240px">';dW+='&nbsp;&nbsp;<button class="sexybutton allbtns" title="Read Entry from Controller file"';dW+='onclick="MpcCpanel.dyRead();return false;" disabled="disabled">';dW+='<span><span><span class="book">Read</span></span></span>';dW+="</button>&nbsp;&nbsp;";dW+='<button class="sexybutton allbtns" title="Write Entry to Controller file"';dW+='onclick="MpcCpanel.dyWrite();return false;" disabled="disabled">';dW+='<span><span><span class="lightning">Write</span></span></span>';dW+="</button>&nbsp;&nbsp";dW+='<button class="sexybutton allbtns" title="Clear textarea"';dW+='onclick="MpcCpanel.dyClear();return false;" disabled="disabled">';dW+='<span><span><span class="broom">Clear</span></span></span>';dW+="</button>";dW+="</td>";dW+='<td style="width:20px">';dW+='<div class="vis_full" style="margin:0 0 0 20px;display:none">PHP variables:</div>';dW+="</td>";dW+='<td style="width:74px">';dW+='<div class="vis_full avis1" style="margin-left:5px;display:none"';dW+="onclick=\"MpcCpanel.insertTextArea('dytextarea', '$di_webroot');return false;\"";dW+='title="[$di_webroot]  '+cp.theWebRoot+'">WEBROOT</div>';dW+="</td>";dW+="<td>";dW+="</td>";dW+='<td style="width:70px">';dW+='<div id="nwlinks" style="visibility:hidden;margin-right:10px" class="avis" onclick="MpcCpanel.nwToggle()">SET FULL</div>';dW+="</td>";dW+="</tr>";dW+="</table>";dW+="</div>";dW+="<td>";dW+="</tr>";dW+="</table>";dW+="</div>";dW+="</td>";dW+="</tr>";dW+="</table>";dW+='<div class="LODbox" style="background-color:#c4c4c4;position:absolute;top:200px;left:200px;width:476px;visibility:hidden">';dW+='<div style="width:368px;margin:0 0 10px 54px;">';dW+='<table style="width:100%">';dW+="<tr>";dW+='<td style="text-align:left">';dW+="Load DI data file from computer";dW+="</td>";dW+='<td style="text-align:right">';dW+='<a href="javascript:MpcCpanel.dyLoadCancel();">Cancel</a>';dW+="</td>";dW+="</tr>";dW+="</table>";dW+="</div>";dW+='<iframe id="dynaIframe" frameborder="0" width="476" height="100%"></iframe>';dW+="</div>";dW+='<form id="dynaform" method="post" action="'+cp.auxdir+'/sendDyna.php" />';dW+='<input type="hidden" name="dest_name" value="" />';dW+="</form>";dW+='<div id="reportBoxDy" style="position:absolute; top:36px; left:16; visibility:hidden">';dW+="</div>";dW+='<div id="diaRE" class="dia-status" style="position:absolute;top:8px;right:20px;"></div>';dW+="</div>";Shadowbox.open({content:dW,title:'<span class="ttlgold">Dynamic</span> and <span class="ttlgold">Cloaked</span> Includes Data Controller',player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,qmarkTarget:"dyna",onMyClose:db.xClose,onFinish:dS},height:552,width:850})};function dS(){cI();jQuery(".lines").css("height","0px");aN("ajax_initDyna",{dotdot:cp.dotdot,tzone:settings.tzone},function(dX){var dV=jQuery.parseJSON(dX);db.dytimeClicked();if(dV.stat=="mismatch"){mmClose=true;$mstr='Shortcode "'+dV.msg+'" duplicate has differing Var assignment';a("diaTOP","gold",$mstr);ca("ttlbusy");return}if(dV.stat!="ok"){a(dV.dia,"pink",dV.msg);ca("ttlbusy");return}jQuery("#nwlinks").css("visibility","visible");var dU;var dZ;var dW={};var dY=jQuery("#dyna_loc");var M=dV.loc.length;for(dU=0;dU<M;dU++){dZ=dV.loc[dU].indexOf("/");d=dV.loc[dU].substr(0,dZ);dY.append(jQuery("<option></option>").val(dV.loc[dU]).html(d))}dY.prop("disabled",false);dY.toggleClass("dydim",false);MpcCpanel.showDyLocVars();db.dyRead();jQuery(".didv1").prop("disabled",false);jQuery(".didv1").toggleClass("dydim",false);jQuery(".allbtns").prop("disabled",false);jQuery(".hide_ns").css("visibility","visible");db.dyUpdateTime(dV.tstamp);ca("ttlbusy")})}db.insertTextArea=function(dU,dZ){var dV=document.getElementById(dU);var dY=dV.value,dW,M,dX=dV.ownerDocument;if(typeof dV.selectionStart=="number"&&typeof dV.selectionEnd=="number"){dW=dV.selectionEnd;dV.value=dY.slice(0,dW)+dZ+dY.slice(dW);dV.selectionStart=dV.selectionEnd=dW+dZ.length}else{if(dX.selection!="undefined"&&dX.selection.createRange){dV.focus();M=dX.selection.createRange();M.collapse(false);M.text=dZ;M.select()}}aO(false);dV.focus()};db.dytimeClicked=function(){cn(dynBaseName);var M=(jQuery("#cb_time").prop("checked"))?mem_tstamp:parseT;jQuery("#txDynaTime").val(M)};db.dyUpdateTime=function(M){mem_tstamp=M;db.dytimeClicked()};db.dyKeyup=function(){db.hideDiaStatus();jQuery("#txDynaName").css("background-color","white")};db.qmrkDyna=function(){dyhelp=cK.open("https://masspagecreator.com/links.php?go=dyna")};db.onKeyup=function(M){if((M.which==37)||(M.which==39)||(M.which==38)||(M.which==40)){return}aO(false)};function aO(M){if(M){jQuery("#promptDS").css({"background-color":"transparent",color:"black"})}else{jQuery("#promptDS").css({"background-color":"red",color:"white"})}}db.nwToggle=function(){var M=jQuery("#dytextarea");if(M.css("width")<"400px"){jQuery(".wbox").css("display","none");jQuery("#dypin").css("width","818px");jQuery("#dypin").css("height","476px");M.css("width","748px");M.css("height","412px");jQuery(function(){$("#dytextarea").linedtextarea()});jQuery(".vis_full").css("display","block");jQuery("#nwlinks").html("SET NORMAL");M.focus()}else{jQuery(".vis_full").css("display","none");jQuery(".lines").css("height","0px");jQuery(".wbox").css("display","block");jQuery("#dypin").css("width","400px");M.css("width","370px");M.css("height","282px");jQuery("#dypin").css("height","348px");jQuery("#nwlinks").html("SET FULL");M.focus()}};db.xClose=function(){if(mmClose){Shadowbox.close();return}if(!bCloseOk){return}Shadowbox.close()};db.xCloseNo=function(){jQuery(".pinstripe").css("opacity","1.0");jQuery("#reportBoxDy").css("opacity","1.0");jQuery("#exit_yn").css("display","none");jQuery(".didv1").prop("disabled",false);jQuery(".didv1").toggleClass("dydim",false);jQuery(".fdim").toggleClass("forceDim",false);jQuery(".allbtns").prop("disabled",false);jQuery(".allbtns1").prop("disabled",false)};db.xCloseYes=function(){Shadowbox.close()};db.selectChange=function(){db.clearAllVarMatch();a1();db.showDyLocVars();db.dyRead()};db.showDyLocVars=function(){var dV=jQuery("#dyna_loc").val();var dU=dV.split("/");var M,dW;for(M=1;M<dU.length;M++){if(dU[M]=="default_novar"){continue}dW=jQuery("#v"+M);dW.html(dU[M]);dW.toggleClass("fsel",true);dW=jQuery("#t"+M);dW.prop("disabled",false);dW.toggleClass("dydim",false);jQuery("#dyd"+M).css("visibility","visible")}};function a1(){jQuery(".tdadd").html("&nbsp;");jQuery(".tdadd").toggleClass("fsel",false);jQuery(".didv").html("");jQuery(".didv").prop("disabled",true);jQuery(".didv").toggleClass("dydim",true);jQuery(".trs").css("visibility","hidden")}db.clearDyLine=function(dU){var M=jQuery("#t"+dU);if(M.val()!=""){aO(false)}M.val("");M.focus()};db.clearAllVarMatch=function(){jQuery(".didv").val("");jQuery("#t1").focus();aO(false)};db.dyRead=function(){aN("ajax_readDyna",{loc_json:aI(false)},function(dU){var M=jQuery.parseJSON(dU);if(M.stat=="ok"){jQuery("#dytextarea").val(M.msg);a("diaDS","lightgreen","Read entry successful");aO(true)}else{jQuery("#dytextarea").val("");a("diaDS","pink",M.errmsg)}})};db.dyWrite=function(){aN("ajax_writeDyna",{loc_json:aI(true),tzone:settings.tzone},function(dU){var M=jQuery.parseJSON(dU);if(M.stat=="ok"){a("diaDS","lightgreen","Write entry successful");cd=true;aO(true);db.dyUpdateTime(M.tstamp)}else{a("diaDS","pink",M.errmsg)}})};db.dyRemove=function(){var dU="";var M;jQuery("input:checkbox").each(function(){var dV=$(this);if(dV.is(":checked")){M=dV.attr("id");if(M!="cb_time"){dU+=M+","}}});if(dU==""){return}jQuery(".allbtns1").prop("disabled",true);aj("ttlbusy");aN("ajax_removeDyna",{checked:dU,loc:aM()},function(dW){var dV=jQuery.parseJSON(dW);if(dV.stat=="ok"){jQuery("#reportBoxDy").html(dV.report);a("diaRE","gold",dV.msg);cd=true}else{}jQuery(".allbtns1").prop("disabled",false);ca("ttlbusy")})};db.dyClear=function(){jQuery("#dytextarea").val("");aO(false);bn("dytextarea")};function aI(dY){var dW=jQuery("#dyna_loc").val();var dX=dW.split("/");var dU=dX.length;var dV={};dV.ident=dX[0];var M;for(M=1;M<dU;M++){dV[dX[M]]=jQuery("#t"+M).val()}if(dY){dV.shortcode_data=jQuery("#dytextarea").val()}return JSON.stringify(dV)}function aM(){var M=[];jQuery("#dyna_loc option").each(function(){M.push(jQuery(this).val())});return M.join()}db.dySave=function(){var M=jQuery("#txDynaName");var dU=M.val().trim();M.val(dU);if(dU==""){M.css("background-color","pink");return}db.dytimeClicked();var dV=jQuery("#txDynaTime").val();jQuery("#dndiv").html(dU+dV);db.setDynaBaseName(dU+dV);f=document.getElementById("dynaform");f.dest_name.value=encodeURIComponent(dU+dV);cd=false;f.submit()};db.dyNew=function(){bCloseOk=false;jQuery("#lsn_btns").css("display","none");jQuery("#yn_btns").css("display","block");jQuery(".didv1").prop("disabled",true);jQuery(".didv1").toggleClass("dydim",true);jQuery(".fdim").toggleClass("forceDim",true);jQuery(".allbtns").prop("disabled",true)};db.dyNewNo=function(){bCloseOk=true;jQuery("#yn_btns").css("display","none");jQuery("#lsn_btns").css("display","block");jQuery(".didv1").prop("disabled",false);jQuery(".didv1").toggleClass("dydim",false);jQuery(".fdim").toggleClass("forceDim",false);jQuery(".allbtns").prop("disabled",false)};db.dyNewYes=function(){aN("ajax_newDyna",{},function(M){db.setDynaBaseName("");db.dytimeClicked();jQuery("#dndiv").html("Untitled");jQuery("#txDynaName").val("");jQuery("#dytextarea").val("");cd=true;db.dyNewNo()})};db.setDynaBaseName=function(M){if(M==""){dynBaseName="";return}var dU=M.substr(-4).toLowerCase();if(dU==".dyn"){M=M.substring(0,M.length-4)}dynBaseName=M};db.selectEntry=function(dV){if(jQuery("#bnHideReport").prop("disabled")){return}var M=jQuery.parseJSON(decodeURIComponent(dV));ax();jQuery("#dyna_loc").val(M.ident);db.clearAllVarMatch();a1();db.showDyLocVars();if(M["default"]==0){var dU=M.ident.split("/");for(x=1;x<dU.length;x++){jQuery("#t"+x).val(M[dU[x]])}}db.dyRead()};db.hideReportClicked=function(){ax();db.dyRead()};function ax(){jQuery("#reportBoxDy").css("visibility","hidden");jQuery("#bnReport").css("visibility","hidden");jQuery(".DYNbox").css("visibility","visible");jQuery("#nwlinks").css("visibility","visible")}db.showReport=function(){jQuery(".DYNbox").css("visibility","hidden");jQuery("#nwlinks").css("visibility","hidden");jQuery("#reportBoxDy").css("visibility","visible");jQuery("#bnReport").css("visibility","visible");aN("ajax_reportDyna",{loc:aM()},function(dU){var M=jQuery.parseJSON(dU);if(M.stat!="ok"){jQuery("#dytextarea").html("err");a("diaDS","pink",M.errmsg)}else{jQuery("#reportBoxDy").html(M.report)}})};db.dyLoad=function(){browse_cmd="dyna";jQuery(".DYNbox").css("visibility","hidden");jQuery(".hide_ns").css("visibility","hidden");jQuery(".LODbox").css("visibility","visible");jQuery("#nwlinks").css("visibility","hidden");var M=encodeURIComponent(theme.text);var dU=encodeURIComponent(theme.sbload);var dV=theme.linkAsc;jQuery("#dynaIframe").attr("src",cp.auxdir+"/uploader.php?cmd=ftp&thm_sbload="+dU+"&thm_sbbody=none&thm_text="+M+"&VER="+cp.ver+"&TESTING="+cp.testing+"&psk="+dV)};db.dyLoadCancel=function(){jQuery(".LODbox").css("visibility","hidden");jQuery(".DYNbox").css("visibility","visible");jQuery(".hide_ns").css("visibility","visible");jQuery("#nwlinks").css("visibility","visible");jQuery("#dynaIframe").attr("src","")};function dO(M){aN("ajax_copyDyna",{fname:M},function(dW){var dU=jQuery.parseJSON(dW);db.dyLoadCancel();if(dU.stat=="ng"){a("diaDF","pink",dU.msg);return}var dV=M.replace(/\.dyn$/i,"");jQuery("#dndiv").html(dV);jQuery("#txDynaName").val(dV);db.setDynaBaseName(dV);db.dytimeClicked();cd=false})}db.diaAutoSrc=function(M){mem_asu.resume=M;for(x=1;x<6;x++){ar_cust[x-1]=(jQuery("#txPath"+x).val()=="")?"path"+x:jQuery("#txPath"+x).val()}var dU="";dU+='<div class="dia-content noselect" style="padding:20px 0 0 15px spellcheck="false" onmousedown="MpcCpanel.hideDiaStatusPinkASU();return true">';dU+='<div id="ttlbusy" style="position:absolute;bottom:20px;right:20px"></div>';dU+='<div class="dia-status" style="position:absolute;bottom:23px;right:20px">blah blah</div>';dU+='<div class="pinstripe twrap px_left" style="width:405px;padding:5px 0 8px 10px;margin:0">';dU+="<table>";dU+='<tr style="white-space:nowrap">';dU+='<td colspan="3">';dU+='<div style="margin-bottom:5px">';dU+='<table style="width:100%">';dU+="<tr>";dU+='<td style="text-align:left;font-weight:normal;font-size:12.8px">';dU+='<div style="font-weight:bold">Source Template File</div>';dU+="</td>";dU+='<td style="text-align:right;width:50px">';dU+='<div class="btnchk" style="margin-right:0">';dU+='<label for="asu_ux" id="lab_asu_ux" class="btnchk btnchk21 selok"';dU+=">Use Extension";dU+='<input id="asu_ux" type="checkbox" class="btnchk" onchange="MpcCpanel.btnchk_click(\'asu_ux\')" />';dU+="</label>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="<tr>";dU+='<td><div class="lab11" style="padding-top:0">&nbsp;Project Folder</div></td>';dU+="<td></td>";dU+='<td><div class="lab11" style="padding-top:0">&nbsp;Template Filename</div></td>';dU+="</tr>";dU+="<tr>";dU+='<td style="text-align:left;width:176px"><input id="tx_pjfolderASU" class="roundpad2024 epink inp14" style="width:170px" type="text" value="'+memProjectF+'" ';dU+='onkeyup="MpcCpanel.forceWord(this);MpcCpanel.clrTplateStatus(event);return false" style="width:170px" ';dU+='title="A-Z, 0-9, hyphens, and underscores only" />';dU+="</td>";dU+='<td style="width:6px"><div style="padding:0 3px">/</div></td>';dU+='<td style="text-align:left;width:206px"><input id="tx_srcfileASU" class="roundpad2024 inp14 epink" style="width:200px" type="text" value="" ';dU+='onkeyup="MpcCpanel.clrTplateStatus(event);return false" />';dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+='<div class="pinstripe twrap px_left" style="width:405px;padding:5px 0 6px 10px;margin:15px 0 0">';dU+="<table>";dU+='<tr style="white-space:nowrap">';dU+='<td colspan="3" style="font-weight:normal;font-size:12.8px">';dU+='<div style="margin:0 0 7px;font-weight:bold">Primary Marker and Content</div>';dU+="</td>";dU+="</tr>";dU+="<tr>";dU+='<td style="width:50px">';dU+='<div class="btnchk">';dU+='<label for="asu_marker1" id="lab_asu_marker1" class="btnchk btnchk21 fsel"';dU+=">Marker";dU+='<input id="asu_marker1" type="checkbox" checked class="btnchk" disabled="disabled" />';dU+="</label>";dU+="</div>";dU+="</td>";dU+='<td style="text-align:left;width:153px"><input id="tx_asu_marker1" class="roundpad2024 epink inp14" type="text" value="" ';dU+='onkeyup="MpcCpanel.forcePrintable(this);return false" style="width:153px;margin:0 10px" ';dU+='title="Marker string for content insertion" readonly />';dU+="</td>";dU+="<td>";dU+='<div id="upbtn1" class="upbtn" style="padding:2px">';dU+='<button id="btn_asu_marker1" class="sexybutton" onclick="MpcCpanel.loadContentASU(\'1\');return false;"';dU+='title="Upload content folder">';dU+='<span><span><span class="computer">Upload Content</span></span></span>';dU+="</button>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+='<div class="pinstripe twrap px_left" style="width:405px;padding:5px 0 6px 10px;margin:15px 0 0">';dU+="<table>";dU+='<tr style="white-space:nowrap">';dU+='<td colspan="3">';dU+='<div style="margin-bottom:5px">';dU+='<table style="width:100%">';dU+="<tr>";dU+='<td style="text-align:left;font-weight:normal;font-size:12.8px">';dU+='<div style="font-weight:bold">Secondary Marker and Content</div>';dU+="</td>";dU+='<td style="text-align:right;width:50px">';dU+='<div class="btnchk" style="margin-right:3px">';dU+='<label for="asu_kmatch" id="lab_asu_kmatch" class="btnchk btnchk21 selok"';dU+=">Match Keywords";dU+='<input id="asu_kmatch" type="checkbox" class="btnchk" onchange="MpcCpanel.btnchk_click(\'asu_kmatch\')" />';dU+="</label>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="<tr>";dU+='<td style="width:50px">';dU+='<div class="btnchk">';dU+='<label for="asu_marker2" id="lab_asu_marker2" class="btnchk btnchk21 selok"';dU+=">Marker";dU+='<input id="asu_marker2" type="checkbox" class="btnchk" onchange="MpcCpanel.btnchk_click(\'asu_marker2\')" />';dU+="</label>";dU+="</div>";dU+="</td>";dU+='<td style="text-align:left;width:153px"><input id="tx_asu_marker2" class="roundpad2024 epink inp14" type="text" value="" ';dU+='onkeyup="MpcCpanel.forcePrintable(this);return false" style="width:153px;margin:0 10px;opacity:0.3" ';dU+='title="Marker string for content insertion" readonly />';dU+="</td>";dU+="<td>";dU+='<div id="upbtn2" class="upbtn" style="padding:2px">';dU+='<button id="btn_asu_marker2" class="sexybutton" onclick="MpcCpanel.loadContentASU(\'2\');return false;" disabled="disabled"';dU+='title="Upload content folder">';dU+='<span><span><span class="computer">Upload Content</span></span></span>';dU+="</button>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+='<div class="pinstripe twrap px_left" style="width:405px;padding:5px 0 8px 10px;margin:15px 0 0">';dU+="<table>";dU+='<tr style="white-space:nowrap">';dU+='<td colspan="2" style="font-weight:normal;font-size:12.8px">';dU+='<div style="margin:0 0 3px 0;font-weight:bold">Keyword Path</div>';dU+="</td>";dU+="</tr>";dU+='<tr><td colspan="2"><div style="height:3px"></div></td></tr>';dU+='<tr style="white-space:nowrap">';dU+='<td style="width:40px">';dU+='<select id="asu_kpath" class="epink nearby" size="1" style="">';dU+='<option value="0">-- select --</option>';for(x=1;x<6;x++){dU+='<option value="'+x+'">'+ar_cust[x-1]+"</option>"}dU+="</select>";dU+="</td>";dU+='<td style="width:50px">';dU+='<div class="btnchk" style="margin-left:10px">';dU+='<label for="asu_kwrite" id="lab_asu_kwrite" class="btnchk btnchk22 selok"';dU+=">Fill Keywords into Path";dU+='<input id="asu_kwrite" type="checkbox" class="btnchk" onchange="MpcCpanel.btnchk_click(\'asu_kwrite\')" />';dU+="</label>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+='<div style="margin:15px 0 0">';dU+='<button id="bnASU1" class="sexybutton" onclick="MpcCpanel.acceptASU();return false;"><span><span>';dU+='<span class="accept">Make Sources</span></span></span>';dU+="</button>&nbsp;&nbsp;";dU+='<button id="bnASU2" class="sexybutton" onclick="Shadowbox.close()" title="Cancel operation"><span><span>';dU+='<span class="cancel">Cancel</span></span></span>';dU+="</button>";dU+="</div>";dU+="</div>";Shadowbox.open({content:dU,title:'Auto Source for <span class="ttlgold">Keyword Groups</span>',player:"html",handleOversize:"none",height:413,width:457,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"asrc",animate:settings.anim,onFinish:bU}})};function bU(){var dW,dV,dU,M;for(x=0;x<ar_mem_asu_inp.length;x++){dW=ar_mem_asu_inp[x];jQuery("#"+dW).val(mem_asu[dW])}for(x=0;x<ar_mem_asu_cbx.length;x++){dW=ar_mem_asu_cbx[x];dV=mem_asu[dW];dU=jQuery("#"+dW).prop("checked",dV);dU=jQuery("#lab_"+dW).toggleClass("fsel",dV);if((dW!="asu_kwrite")&&(dW!="asu_kmatch")){M=jQuery("#tx_"+dW);M.prop("readonly",!dV);M.css("opacity",(dV)?"1.0":"0.3");jQuery("#btn_"+dW).prop("disabled",!dV)}}if(mem_asu.resume){ad(mem_asu.rcolor,mem_asu.rstat)}}function r(){var dW,dU,M,dV;for(x=0;x<ar_mem_asu_inp.length;x++){dW=ar_mem_asu_inp[x];mem_asu[dW]=jQuery("#"+dW).val()}for(x=0;x<ar_mem_asu_cbx.length;x++){dW=ar_mem_asu_cbx[x];M=jQuery("#"+dW);mem_asu[dW]=M.prop("checked");M.toggleClass("fsel",mem_asu[dW])}dV=jQuery("#tx_pjfolderASU").val();if(dV!=""){cq(dV,false)}}db.acceptASU=function(){var dU=jQuery("#tx_pjfolderASU");if(dU.val()==""){dU.css("background-color","pink");ad("pink","Missing folder name");return}var dX=jQuery("#tx_srcfileASU");if(dX.val()==""){dX.css("background-color","pink");ad("pink","Missing template name");return}for(x=1;x<3;x++){if(jQuery("#asu_marker"+x).prop("checked")){if(jQuery("#tx_asu_marker"+x).val()==""){jQuery("#tx_asu_marker"+x).css("background-color","pink");ad("pink","Missing marker string");return}}}if(jQuery("#asu_marker2").prop("checked")){var d7=jQuery("#tx_asu_marker1");var d6=jQuery("#tx_asu_marker2");if(d7.val()==d6.val()){d7.css("background-color","pink");d6.css("background-color","pink");ad("pink","Duplicate Marks");return}}if(jQuery("#asu_kpath").val()==0){jQuery("#asu_kpath").css("background-color","pink");ad("pink","Missing selection");return}cO(true);r();var d0=jQuery("#asu_kpath").val();var d4=ar_cust[d0-1];var dW=jQuery("#asu_kwrite").prop("checked");var d2=jQuery("#asu_kmatch").prop("checked");var dV=dX.val();var dZ=dU.val();var d5=jQuery("#tx_asu_marker1").val();var d3=jQuery("#tx_asu_marker2").val();var d1=jQuery("#asu_marker1").prop("checked");var dY=jQuery("#asu_marker2").prop("checked");var M=jQuery("#asu_ux").prop("checked");aN("kE7b20Xad",{kwsPath:d0,kwsName:d4,kwsWrite:dW,kwsMatch:d2,sfile:dV,pfolder:dZ,mstr1:d5,mstr2:d3,mcb1:d1,mcb2:dY,ux:M},function(ea){rj=jQuery.parseJSON(ea);if(rj.stat!="ok"){cO(false)}switch(rj.stat){case"ok":jQuery("#taSource").val(rj.sbox);if(dW){jQuery("#taPath"+d0).val(rj.kbox)}var d9=bA(rj.cntS);var d8=bA(rj.cntK);Shadowbox.close();cu("Auto Source successful","Generated: "+d9+" Source Files in "+d8+" Groups","center",115,500);break;case"nocont1":jQuery("#upbtn1").css("background-color","pink");ad("pink","No Primary Content");break;case"nocont2":jQuery("#upbtn2").css("background-color","pink");ad("pink","No Secondary Content");break;case"nosource":jQuery("#tx_srcfileASU").css("background-color","pink");ad("pink","Template not found");break;case"nomark1":jQuery("#tx_asu_marker1").css("background-color","pink");ad("pink","Marker not found");break;case"nomark2":jQuery("#tx_asu_marker2").css("background-color","pink");ad("pink","Marker not found");break;case"nocontent":jQuery("#tx_srcfileASU").css("background-color","pink");ad("pink","No articles found");break}})};function cO(M){if(M){aj("ttlbusy");jQuery("#bnASU1").prop("disable",true);jQuery("#bnASU2").prop("disable",true);jQuery(".pinstripe").css("opacity","0.3")}else{ca("ttlbusy");jQuery(".pinstripe").css("opacity","1.0");jQuery("#bnASU1").prop("disable",false);jQuery("#bnASU2").prop("disable",false)}}db.loadContentASU=function(M){r();mem_asu.n123=M;setTimeout("MpcCpanel._loadContent()",100)};db._loadContent=function(){Shadowbox.close(true);aN("ajax_delTree",{dir:"tmp/.as/content"+mem_asu.n123},function(M){setTimeout("MpcCpanel._browseFileASU()",100)})};db._browseFileASU=function(){MpcCpanel.browseFile("autosource","ziponly")};function at(M){aN("yXC950Xaa",{fname:M,theZname:cp.theZname,subfolder:"tmp/.as/content"+mem_asu.n123,theWebRoot:cp.theWebRoot,bWebRoot:-1,bExZip:1},function(dV){var dU=["Primary","Secondary"];mem_asu.rcolor="pink";Shadowbox.close(true);rj=jQuery.parseJSON(dV);if(rj.stat=="mkdir_err"){mem_asu.rstat="mkdir error"}else{if(rj.stat=="ziperr"){mem_asu.rstat="zipfile error"}else{if(rj.stat=="copyerr"){mem_asu.rstat="copy error"}else{mem_asu.rcolor="lightgreen";mem_asu.rstat=dU[mem_asu.n123-1]+" Content Ok"}}}setTimeout(function(){MpcCpanel.diaAutoSrc(true)},10)})}db.hideDiaStatusPinkASU=function(){db.hideDiaStatusPink();jQuery(".upbtn").css("background-color","transparent")};db.diaAutoSrc1=function(M){mem_asu1.resume=M;for(x=1;x<6;x++){ar_cust[x-1]=(jQuery("#txPath"+x).val()=="")?"path"+x:jQuery("#txPath"+x).val()}var dU="";dU+='<div class="dia-content noselect" style="padding:20px 0 0 15px spellcheck="false" onmousedown="MpcCpanel.hideDiaStatusPinkASU();return true">';dU+='<div id="ttlbusy" style="position:absolute;bottom:20px;right:20px"></div>';dU+='<div class="dia-status" style="position:absolute;bottom:23px;right:20px">blah blah</div>';dU+='<div class="pinstripe twrap px_left" style="width:405px;padding:5px 0 8px 10px;margin:0">';dU+="<table>";dU+='<tr style="white-space:nowrap">';dU+='<td colspan="3">';dU+='<div style="margin-bottom:5px">';dU+='<table style="width:100%">';dU+="<tr>";dU+='<td style="text-align:left;font-weight:normal;font-size:12.8px">';dU+='<div style="font-weight:bold">Source Template File</div>';dU+="</td>";dU+='<td style="text-align:right;width:50px">';dU+='<div class="btnchk" style="margin-right:0">';dU+='<label for="asu1_ux" id="lab_asu1_ux" class="btnchk btnchk21 selok"';dU+=">Use Extension";dU+='<input id="asu1_ux" type="checkbox" class="btnchk" onchange="MpcCpanel.btnchk_click(\'asu1_ux\')" />';dU+="</label>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="<tr>";dU+='<td><div class="lab11" style="padding-top:0">&nbsp;Project Folder</div></td>';dU+="<td></td>";dU+='<td><div class="lab11" style="padding-top:0">&nbsp;Template Filename</div></td>';dU+="</tr>";dU+="<tr>";dU+='<td style="text-align:left;width:176px"><input id="tx_pjfolderASU" class="roundpad2024 epink inp14" type="text" value="'+memProjectF+'" ';dU+='onkeyup="MpcCpanel.forceWord(this);MpcCpanel.clrTplateStatus(event);return false" style="width:170px" ';dU+='title="A-Z, 0-9, hyphens, and underscores only" />';dU+="</td>";dU+='<td style="width:6px"><div style="padding:0 3px">/</div></td>';dU+='<td style="text-align:left;width:206px"><input id="tx_srcfileASU1" class="roundpad2024 inp14 epink" style="width:200px" type="text" value="" ';dU+='onkeyup="MpcCpanel.clrTplateStatus(event);return false" />';dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+='<div class="pinstripe twrap px_left" style="width:405px;padding:5px 0 6px 10px;margin:15px 0 0">';dU+="<table>";dU+='<tr style="white-space:nowrap">';dU+='<td colspan="3" style="font-weight:normal;font-size:12.8px">';dU+='<div style="margin:0 0 7px;font-weight:bold">Primary Marker and Content</div>';dU+="</td>";dU+="</tr>";dU+="<tr>";dU+='<td style="width:50px">';dU+='<div class="btnchk">';dU+='<label for="asu1_marker1" id="lab_asu1_marker1" class="btnchk btnchk21 fsel"';dU+=">Marker";dU+='<input id="asu1_marker1" type="checkbox" checked class="btnchk" disabled="disabled" />';dU+="</label>";dU+="</div>";dU+="</td>";dU+='<td style="text-align:left;width:153px"><input id="tx_asu1_marker1" class="roundpad2024 epink inp14" type="text" value="" ';dU+='onkeyup="MpcCpanel.forcePrintable(this);return false" style="width:153px;margin:0 10px" ';dU+='title="Marker string for content insertion" readonly />';dU+="</td>";dU+="<td>";dU+='<div id="upbtn1" class="upbtn" style="padding:2px">';dU+='<button id="btn_asu1_marker1" class="sexybutton" onclick="MpcCpanel.loadContentASU1(\'1\');return false;"';dU+='title="Upload content folder">';dU+='<span><span><span class="computer">Upload Content</span></span></span>';dU+="</button>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+='<div class="pinstripe twrap px_left" style="width:405px;padding:5px 0 6px 10px;margin:15px 0 0">';dU+="<table>";dU+='<tr style="white-space:nowrap">';dU+='<td colspan="3" style="font-weight:normal;font-size:12.8px">';dU+='<div style="margin:0 0 7px;font-weight:bold">Secondary Marker and Content</div>';dU+="</td>";dU+="</tr>";dU+="<tr>";dU+='<td style="width:50px">';dU+='<div class="btnchk">';dU+='<label for="asu1_marker2" id="lab_asu1_marker2" class="btnchk btnchk21 selok"';dU+=">Marker";dU+='<input id="asu1_marker2" type="checkbox" class="btnchk" onchange="MpcCpanel.btnchk_click(\'asu1_marker2\')" />';dU+="</label>";dU+="</div>";dU+="</td>";dU+='<td style="text-align:left;width:153px"><input id="tx_asu1_marker2" class="roundpad2024 epink inp14" type="text" value="" ';dU+='onkeyup="MpcCpanel.forcePrintable(this);return false" style="width:153px;margin:0 10px;opacity:0.3" ';dU+='title="Marker string for content insertion" readonly />';dU+="</td>";dU+="<td>";dU+='<div id="upbtn2" class="upbtn" style="padding:2px">';dU+='<button id="btn_asu1_marker2" class="sexybutton" onclick="MpcCpanel.loadContentASU1(\'2\');return false;" disabled="disabled"';dU+='title="Upload content folder">';dU+='<span><span><span class="computer">Upload Content</span></span></span>';dU+="</button>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+='<div style="margin:15px 0 0">';dU+='<button id="bnASU1" class="sexybutton" onclick="MpcCpanel.acceptASU1();return false;"><span><span>';dU+='<span class="accept">Make Sources</span></span></span>';dU+="</button>&nbsp;&nbsp;";dU+='<button id="bnASU2" class="sexybutton" onclick="Shadowbox.close()" title="Cancel operation"><span><span>';dU+='<span class="cancel">Cancel</span></span></span>';dU+="</button>";dU+="</div>";dU+="</div>";Shadowbox.open({content:dU,title:'Auto Source for <span class="ttlgold">Single Group</span>',player:"html",handleOversize:"none",height:330,width:457,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"asrc1",animate:settings.anim,onFinish:aL}})};function aL(){var dV,dU,M;for(x=0;x<ar_mem_asu1_inp.length;x++){dV=ar_mem_asu1_inp[x];jQuery("#"+dV).val(mem_asu1[dV])}for(x=0;x<ar_mem_asu1_cbx.length;x++){dV=ar_mem_asu1_cbx[x];dU=mem_asu1[dV];jQuery("#"+dV).prop("checked",dU);jQuery("#lab_"+dV).toggleClass("fsel",dU);M=jQuery("#tx_"+dV);M.prop("readonly",!dU);M.css("opacity",(dU)?"1.0":"0.3");jQuery("#btn_"+dV).prop("disabled",!dU)}if(mem_asu1.resume){ad(mem_asu1.rcolor,mem_asu1.rstat)}}function V(){var dW,dU,M,dV;for(x=0;x<ar_mem_asu1_inp.length;x++){dW=ar_mem_asu1_inp[x];mem_asu1[dW]=jQuery("#"+dW).val()}for(x=0;x<ar_mem_asu1_cbx.length;x++){dW=ar_mem_asu1_cbx[x];M=jQuery("#"+dW);mem_asu1[dW]=M.prop("checked");M.toggleClass("fsel",mem_asu1[dW])}dV=jQuery("#tx_pjfolderASU").val();if(dV!=""){cq(dV,false)}}db.acceptASU1=function(){var dU=jQuery("#tx_pjfolderASU");if(dU.val()==""){dU.css("background-color","pink");ad("pink","Missing folder name");return}var dW=jQuery("#tx_srcfileASU1");if(dW.val()==""){dW.css("background-color","pink");ad("pink","Missing template name");return}for(x=1;x<3;x++){if(jQuery("#asu1_marker"+x).prop("checked")){if(jQuery("#tx_asu1_marker"+x).val()==""){jQuery("#tx_asu1_marker"+x).css("background-color","pink");ad("pink","Missing marker string");return}}}if(jQuery("#asu1_marker2").prop("checked")){var d3=jQuery("#tx_asu1_marker1");var d1=jQuery("#tx_asu1_marker2");if(d3.val()==d1.val()){d3.css("background-color","pink");d1.css("background-color","pink");ad("pink","Duplicate Marks");return}}cO(true);V();var dV=dW.val();var dY=dU.val();var d2=jQuery("#tx_asu1_marker1").val();var d0=jQuery("#tx_asu1_marker2").val();var dZ=jQuery("#asu1_marker1").prop("checked");var dX=jQuery("#asu1_marker2").prop("checked");var M=jQuery("#asu1_ux").prop("checked");aN("ajax_autoSource1",{sfile:dV,pfolder:dY,mstr1:d2,mstr2:d0,mcb1:dZ,mcb2:dX,ux:M},function(d5){rj=jQuery.parseJSON(d5);if(rj.stat!="ok"){cO(false)}switch(rj.stat){case"ok":jQuery("#taSource").val(rj.sbox);var d4=bA(rj.cntS);Shadowbox.close();cu("Auto Source successful","Generated: "+d4+" Grouped Source Files","center",115,500);break;case"nocont1":jQuery("#upbtn1").css("background-color","pink");ad("pink","No Primary Content");break;case"nocont2":jQuery("#upbtn2").css("background-color","pink");ad("pink","No Secondary Content");break;case"noart1":jQuery("#upbtn1").css("background-color","pink");ad("pink","No Content Articles");break;case"noart2":jQuery("#upbtn2").css("background-color","pink");ad("pink","No Content Articles");break;case"nosource":jQuery("#tx_srcfileASU1").css("background-color","pink");ad("pink","Template not found");break;case"nomark1":jQuery("#tx_asu1_marker1").css("background-color","pink");ad("pink","Marker not found");break;case"nomark2":jQuery("#tx_asu1_marker2").css("background-color","pink");ad("pink","Marker not found");break}})};db.loadContentASU1=function(M){V();mem_asu1.n123=M;setTimeout("MpcCpanel._loadContent1()",100)};db._loadContent1=function(){Shadowbox.close(true);aN("ajax_delTree",{dir:"tmp/.as1/content"+mem_asu1.n123},function(M){setTimeout("MpcCpanel._browseFileASU1()",100)})};db._browseFileASU1=function(){MpcCpanel.browseFile("autosource1","ziponly")};function df(M){aN("yXC950Xaa",{fname:M,theZname:cp.theZname,subfolder:"tmp/.as1/content"+mem_asu1.n123,theWebRoot:cp.theWebRoot,bWebRoot:-1,bExZip:1},function(dV){var dU=["Primary","Secondary"];mem_asu1.rcolor="pink";Shadowbox.close(true);rj=jQuery.parseJSON(dV);if(rj.stat=="mkdir_err"){mem_asu1.rstat="mkdir error"}else{if(rj.stat=="ziperr"){mem_asu1.rstat="zipfile error"}else{if(rj.stat=="copyerr"){mem_asu1.rstat="copy error"}else{mem_asu1.rcolor="lightgreen";mem_asu1.rstat=dU[mem_asu1.n123-1]+" Content Ok"}}}setTimeout(function(){MpcCpanel.diaAutoSrc1(true)},10)})}db.diaAddFile=function(){iPath=1;iCmp=1;var d1,d2;last_silo_path=0;var dU="";var d0="";var dW='disabled="disabled"';var M='style="color:'+theme.sbdisColor+'";';var dZ=new Array();var dV=new Array();ar_cust=[];if(c4){dU=dW;d0="color:"+theme.sbdisColor}for(d1=1;d1<6;d1++){ar_cust[d1-1]=(jQuery("#txPath"+d1).val()=="")?"path"+d1:jQuery("#txPath"+d1).val();dZ[d1-1]=dW;dV[d1-1]=M;if((c4)&&(d1>1)){continue}d2=jQuery("#taPath"+d1).val().trim();if(d2==""){continue}if(d2.substr(-2)!="//"){continue}last_silo_path=d1;dZ[d1-1]="";dV[d1-1]=""}bAnySilo=false;var dX="&p1="+jQuery("#txPath1").val()+"&p2="+jQuery("#txPath2").val()+"&p3="+jQuery("#txPath3").val()+"&p4="+jQuery("#txPath4").val()+"&p5="+jQuery("#txPath5").val();memsaveas="";var dY='<div class="dia-content noselect" style="text-align:left;white-space:nowrap;" >';dY+="<table>";dY+="<tr>";dY+='<td colspan="5">';dY+='<div style="position:absolute;top:20px;left:20px;overflow:auto;height:300px;width:480px;background-color:'+theme.sbload+";border:1px solid "+theme.inpBord+'">';dY+='<div id="agif">';dY+='<table id="loading">';dY+="<tr>";dY+='<td style="text-align:left"><div id="ttlbusy" class="busycss"></div></td>';dY+='<td style="text-align:left">Loading...</td>';dY+="</tr>";dY+="</table>";dY+="</div>";dY+='<ul id="browser" class="filetree treeview-black"></ul>';dY+="</div>";dY+="</td>";dY+='<td style="vertical-align:bottom;width:100px">';dY+="<table>";dY+='<tr><td><div class="tdadd sb-dis af-path" onclick="MpcCpanel.pathSelect(this);return false;" id="a1path0">Url</div></td></tr>';dY+='<tr><td><div style="height:12px"></div></td></tr>';dY+='<tr><td><div class="tdadd sb-dis af-path" onclick="MpcCpanel.pathSelect(this);return false;" id="a1path1">'+ar_cust[0]+"</div></td></tr>";dY+='<tr><td><div class="tdadd sb-dis af-path" onclick="MpcCpanel.pathSelect(this);return false;" id="a1path2">'+ar_cust[1]+"</div></td></tr>";dY+='<tr><td><div class="tdadd sb-dis af-path" onclick="MpcCpanel.pathSelect(this);return false;" id="a1path3">'+ar_cust[2]+"</div></td></tr>";dY+='<tr><td><div class="tdadd sb-dis af-path" onclick="MpcCpanel.pathSelect(this);return false;" id="a1path4">'+ar_cust[3]+"</div></td></tr>";dY+='<tr><td><div class="tdadd sb-dis af-path" onclick="MpcCpanel.pathSelect(this);return false;" id="a1path5">'+ar_cust[4]+"</div></td></tr>";dY+='<tr><td><div style="height:12px"></div></td></tr>';dY+='<tr><td><div class="tdadd sb-dis af-cmp" onclick="MpcCpanel.cmpSelect(this);return false;" id="a1cmp1">Equal</div></td></tr>';dY+='<tr><td><div class="tdadd sb-dis af-cmp" onclick="MpcCpanel.cmpSelect(this);return false;" id="a1cmp2">Not Equal</div></td></tr>';dY+='<tr><td><div class="tdadd sb-dis af-cmp" onclick="MpcCpanel.cmpSelect(this);return false;" id="a1cmp3">Contains</div></td></tr>';dY+='<tr><td><div class="tdadd sb-dis af-cmp" onclick="MpcCpanel.cmpSelect(this);return false;" id="a1cmp4">Regex</div></td></tr>';dY+="</table>";dY+="</td>";dY+="</tr>";dY+="<tr>";dY+='<td colspan="6">';dY+='<div style="height:10px;position:relative">';dY+='<div class="dia-status" style="position:absolute;top:3px;left:200px;"></div>';dY+="</div>";dY+="</td>";dY+="</tr>";dY+="<tr>";dY+='<td colspan="6"><span style="font-size:11px;padding-left:5px">Selected file</span></td>';dY+="</tr>";dY+="<tr>";dY+='<td colspan="6"><div id="selectedA">&nbsp;</div></td>';dY+="</tr>";dY+="<tr>";dY+='<td colspan="6"><div style="height:10px"></div></td>';dY+="</tr>";dY+="<tr>";dY+='<td style="text-align:left;width:220px"><span id="cmplabel" class="formlbl" style="font-size:11px;padding-left:5px">Comparison string for formula</span></td>';dY+='<td style="text-align:right;width:100px"><label class="noselect formlbl" style="font-size:11px" for="cbUseFormula">Use Formula</label></td>';dY+='<td style="width:20px;"><input type="checkbox" onchange="MpcCpanel.cbUseFormulaClicked();return false;" id="cbUseFormula"></td>';dY+="<td></td>";dY+='<td colspan="2" style="font-weight:normal;font-size:11px">';dY+='<table style="width:100%"><tr>';dY+='<td style="text-align:left"><label for="fi_i"><span style="font-size:11px;padding-left:8px">Silo INDEX</span></label></td>';dY+='<td style="text-align:left"><input type="radio" checked onchange="MpcCpanel.radSiloClicked();return false" name="file_index" value="index" id="fi_i" ';dY+='style="margin:0 0 0 4px;visibility:hidden"></td>';dY+='<td style="width:140px"></td>';dY+='<td style="text-align:right"><label for="fi_f"><span style="visibility:hidden;font-size:11px;'+d0+'">Parent Silo FILE</span></label></td>';dY+='<td style="text-align:right"><input type="radio" onchange="MpcCpanel.radSiloClicked();return false" name="file_index" '+dU+' value="file" id="fi_f" ';dY+='style="margin:0 8px 0 4px;visibility:hidden"></td>';dY+="</tr></table>";dY+="</td>";dY+="</tr>";dY+="<tr>";dY+='<td colspan="3"><div id="searchA"><input type="text" class="sb-dis af-search" id="txSearchA" disabled="disabled"';dY+=' onkeyup="MpcCpanel.searchKeyUp(event);return false"></div></td>';dY+='<td style="width:20px"></td>';dY+='<td colspan="2" rowspan="5" style="vertical-align:top">';dY+='<div id="silo_div" style="font-size:11px;border:1px solid '+theme.inpBord+'">';dY+="<table>";for(d1=1;d1<6;d1++){dY+="<tr>";dY+='<td style="width:20px;"><input type="checkbox" class="cbSilos" onchange="MpcCpanel.cbSiloClicked('+d1+');return false;" '+dZ[d1-1]+' id="cbSilo'+d1+'"></td>';dY+='<td><label class="noselect" '+dV[d1-1]+' for="cbSilo'+d1+'">'+ar_cust[d1-1]+"</label></td>";dY+="</tr>"}dY+="</table>";dY+="</div>";dY+="</td>";dY+="</tr>";dY+='<tr><td colspan="4"><div style="height:10px"></div></td></tr>';dY+="<tr>";dY+='<td style="text-align:left"><span id="savelabel" style="font-size:11px;padding-left:5px">Destination filename</span></td>';dY+='<td style="text-align:right"><label class="noselect" style="font-size:11px;'+d0+'" for="cbFileExt">File Extension</label></td>';dY+='<td style="text-align:left"><input type="checkbox" '+dU+' onchange="MpcCpanel.cbFileExtClicked();return false;" id="cbFileExt"></td>';dY+="<td></td>";dY+="</tr>";dY+="<tr>";dY+='<td colspan="3" style="text-align:left"><div id="destA"><input type="text" id="txDestA" onkeyup="MpcCpanel.hideDiaStatusK(event);return false"></div></td>';dY+="<td></td>";dY+="</tr>";dY+="<tr>";dY+='<td colspan="3">';dY+='<table  style="width:100%">';dY+='<tr><td colspan="3"><div style="height:13px"></div></td>';dY+="<tr>";dY+='<td style="text-align:left">';dY+='<button class="sexybutton" id="acceptA" title="Add entry to Source Files list box." disabled="disabled"';dY+='onclick="MpcCpanel.acceptA();return false;">';dY+='<span><span><span class="add">Add Entry</span></span></span></button>';dY+="</td>";dY+='<td style="text-align:center">';dY+='<button class="sexybutton" title="Remove last entry from Source Files list box." onclick="MpcCpanel.popSourcebox();return false;">';dY+='<span><span><span class="delete">Remove Last</span></span></span></button>';dY+="</td>";dY+='<td style="text-align:right">';dY+='<button class="sexybutton" title="Close this dialog." onclick="MpcCpanel.sortBoxS();return false;">';dY+='<span><span><span class="accept">Done</span></span></span></button>';dY+="</td>";dY+="</tr>";dY+="</table>";dY+="</td>";dY+="<td></td>";dY+="</tr>";dY+="</table>";dY+="</div>";Shadowbox.open({content:dY,title:"Add Source Files to Project",player:"html",handleOversize:"none",height:529,width:630,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,onMyClose:db.sortBoxS,animate:settings.anim,onFinish:aQ}})};function aQ(){cI();be();b("addPage");return false}function be(){c8("kFFX30XxX",{caller_ajax:"addPage"},function(dV){var M;try{M=jQuery.parseJSON(dV)}catch(dU){alert("JSON error: hoverData \n"+dV)}if(M.firsturl==""){jQuery("#cbUseFormula").prop("disabled",true);jQuery(".formlbl").css("color","#a0a0a0")}else{jQuery("#a1path0").attr("title",M.firsturl);for(x=1;x<6;x++){jQuery("#a1path"+x).attr("title",M["path"+x])}}})}db.acceptA=function(){var d3;var dX;var dV=jQuery("#selectedA").text();var ea=jQuery("#txSearchA").val().trim();var dU=jQuery("#txDestA").val().trim();var M=jQuery("#cbFileExt").prop("checked");var d5=jQuery("#cbUseFormula").prop("checked");if((dU=="")&&!M){dU=dV}var d6=jQuery("input:radio[name=file_index]:checked").val();var dW="";var d9=0;for(d3=1;d3<6;d3++){if(!jQuery("#cbSilo"+d3).prop("checked")){continue}d9=d3;dW="["+d6+"="+ar_cust[d3-1]+"]";break}if(dW!=""){if((d6=="file")&&(d9==last_silo_path)){ad("pink","Selected Silo is not a parent of other Silos");return false}if(M&&(d6=="index")){ad("pink","Silo <b>index</b> cannot be a File Extension");return false}}var ed="";if(d5){if(iPath==-1){ad("pink","Url or Path not selected");jQuery(".af-path").toggleClass("warnn",true);jQuery("#txSearchA").focus();return false}if(iCmp==-1){ad("pink","Comparison not selected");jQuery(".af-cmp").toggleClass("warnn",true);jQuery("#txSearchA").focus();return false}if((ea=="")&&(iCmp==4)){ad("pink","Matching Pattern /regex/ not entered");jQuery(".af-search").toggleClass("warnn",true);jQuery("#txSearchA").focus();return false}if(ea==""){ad("pink","Comparison string not entered");jQuery(".af-search").toggleClass("warnn",true);jQuery("#txSearchA").focus();return false}if(iCmp==4){if(!ea.match(/^\/.+?\//)){ad("pink","Pattern missing '/' delimiters");jQuery(".af-search").toggleClass("warnn",true);jQuery("#txSearchA").focus();return false}var d7=jQuery("#a1path"+iPath).text();ed=(iPath==0)?"["+ea+"]":"[:"+d7+":"+ea+"]"}else{var dZ="x=!~";var ee=dZ.charAt(iCmp);var d7=jQuery("#a1path"+iPath).text();ed=(iPath==0)?"["+ee+ea+"]":"["+d7+ee+ea+"]"}}var dY=jQuery("#taSource").val();dY=dY.trim();dY=dY.replace(/\s*\n\s*/g,"\n");var d2=dY.split("\n");var eb=d2.length;var d4,d0,ec;var d1=false;for(d3=0;d3<eb;d3++){d4=d2[d3].trim();dX=dW.length;if(dX>0){if(dW!=d4.substr(0,dX)){continue}d4=d4.substr(dX)}if(M){dX=d4.indexOf(">>");if(dX==-1){continue}d4=d4.substr(dX+2)}else{if((ed!="")||(dV!=dU)){dX=d4.indexOf(">");if(dX==-1){continue}d4=d4.substr(dX+1)}}d4=d4.trim();if(ed!=""){dX=ed.length;if(ed!=d4.substr(0,dX)){continue}d4=d4.substr(dX);d4=d4.trim();if(dU!=d4){continue}}else{if(dU!=d4){continue}}d1=true;break}if(d1){ad("pink","Already added to listbox");return false}jQuery("#acceptA").prop("disabled",true);jQuery("#selectedA").html("&nbsp;");jQuery("#txSearchA").val("");memsaveas="";if(jQuery("#cbFileExt").prop("checked")){memexten=jQuery("#txDestA").val().trim()}if(bAnySilo){memsilo=jQuery("#txDestA").val().trim()}W();var ef=(ed=="")?"":ed+" ";var d8=(dW=="")?"":dW+" ";d8+=dV;if(M){d8+=" >> "+ef+dU}else{if((ed!="")||(dV!=dU)){d8+=" > "+ef+dU}}if(dY.length==0){jQuery("#taSource").val(dY+d8+"\n")}else{jQuery("#taSource").val(dY+"\n"+d8+"\n")}db.saveSnap("taSource");return false};db.searchKeyUp=function(dU){var M=jQuery(".af-search");if(M.hasClass("warnn")){MpcCpanel.hideDiaStatusK(dU);M.toggleClass("warnn",false)}};db.cbUseFormulaClicked=function(){db.hideDiaStatus();jQuery(".af-path").toggleClass("warnn",false);jQuery(".af-cmp").toggleClass("warnn",false);jQuery(".af-search").toggleClass("warnn",false);var dW=jQuery("#cbUseFormula").prop("checked");jQuery("#txSearchA").toggleClass("sb-dis",!dW);jQuery("#txSearchA").prop("disabled",!dW);var M,dV,dU;dV=jQuery("#a1path0");dV.toggleClass("sb-dis",!dW);dV.toggleClass("selok",dW);for(M=5;M>0;M--){dV=jQuery("#a1path"+M);if(dV.attr("title")==""){continue}dU=dV;dU.toggleClass("sb-dis",!dW);dU.toggleClass("selok",dW)}dV=jQuery(".af-cmp");dV.toggleClass("sb-dis",!dW);dV.toggleClass("selok",dW);if(!dW){jQuery(".tdadd").toggleClass("fsel",false);jQuery("#txSearchA").val("");iPath=-1;iCmp=-1}else{dU.toggleClass("fsel",true);jQuery("#a1cmp1").toggleClass("fsel",true);iPath=1;iCmp=1}X()};db.cbSiloClicked=function(dU){db.hideDiaStatus();var M=jQuery("#cbSilo"+dU).prop("checked");jQuery(".cbSilos").prop("checked",false);jQuery("#cbSilo"+dU).prop("checked",M);bAnySilo=M;W()};db.radSiloClicked=function(M){db.hideDiaStatus();W()};function W(){var M="";if(jQuery("#cbFileExt").prop("checked")){M=memexten}else{if(bAnySilo&&(jQuery("input:radio[name=file_index]:checked").val()=="index")){M=memsilo}else{M=memsaveas}}jQuery("#txDestA").val(M)}function X(){if(jQuery("#a1cmp4").hasClass("fsel")){document.getElementById("cmplabel").innerHTML="Matching Pattern /regex/"}else{document.getElementById("cmplabel").innerHTML="Comparison string for formula"}}db.cbFileExtClicked=function(){db.hideDiaStatus();if(jQuery("#cbFileExt").prop("checked")){document.getElementById("savelabel").innerHTML="Destination extension (.html etc)"}else{document.getElementById("savelabel").innerHTML="Destination filename"}W()};function b9(M){db.hideDiaStatus();jQuery("#acceptA").prop("disabled",false);jQuery("#selectedA").text(M);memsaveas=dQ(M);W();return false}db.pathSelect=function(dV){var dW=dV.id;if(!jQuery("#"+dW).hasClass("selok")){return false}if(jQuery(".af-path").hasClass("warnn")){db.hideDiaStatus();jQuery(".af-path").toggleClass("warnn",false)}var dU=dW.substr(0,dW.length-1);var M=dW.charAt(dW.length-1);for(x=0;x<6;x++){jQuery("#"+dU+x).toggleClass("fsel",false)}jQuery("#"+dW).toggleClass("fsel",true);iPath=M;return false};db.cmpSelect=function(dV){if(!jQuery("#cbUseFormula").prop("checked")){return false}if(jQuery(".af-cmp").hasClass("warnn")){db.hideDiaStatus();jQuery(".af-cmp").toggleClass("warnn",false)}var dW=dV.id;var dU=dW.substr(0,dW.length-1);var M=dW.charAt(dW.length-1);for(x=1;x<5;x++){jQuery("#"+dU+x).toggleClass("fsel",false)}jQuery("#"+dW).toggleClass("fsel",true);iCmp=M;X();return false};db.popSourcebox=function(){var dV=jQuery("#taSource").val().trim();var M=dV.split("\n");if(M.length<2){jQuery("#taSource").val("");return false}M.pop();var dU=M.join("\n")+"\n";jQuery("#taSource").val(dU);db.saveSnap("taSource");return false};db.diaAddDefault=function(){memsaveas="";var M="";M+='<div class="dia-content noselect" style="text-align:left;white-space:nowrap" >';M+="<table>";M+="<tr>";M+='<td colspan="5">';M+='<div style="overflow:auto;height:300px;width:480px;background-color:'+theme.sbload+";border:1px solid "+theme.inpBord+'">';M+='<ul id="browser" class="filetree treeview-black"></ul>';M+="</div>";M+="</td>";M+="</tr>";M+="<tr>";M+='<td colspan="5">';M+='<div style="height:10px;position:relative">';M+='<div class="dia-status" style="position:absolute;top:4px;left:183px;"></div>';M+="</div>";M+="</td>";M+="</tr>";M+="<tr>";M+='<td colspan="5"><span style="font-size:11px;padding-left:5px">Selected file</span></td>';M+="</tr>";M+="<tr>";M+='<td colspan="5"><div style="width:470px" id="selectedA">&nbsp;</div></td>';M+="</tr>";M+="<tr>";M+='<td colspan="5"><div style="height:10px"></div></td>';M+="</tr>";M+="<tr>";M+='<td style="width:220px;text-align:left"><span id="savelabel" style="font-size:11px;padding-left:5px">Destination filename</span></td>';M+='<td style="width:100px;text-align:right"><label class="noselect" style="font-size:11px" for="cbFileExt">File Extension</label></td>';M+='<td style="width:20px;text-align:left"><input type="checkbox" onchange="MpcCpanel.cbFileExtClicked();return false;" id="cbFileExt"></td>';M+='<td colspan="2"></td>';M+="</tr>";M+="<tr>";M+='<td colspan="3" style="text-align:left"><div id="destA"><input type="text" id="txDestA" onkeyup="MpcCpanel.hideDiaStatusK(event);return false"></div></td>';M+='<td colspan="2"></td>';M+="</tr>";M+="<tr>";M+='<td colspan="3">';M+='<table style="width:100%">';M+='<tr><td colspan="3"><div style="height:13px"></div></td></tr>';M+="<tr>";M+='<td style="text-align:left">';M+='<button class="sexybutton" id="acceptDEF" title="Add entry to Source Files list box." disabled="disabled"';M+='onclick="MpcCpanel.acceptDEF();return false;">';M+='<span><span><span class="add">Add Default</span></span></span></button>';M+="</td>";M+='<td style="text-align:center">';M+='<button class="sexybutton" title="Remove last entry from Source Files list box." onclick="MpcCpanel.popSourcebox();return false;">';M+='<span><span><span class="delete">Remove Last</span></span></span></button>';M+="</td>";M+='<td style="text-align:right">';M+='<button class="sexybutton" title="Close this dialog." onclick="MpcCpanel.sortBoxS();return false;">';M+='<span><span><span class="accept">Done</span></span></span></button>';M+="</td>";M+="</tr>";M+="</table>";M+="</td>";M+='<td colspan="2"></td>';M+="</tr>";M+="</table>";M+="</div>";Shadowbox.open({content:M,title:"Add a Default Source to Project",player:"html",handleOversize:"none",height:482,width:520,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,onMyClose:db.sortBoxS,animate:settings.anim,onFinish:ak}})};function ak(){cI();b("addDefault");return false}db.acceptDEF=function(){var dV=jQuery("#selectedA").text();var dX=jQuery("#txDestA").val().trim();var dW=jQuery("#cbFileExt").prop("checked");var dU=jQuery("#taSource");jQuery("#acceptDEF").prop("disabled",true);jQuery("#selectedA").html("&nbsp;");if((dX=="")&&!dW){dX=dV}var M=dU.val();if(M.indexOf("[default]")!=-1){if(!dW){jQuery("#txDestA").val("")}ad("pink","Only 1 Default allowed");return false}memsaveas="";if(dW){memexten=jQuery("#txDestA").val().trim()}an();if(dW){str="[default] "+dV+" >> "+dX}else{if(dV==dX){str="[default] "+dX}else{str="[default] "+dV+" > "+dX}}if(M.length==0){dU.val(str+"\n")}else{dU.val(M+"\n"+str+"\n")}db.saveSnap("taSource");return false};function an(){var M="";if(jQuery("#cbFileExt").prop("checked")){M=memexten}else{M=memsaveas}jQuery("#txDestA").val(M)}function cF(M){db.hideDiaStatus();jQuery("#acceptDEF").prop("disabled",false);jQuery("#selectedA").text(M);memsaveas=dQ(M);an();return false}db.diaAddAsset=function(){var M='<div class="dia-content noselect" style="text-align:left;white-space:nowrap" >';M+="<table>";M+="<tr>";M+="<td>";M+='<div style="overflow:auto;height:300px;width:630px;background-color:'+theme.sbload+";border:1px solid "+theme.inpBord+'">';M+='<div id="agif">';M+='<table id="loading">';M+="<tr>";M+='<td style="text-align:left"><div id="ttlbusy" class="busycss"></div></td>';M+='<td style="text-align:left">Loading...</td>';M+="</tr>";M+="</table>";M+="</div>";M+='<ul id="browser" class="filetree treeview-black"></ul>';M+="</div>";M+="</td>";M+="</tr>";M+='<tr><td><div style="height:10px"></div></td></tr>';M+="<tr>";M+='<td style="vertical-align:bottom"><span style="font-size:11px;padding-left:5px">Selected file or folder</span></td>';M+="</tr>";M+="<tr>";M+='<td><div id="divAsset">&nbsp;</div></td>';M+="</tr>";M+="<tr>";M+="<td>";M+="<table>";M+='<tr><td colspan="5"><div style="height:13px"></div></td></tr>';M+="<tr>";M+="<td>";M+='<button class="sexybutton" id="bnAcceptAsset" title="Add Asset to Source Files list box." disabled="disabled"';M+='onclick="MpcCpanel.acceptAsset();return false;">';M+='<span><span><span class="add">Add Asset</span></span></span></button>';M+="</td>";M+="<td>&nbsp;&nbsp;</td>";M+='<td style="width:100px">';M+='<button class="sexybutton" title="Remove last entry from Source Files list box." onclick="MpcCpanel.popSourcebox();return false;">';M+='<span><span><span class="delete">Remove Last</span></span></span></button>';M+="</td>";M+="<td>&nbsp;&nbsp;</td>";M+='<td style="text-align:left">';M+='<button class="sexybutton" title="Close this dialog." onclick="MpcCpanel.sortBoxS();return false;">';M+='<span><span><span class="accept">Done</span></span></span></button>';M+="</td>";M+="</tr>";M+="</table>";M+="</td>";M+="</tr>";M+="</table>";M+="</div>";Shadowbox.open({content:M,title:"Add Asset Files to Project",player:"html",handleOversize:"none",height:430,width:671,options:{loadingColor:theme.sbload,qmarkTarget:"asset",bodyColor:theme.sbbody,onMyClose:db.sortBoxS,animate:settings.anim,onFinish:bD}})};function bD(){cI();var dX=jQuery("#taSource");var dZ=dX.val();dZ=dZ.replace(/\s*\n\s*/g,"\n");dZ=dZ.trim();var dV=dZ.split("\n");var dU=dV.length;strSource="";var dY="";var M,dW;for(M=0;M<dU;M++){dW=dV[M];if(dW.search(/\[asset\]/i)==-1){strSource+=dW+"\n"}else{dY+=dW+"\n"}}strSource+=dY;dX.val(strSource);b("addAsset");return false}db.acceptAsset=function(){jQuery("#bnAcceptAsset").prop("disabled",true);jQuery("#divAsset").html("&nbsp;");var M;if(assetName.charAt(assetName.length-1)!="/"){M="[asset] "+assetName+"\n";strSource=strSource.replace(M,"")+M;jQuery("#taSource").val(strSource);db.saveSnap("taSource")}else{c8("aE7b20XAc",{dir:assetName},function(dX){if(dX!="none"){var dV;var dW=dX.split("\t");var dU=dW.length;for(dV=0;dV<dU;dV++){M="[asset] "+dW[dV]+"\n";strSource=strSource.replace(M,"")+M}jQuery("#taSource").val(strSource);db.saveSnap("taSource")}})}};function de(dV){assetName=dV;jQuery("#bnAcceptAsset").prop("disabled",false);var dU=jQuery("#divAsset");if(dV.charAt(dV.length-1)=="/"){var dX=dV.search(/[^\/]+\/$/);var M=dV.substr(0,dX);var dW=dV.substr(dX);dV=M+'<span style="color:gold">'+dW+"</span>"}dU.html(dV);return false}db.diaUrlPreview=function(){var M;str="";str+='<div class="dia-content noselect" style="position:relative;text-align:left;padding:15px 0 0 20px;white-space:nowrap">';str+='<div id="ttlbusy" class="busycss" style="position:absolute;bottom:0px;right:20px"></div>';str+="<table>";str+="<tr>";str+='<td colspan="4"><div id="scrollboxUrlPrev">&nbsp;</div></td>';str+="</tr>";str+='<tr><td colspan="4"><div style="height:10px"></div></td></tr>';str+='<tr style="white-space:nowrap">';str+='<td style="width:20px">Path</td>';str+='<td style="width:20px">&nbsp;&nbsp;&nbsp;&nbsp;Silo</td>';str+='<td style="width:20px">&nbsp;&nbsp;&nbsp;&nbsp;Name</td>';str+='<td style="text-align:left">&nbsp;&nbsp;&nbsp;&nbsp;Value</td>';str+="</tr>";for(M=1;M<6;M++){str+='<tr class="upcolor'+M+'" style="white-space:nowrap">';str+='<td style="padding:2px 0">&nbsp;&nbsp;'+M+"</td>";str+='<td>&nbsp;&nbsp;&nbsp;&nbsp;<span id="yn'+M+'"</td>';str+="<td>&nbsp;&nbsp;&nbsp;&nbsp;"+jQuery("#txPath"+M).val()+"</td>";str+='<td>&nbsp;&nbsp;&nbsp;&nbsp;<span id="uplist'+M+'"></span>&nbsp;&nbsp;</td>';str+="</tr>"}str+='<tr><td colspan="4"><div style="height:15px"></div></td></tr>';str+="<tr>";str+='<td colspan="4">';str+="<table>";str+='<tr style="white-space:nowrap">';str+='<td style="width:70px">';str+='<button class="sexybutton" onclick="Shadowbox.close()"><span><span>';str+='<span class="cancel">Close</span></span></span>';str+="</button>&nbsp;&nbsp;&nbsp;";str+="</td>";str+='<td style="width:5px">';str+='<input type="checkbox" id="showdom" disabled="disabled" onchange="MpcCpanel.showdomClick()" />';str+="</td>";str+='<td style="text-align:left">';str+='<label for="showdom">Show domain</label>&nbsp;&nbsp;&nbsp;';str+="</td>";str+='<td style="text-align:left">';str+='<a href="javascript:MpcCpanel.goSettingsTab()">Project settings</a>';str+="</td>";str+="</tr>";str+="</table>";str+="<td>";str+="</tr>";str+="</table>";str+="</div>";Shadowbox.open({content:str,title:"Url preview",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:ct},height:251,width:750})};function ct(){cI();c8("kFFX30XxX",{caller_ajax:"urlPreview"},function(M){var d1;try{rj=jQuery.parseJSON(M)}catch(dW){alert("JSON error: urlPreview. \n"+M)}var dU="Empty paths";if(rj.firsturl!=""){var d2=[rj.asispath1,rj.asispath2,rj.asispath3,rj.asispath4,rj.asispath5];var dV=[rj.dashpath1,rj.dashpath2,rj.dashpath3,rj.dashpath4,rj.dashpath5];var dZ=[rj.path1.length,rj.path2.length,rj.path3.length,rj.path4.length,rj.path5.length];var d3=[rj.ynsilo1,rj.ynsilo2,rj.ynsilo3,rj.ynsilo4,rj.ynsilo5];for(d1=1;d1<6;d1++){if(dZ[d1-1]==0){continue}jQuery("#yn"+d1).html(d3[d1-1]);jQuery("#uplist"+d1).html(d2[d1-1])}var d0=rj.firsturl;dU="";dindex=0;for(d1=1;d1<6;d1++){if(dZ[d1-1]==0){continue}dU+='<span class="upround upcolor'+d1+'">'+dV[d1-1]+"</span>";dindex+=dZ[d1-1]+1;if(dindex<rj.firsturl.length){dU+='<span class="upround upcolorX">'+rj.firsturl.charAt(dindex-1)+"</span>"}}dU+=rj.firstdest;mem_url=dU;var dX=(settings.force_ssl==1)?"https":cp.ssl;var dY=(rj.jset_smap_remote_yn=="yes")?rj.jset_smap_remote_url:dX+"://"+cp.theDomain+cp.theSubdirTrim;mem_dom=a6(dY)+"/";jQuery("#showdom").prop("disabled",false)}jQuery("#scrollboxUrlPrev").html(dU);ca("ttlbusy")})}db.showdomClick=function(){if(jQuery("#showdom").prop("checked")){jQuery("#scrollboxUrlPrev").html(mem_dom+mem_url)}else{jQuery("#scrollboxUrlPrev").html(mem_url)}};db.goSettingsTab=function(){Shadowbox.close(true);setTimeout(function(){MpcCpanel.mainProject("settings","urlpreview")},10)};db.return2urlpreview=function(){Shadowbox.close(true);setTimeout("MpcCpanel.diaUrlPreview()",10)};db.diaAddWebroot=function(){var M="";M+='<div class="dia-content noselect" spellcheck="false" onmousedown="MpcCpanel.hideDiaStatus();return true">';M+="<div>";M+='<table style="width:100%">';M+="<tr>";M+='<td style="text-align:left;vertical-align:top">WebRoot files and folders</td>';M+='<td style="text-align:right;vertical-align:top">';M+='<a href="javascript:MpcCpanel.cbwrToggle()">';M+='<span class="avis">TOGGLE ALL</span>';M+="</a>";M+="</td>";M+="</tr>";M+="<tr>";M+='<td colspan="2"><div id="scrollbox4"></div></td>';M+="</tr>";M+="</table>";M+='<div style="position:relative;margin:14px 0 0 3px">';M+='<div id="ttlbusy" class="busycss" style="position:absolute;top:0;right:2px"></div>';M+='<table style="width:100%">';M+="<tr>";M+='<td style="width:120px">';M+='<button class="sexybutton disbtn" disabled="disabled" onclick="MpcCpanel.acceptAddWebRoot();return false;"';M+='title="Add checked WebRoot files and folders to Project">';M+='<span><span><span class="add">Add WebRoot</span></span></span>';M+="</button>";M+="</td>";M+='<td style="text-align:left;padding-left:20px">';M+='<button class="sexybutton disbtn" disabled="disabled" onclick="Shadowbox.close();return false;"';M+='title="Close dialog">';M+='<span><span><span class="cancel">Cancel</span></span></span>';M+="</button>";M+="</td>";M+="<td></td>";M+='<td style="text-align:right;width:110px">';M+='<div class="dia-status"></div>';M+="</td>";M+="</tr>";M+="</table>";M+="</div>";M+="</div>";M+="</div>";Shadowbox.open({content:M,title:"Add WebRoot to Project",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:ay},height:364,width:517})};function ay(){cI();aN("ajax_listAddWroot",{domroot:cp.dotdot+"../",theFnameFld:cp.theFnameFld},function(dZ){var dY=jQuery("#scrollbox4");var dU=jQuery.parseJSON(dZ);switch(dU.status){case"none":dY.html("No webroot files found");break;case"err":dY.html("Unable to read webroot");break;case"ok":mem_wroot=[];var dV=dU.msg.split(",");var M=dV.length;var d0="";var dX;for(x=0;x<M;x++){dX=dV[x];dX.charAt(dX.length-1);mem_wroot.push(dX);if(dX.charAt(dX.length-1)=="/"){d0+='<label for="cb'+x+'"><div class="di"><input id="cb'+x+'" class="cx" type="checkbox">'+dX+"</div></label>"}else{d0+='<label for="cb'+x+'"><div class="fi"><input id="cb'+x+'" class="cx" type="checkbox">'+dX+"</div></label>"}}dY.html(d0);break}dY.css("background-color","white");var dW=jQuery("#inWebRoot");dW.prop("disabled",false);dW.toggleClass("forced_none",false);jQuery(".disbtn").prop("disabled",false);ca("ttlbusy")})}db.cbwrToggle=function(dU){var M=jQuery("#cb0").prop("checked");jQuery(".cx").prop("checked",!M)};db.acceptAddWebRoot=function(){jQuery(".disbtn").prop("disabled",true);aj("ttlbusy");var dV="";var M=mem_wroot.length;var dU=false;for(x=0;x<M;x++){if(!jQuery("#cb"+x).prop("checked")){continue}if(dV!=""){dV+="\\n"}dV+="[webroot] "+mem_wroot[x];dU=true}if(!dU){jQuery(".disbtn").prop("disabled",false);ca("ttlbusy");ad("pink","No items checked");return}aN("ajax_appendWebRoot",{webstr:dV,dosort:settings.dosort},function(dY){try{var dW=jQuery.parseJSON(dY)}catch(dX){jQuery(".disbtn").prop("disabled",false);ca("ttlbusy");ad("pink","Unable to read webroot");return}jQuery("#taSource").val(dW.box);Shadowbox.close()})};db.diaCopyWtoP=function(){var M="";M+='<div class="dia-content noselect" spellcheck="false" style="padding-top:10px" onmousedown="MpcCpanel.hideDiaStatusPinkW2P();return true">';M+='<div id="dia1" class="dia-status" style="position:absolute;bottom:24px;right:20px"></div>';M+='<div style="padding-bottom:6px">';M+='<table style="width:474px">';M+='<tr><td colspan="2"><div style="padding-left:0px" class="lab11">&nbsp;WebRoot filelist (click to select)</div></td></tr>';M+='<tr><td colspan="2"><div id="scrollbox3" class="epink forced_none" style="margin:0 0 8px"></div></td></tr>';M+='<tr><td colspan="2"><span style="font-size:11px;padding-left:5px">File to copy</span></td></tr>';M+='<tr><td colspan="2"><div id="selectedA" style="width:462px;background-color:transparent">&nbsp;</div></td></tr>';M+='<tr><td colspan="2"><div style="height:10px"></div></td></tr>';M+="<tr>";M+='<td colspan="2">';M+='<table style="width:474px">';M+="<tr>";M+='<td><div class="lab11">Project Folder destination</div></td>';M+="<td></td>";M+='<td><div class="lab11">Subdir/Filename destination (subdir is optional)</div></td>';M+="</tr>";M+="<tr>";M+='<td style="text-align:left;width:155px"><input id="txGrabCP1" class="roundpad2024 gtxt inp12 epink txPF forced_none disbtn" type="text" value="'+memProjectF+'" ';M+='onkeyup="MpcCpanel.forceWord(this);MpcCpanel.clrTplateStatus(event);return false" style="width:155px" ';M+='title="A-Z, 0-9, hyphens, and underscores only" disabled="disabled" />';M+="</td>";M+='<td style="width:6px"><div style="padding:0 3px 0 2px">/</div></td>';M+='<td style="text-align:left;width:296px"><input id="txGrabCP2" class="roundpad2024 inp12 gtxt epink disbtn forced_none" type="text" value="" ';M+='onkeyup="MpcCpanel.clrTplateStatus(event);return false"';M+='title="" style="width:296px" disabled="disabled" />';M+="</td>";M+="</tr>";M+="</table>";M+="</td>";M+="</tr>";M+="</table>";M+='<div style="position:relative;margin-top:14px">';M+='<div id="ttlbusy" class="busycss" style="position:absolute;top:0;right:5px"></div>';M+='<div id="ynButtons" style="position:absolute;top:0;right:5px;text-align:left;display:none">';M+="Overwrite existing file?&nbsp;&nbsp;";M+='<button class="sexybutton" onclick="MpcCpanel.submitW2Pforce();return false;"';M+='id="bnYes"><span><span><span class="accept">Yes</span></span></span>';M+="</button>&nbsp;";M+='<button class="sexybutton" onclick="MpcCpanel.noW2P();return false;"';M+='id="bnNo"><span><span><span class="cancel">No</span></span></span>';M+="</button>";M+="</div>";M+='<button class="sexybutton disbtn" id="bnCopyW2P" disabled="disabled" onclick="MpcCpanel.submitW2P(\'copy\');return false;"';M+='title="Copy selected file">';M+='<span><span><span class="copyfile">Copy</span></span></span>';M+="</button>&nbsp;&nbsp;";M+='<button class="sexybutton disbtn" id="bnMoveW2P" disabled="disabled" onclick="MpcCpanel.submitW2P(\'move\');return false;"';M+='title="Copy selected file">';M+='<span><span><span class="movefile">Move</span></span></span>';M+="</button>";M+="</div>";M+="</div>";M+="</div>";Shadowbox.open({content:M,title:'Copy|Move <span class="ttlgold">Webroot</span> to <span class="ttlgold">Project folder</span>',player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:dR},height:402,width:517})};function dR(){cI();aN("ajax_listWroot",{domroot:cp.dotdot+"../"},function(dX){var dW=jQuery("#scrollbox3");var dU=jQuery.parseJSON(dX);switch(dU.status){case"none":dW.html("No webroot files found");break;case"err":dW.html("Unable to read webroot");break;case"ok":var dV=dU.msg.split("/");var M=dV.length;var dY="";for(x=0;x<M;x++){dY+='<div id="z'+x+'" onclick="MpcCpanel.putSrcW2P('+x+')">'+dV[x]+"</div>"}dW.html(dY);break}dh(false);ca("ttlbusy")})}db.putSrcW2P=function(M){if(!jQuery("#scrollbox3").hasClass("forced_none")){jQuery("#selectedA").html(jQuery("#z"+M).html());jQuery("#txGrabCP2").val(jQuery("#z"+M).html())}};db.submitW2P=function(dU){mem_copyfile=dU;var M;var dV=jQuery("#selectedA").html();if(dV=="&nbsp;"){jQuery("#scrollbox3").css("background-color","pink");a("dia1","pink","File to copy required");return false}M=jQuery("#txGrabCP1");pjFolder=M.val();if(pjFolder==""){M.css("background-color","pink");a("dia1","pink","Project folder required");return false}M=jQuery("#txGrabCP2");dstFname=M.val();if(dstFname==""){M.css("background-color","pink");a("dia1","pink","Filename destination required");return false}if(dstFname.charAt(dstFname.length-1)=="/"){M.css("background-color","pink");a("dia1","pink","Destination cannot be a folder");return false}if(dstFname.charAt(0)=="/"){M.css("background-color","pink");a("dia1","pink","Destination cannot begin with a slash");return false}dh(true);aj("ttlbusy");aN("ajax_copyFromTo",{cmd:mem_copyfile,from:dV,to:pjFolder+"/"+dstFname,from_dot:cp.dotdot+"../",to_dot:"../",force_copy:false},function(dW){switch(dW){case"ok":if(mem_copyfile=="move"){dR()}cq(pjFolder,false);dh(false);ca("ttlbusy");a("dia1","lightgreen",cz(mem_copyfile)+" successful");break;case"exists":ca("ttlbusy");jQuery("#ynButtons").css("display","block");break;case"dir2file":ca("ttlbusy");a("dia1","pink","Folder exists as a file");break;default:ca("ttlbusy");a("dia1","pink","Unable to write");break}})};db.submitW2Pforce=function(){jQuery("#ynButtons").css("display","none");aj("ttlbusy");var dV=jQuery("#selectedA").html();var dU=jQuery("#txGrabCP1").val();var M=jQuery("#txGrabCP2").val();aN("ajax_copyFromTo",{cmd:mem_copyfile,from:dV,to:dU+"/"+M,from_dot:cp.dotdot+"../",to_dot:"../",force_copy:true},function(dW){switch(dW){case"ok":if(mem_copyfile=="move"){dR()}cq(dU,false);dh(false);ca("ttlbusy");a("dia1","lightgreen",cz(mem_copyfile)+" successful");break;default:ca("ttlbusy");a("dia1","pink","Unable to write");break}})};db.noW2P=function(){jQuery("#ynButtons").css("display","none");dh(false)};function dh(M){jQuery(".epink").toggleClass("forced_none",M);jQuery(".disbtn").prop("disabled",M)}db.hideDiaStatusPinkW2P=function(){if(!jQuery("#bnCopyW2P").prop("disabled")){db.hideDiaStatusPink()}};db.diaCopyPtoW=function(){mem_srcFname="";var M="";M+='<div class="dia-content noselect" spellcheck="false" style="padding-top:10px" onmousedown="MpcCpanel.hideDiaStatusPinkP2W();return true">';M+='<div id="dia1" class="dia-status" style="position:absolute;bottom:24px;right:20px"></div>';M+='<div style="padding-bottom:6px">';M+='<table  style="width:474px">';M+='<tr><td colspan="2"><div style="padding-left:0px" class="lab11">&nbsp;Project files and folders (click to select)</div></td></tr>';M+="<tr>";M+='<td colspan="2">';M+='<div class="forced_none" style="overflow:auto;height:308px;width:464px;border:1px solid '+theme.inpBord+'">';M+='<div id="agif">';M+='<table id="loading">';M+="<tr>";M+='<td style="text-align:left"><div id="boxbusy" class="busycss"></div></td>';M+='<td style="text-align:left">Loading...</td>';M+="</tr>";M+="</table>";M+="</div>";M+='<ul id="browser" class="filetree treeview-black"></ul>';M+="</div>";M+="</td>";M+="<tr>";M+='<tr><td colspan="2"><div style="height:8px"></div></td></tr>';M+='<tr><td colspan="2"><span style="font-size:11px;padding-left:5px">Project file or folder to copy</span></td></tr>';M+='<tr><td colspan="2"><div id="selectedA" style="width:462px;background-color:transparent">&nbsp;</div></td></tr>';M+='<tr><td colspan="2"><div style="height:10px"></div></td></tr>';M+="<tr>";M+='<td style="text-align:left"><div class="lab11">Webroot destination</div></td>';M+='<td style="text-align:right"><span onclick="MpcCpanel.shiftFolderId(\'txGrabCP2\');return false;" class="lab11"><a href="#">REMOVE LEADING FOLDER</a></span>&nbsp;</td>';M+="</tr>";M+="<tr>";M+='<td colspan="2" style="text-align:left;width:469px"><input id="txGrabCP2" class="roundpad2024 inp12 gtxt epink disbtn forced_none" type="text" value="" ';M+='onkeyup="MpcCpanel.clrTplateStatus(event);return false"';M+='title="" style="width:469px" disabled="disabled" />';M+="</td>";M+="</tr>";M+="</table>";M+='<div style="position:relative;margin-top:14px">';M+='<div id="ttlbusy" class="" style="position:absolute;top:0;right:5px"></div>';M+='<div id="ynButtons" style="position:absolute;top:0;right:5px;text-align:left;display:none">';M+="Overwrite existing?&nbsp;&nbsp;";M+='<button class="sexybutton" onclick="MpcCpanel.submitP2Wforce();return false;"';M+='id="bnYes"><span><span><span class="accept">Yes</span></span></span>';M+="</button>&nbsp;";M+='<button class="sexybutton" onclick="MpcCpanel.noP2W();return false;"';M+='id="bnNo"><span><span><span class="cancel">No</span></span></span>';M+="</button>";M+="</div>";M+='<button class="sexybutton disbtn" id="bnCopyP2W" disabled="disabled" onclick="MpcCpanel.submitP2W(\'copy\');return false;"';M+='title="Copy selected item">';M+='<span><span><span class="copyfile">Copy</span></span></span>';M+="</button>&nbsp;&nbsp;";M+='<button class="sexybutton disbtn" id="bnMoveP2W" disabled="disabled" onclick="MpcCpanel.submitP2W(\'move\');return false;"';M+='title="Move selected item">';M+='<span><span><span class="movefile">Move</span></span></span>';M+="</button>";M+="</div>";M+="</div>";M+="</div>";Shadowbox.open({content:M,title:'Copy|Move <span class="ttlgold">Project folder</span> to <span class="ttlgold">Webroot</span>',player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:b8},height:502,width:518})};function b8(){cI();b("copyP2W");bs(false);ca("ttlbusy");return}function I(dU){mem_srcFname=dU;jQuery("#txGrabCP2").val(dU);if(dU.charAt(dU.length-1)=="/"){var dW=dU.search(/[^\/]+\/$/);var M=dU.substr(0,dW);var dV=dU.substr(dW);dU=M+'<span style="color:gold">'+dV+"</span>"}jQuery("#selectedA").html(dU);return false}db.shiftFolderId=function(dU){var M=jQuery("#"+dU);M.val(dQ(M.val()))};function dQ(M){if(M==""){return""}var dU=M.indexOf("/");if(dU==-1){return M}dU++;if(dU<(M.length-1)){return M.substr(dU)}return M}db.submitP2W=function(dV){mem_copyfile=dV;var dU;if(mem_srcFname==""){jQuery("#browser").css("background-color","pink");a("dia1","pink","File or folder required");return false}dU=jQuery("#txGrabCP2");var M=dU.val();if(M==""){dU.css("background-color","pink");a("dia1","pink","Webroot destination required");return false}if(M.charAt(0)=="/"){dU.css("background-color","pink");a("dia1","pink","Destination cannot begin with a slash");return false}if((mem_srcFname.charAt(mem_srcFname.length-1)=="/")&&(M.charAt(M.length-1)!="/")){dU.css("background-color","pink");a("dia1","pink","Cannot "+dV+" a folder into a file");return false}bs(true);aj("ttlbusy");aN("ajax_copyFromTo",{cmd:mem_copyfile,from:mem_srcFname,to:M,from_dot:"../",to_dot:cp.dotdot+"../",force_copy:false},function(dW){switch(dW){case"ok":if(mem_copyfile=="move"){b("copyP2W")}bs(false);ca("ttlbusy");a("dia1","lightgreen",cz(mem_copyfile)+" successful");break;case"exists":ca("ttlbusy");jQuery("#ynButtons").css("display","block");break;case"dir2file":ca("ttlbusy");a("dia1","pink","Folder exists as a file");break;default:ca("ttlbusy");a("dia1","pink","Unable to write");break}})};function cz(M){return M.charAt(0).toUpperCase()+M.slice(1)}db.submitP2Wforce=function(){jQuery("#ynButtons").css("display","none");aj("ttlbusy");var dU=jQuery("#txGrabCP1").val();var M=jQuery("#txGrabCP2").val();aN("ajax_copyFromTo",{cmd:mem_copyfile,from:mem_srcFname,to:M,from_dot:"../",to_dot:cp.dotdot+"../",force_copy:true},function(dV){switch(dV){case"ok":if(mem_copyfile=="move"){b("copyP2W")}bs(false);ca("ttlbusy");a("dia1","lightgreen",cz(mem_copyfile)+" successful");break;default:ca("ttlbusy");a("dia1","pink","Unable to write");break}})};db.noP2W=function(){jQuery("#ynButtons").css("display","none");bs(false)};function bs(M){jQuery(".epink").toggleClass("forced_none",M);jQuery(".disbtn").prop("disabled",M)}db.hideDiaStatusPinkP2W=function(){if(!jQuery("#bnCopyP2W").prop("disabled")){db.hideDiaStatusPink();jQuery("#browser").css("background-color","transparent")}};db.diaCopyPtoP=function(){mem_srcFname="";var M="";M+='<div class="dia-content noselect" spellcheck="false" style="padding-top:10px" onmousedown="MpcCpanel.hideDiaStatusPinkP2P();return true">';M+='<div id="dia1" class="dia-status" style="position:absolute;bottom:24px;right:20px"></div>';M+='<div style="padding-bottom:6px">';M+='<table style="width:474px">';M+='<tr><td colspan="2"><div style="padding-left:0px" class="lab11">&nbsp;Project files and folders (click to select)</div></td></tr>';M+="<tr>";M+='<td colspan="2">';M+='<div class="forced_none" style="overflow:auto;height:308px;width:464px;border:1px solid '+theme.inpBord+'">';M+='<div id="agif">';M+='<table id="loading">';M+="<tr>";M+='<td style="text-align:left"><div id="boxbusy" class="busycss"></div></td>';M+='<td style="text-align:left">Loading...</td>';M+="</tr>";M+="</table>";M+="</div>";M+='<ul id="browser" class="filetree treeview-black"></ul>';M+="</div>";M+="</td>";M+="<tr>";M+='<tr><td colspan="2"><div style="height:8px"></div></td></tr>';M+="<tr>";M+='<td colspan="2">';M+='<table style="width:474px">';M+="<tr>";M+='<td><div class="lab11">Source Project Folder</div></td>';M+="<td></td>";M+='<td><div class="lab11">Source file or folder</div></td>';M+="</tr>";M+='<td><div id="selectedJ" style="width:149px;color:gold">&nbsp;</div></td>';M+='<td style="width:6px"><div style="padding:0 3px 0 2px">/</div></td>';M+='<td><div id="selectedA" style="width:290px">&nbsp;</div></td>';M+='<tr><td colspan="3"><div style="height:10px">&nbsp;</div></td></tr>';M+="<tr>";M+='<td><div class="lab11">Destination Project Folder</div></td>';M+="<td></td>";M+='<td><div class="lab11">Destination Subdir/Filename (subdir is optional)</div></td>';M+="</tr>";M+="<tr>";M+='<td style="text-align:left;width:155px"><input id="txGrabCP1" class="roundpad2024 gtxt inp12 epink txPF forced_none disbtn" type="text" value="'+memProjectF+'" ';M+='onkeyup="MpcCpanel.forceWord(this);MpcCpanel.clrTplateStatus(event);return false" style="width:155px" ';M+='title="A-Z, 0-9, hyphens, and underscores only" disabled="disabled" />';M+="</td>";M+='<td style="width:6px"><div style="padding:0 3px 0 2px">/</div></td>';M+='<td style="text-align:left;width:296px"><input id="txGrabCP2" class="roundpad2024 inp12 gtxt epink disbtn forced_none" type="text" value="" ';M+='onkeyup="MpcCpanel.clrTplateStatus(event);return false"';M+='title="" style="width:296px" disabled="disabled" />';M+="</td>";M+="</tr>";M+="</table>";M+="</td>";M+="</tr>";M+="</table>";M+='<div style="position:relative;margin-top:14px">';M+='<div id="ttlbusy" class="" style="position:absolute;top:0;right:5px"></div>';M+='<div id="ynButtons" style="position:absolute;top:0;right:5px;text-align:left;display:none">';M+="Overwrite existing?&nbsp;&nbsp;";M+='<button class="sexybutton" onclick="MpcCpanel.submitP2Pforce();return false;"';M+='id="bnYes"><span><span><span class="accept">Yes</span></span></span>';M+="</button>&nbsp;";M+='<button class="sexybutton" onclick="MpcCpanel.noP2P();return false;"';M+='id="bnNo"><span><span><span class="cancel">No</span></span></span>';M+="</button>";M+="</div>";M+='<button class="sexybutton disbtn" id="bnCopyP2P" disabled="disabled" onclick="MpcCpanel.submitP2P(\'copy\');return false;"';M+='title="Copy selected item">';M+='<span><span><span class="copyfile">Copy</span></span></span>';M+="</button>&nbsp;&nbsp;";M+='<button class="sexybutton disbtn" id="bnMoveP2P" disabled="disabled" onclick="MpcCpanel.submitP2P(\'move\');return false;"';M+='title="Move selected item">';M+='<span><span><span class="movefile">Move</span></span></span>';M+="</button>";M+="</div>";M+="</div>";M+="</div>";Shadowbox.open({content:M,title:'Copy|Move <span class="ttlgold">Project folder</span> to <span class="ttlgold">Project folder</span>',player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:cb},height:507,width:518})};function cb(){cI();b("copyP2P");bw(false);ca("ttlbusy");return}function P(dU){mem_srcFname=dU;jQuery("#selectedJ").html("&nbsp;");var dW=dU.indexOf("/");if(dW!=-1){jQuery("#selectedJ").html(dU.substr(0,dW));dU=dU.substr(dW+1)}jQuery("#txGrabCP2").val(dU);if(dU.charAt(dU.length-1)=="/"){var dW=dU.search(/[^\/]+\/$/);var M=dU.substr(0,dW);var dV=dU.substr(dW);dU=M+'<span style="color:gold">'+dV+"</span>"}jQuery("#selectedA").html((dU=="")?"&nbsp;":dU);return false}db.submitP2P=function(dU){mem_copyfile=dU;var M;if(mem_srcFname==""){jQuery("#browser").css("background-color","pink");a("dia1","pink","File or folder required");return false}M=jQuery("#selectedA");if(M.html()=="&nbsp;"){jQuery("#browser").css("background-color","pink");a("dia1","pink","Sub file or folder required");return false}M=jQuery("#txGrabCP1");pjFolder=M.val();if(pjFolder==""){M.css("background-color","pink");a("dia1","pink","Destination Project Folder required");return false}M=jQuery("#txGrabCP2");dstFname=M.val();if(dstFname==""){M.css("background-color","pink");a("dia1","pink","Destination required");return false}if(dstFname.charAt(0)=="/"){M.css("background-color","pink");a("dia1","pink","Destination cannot begin with a slash");return false}if((mem_srcFname.charAt(mem_srcFname.length-1)=="/")&&(dstFname.charAt(dstFname.length-1)!="/")){M.css("background-color","pink");a("dia1","pink","Cannot "+dU+" a folder into a file");return false}bw(true);aj("ttlbusy");dstFname=pjFolder+"/"+dstFname;aN("ajax_copyFromTo",{cmd:mem_copyfile,from:mem_srcFname,to:dstFname,from_dot:"../",to_dot:"../",force_copy:false},function(dV){switch(dV){case"ok":b("copyP2P");cq(pjFolder,false);bw(false);ca("ttlbusy");a("dia1","lightgreen",cz(mem_copyfile)+" successful");break;case"exists":ca("ttlbusy");jQuery("#ynButtons").css("display","block");break;case"dir2file":ca("ttlbusy");a("dia1","pink","Folder exists as a file");break;default:ca("ttlbusy");a("dia1","pink","Unable to write");break}})};function cz(M){return M.charAt(0).toUpperCase()+M.slice(1)}db.submitP2Pforce=function(){jQuery("#ynButtons").css("display","none");aj("ttlbusy");var dU=jQuery("#txGrabCP1").val();var M=jQuery("#txGrabCP2").val();aN("ajax_copyFromTo",{cmd:mem_copyfile,from:mem_srcFname,to:M,from_dot:"../",to_dot:cp.dotdot+"../",force_copy:true},function(dV){switch(dV){case"ok":if(mem_copyfile=="move"){b("copyP2P")}cq(dU,false);bw(false);ca("ttlbusy");a("dia1","lightgreen",cz(mem_copyfile)+" successful");break;default:ca("ttlbusy");a("dia1","pink","Unable to write");break}})};db.noP2P=function(){jQuery("#ynButtons").css("display","none");bw(false)};function bw(M){jQuery(".epink").toggleClass("forced_none",M);jQuery(".disbtn").prop("disabled",M)}db.hideDiaStatusPinkP2P=function(){if(!jQuery("#bnCopyP2P").prop("disabled")){db.hideDiaStatusPink();jQuery("#browser").css("background-color","transparent")}};db.diaAddGroup=function(){iPath=1;iCmp=1;var d1,d2;last_silo_path=0;var dU="";var d0="";var dW='disabled="disabled"';var M='style="color:'+theme.sbdisColor+'";';var dZ=new Array();var dV=new Array();ar_cust=[];if(c4){dU=dW;d0="color:"+theme.sbdisColor}for(d1=1;d1<6;d1++){ar_cust[d1-1]=(jQuery("#txPath"+d1).val()=="")?"path"+d1:jQuery("#txPath"+d1).val();dZ[d1-1]=dW;dV[d1-1]=M;if(c4){continue}d2=jQuery("#taPath"+d1).val().trim();if(d2==""){continue}if(d2.substr(-2)!="//"){continue}last_silo_path=d1;dZ[d1-1]="";dV[d1-1]=""}var dX="&p1="+jQuery("#txPath1").val()+"&p2="+jQuery("#txPath2").val()+"&p3="+jQuery("#txPath3").val()+"&p4="+jQuery("#txPath4").val()+"&p5="+jQuery("#txPath5").val();var dY='<div class="dia-content noselect" style="text-align:left;white-space:nowrap;" >';dY+="<table>";dY+="<tr>";dY+='<td colspan="5">';dY+='<div style="overflow:auto;height:300px;width:480px;background-color:'+theme.sbload+";border:1px solid "+theme.inpBord+'">';dY+='<div id="agif">';dY+='<table id="loading">';dY+="<tr>";dY+='<td style="text-align:left"><div id="ttlbusy" class="busycss"></div></td>';dY+='<td style="text-align:left">Loading...</td>';dY+="</tr>";dY+="</table>";dY+="</div>";dY+='<ul id="browser" class="filetree treeview-black"></ul>';dY+="</div>";dY+="</td>";dY+='<td style="vertical-align:bottom;width:100px">';dY+="<table>";dY+='<tr><td><div style="visibility:hidden" class="tdadd sb-dis af-path" onclick="MpcCpanel.pathSelect(this);return false;" id="a1path0">Url</div></td></tr>';dY+='<tr><td><div style="height:12px"></div></td></tr>';dY+='<tr><td><div class="tdadd sb-dis af-path" onclick="MpcCpanel.pathSelect(this);return false;" id="a1path1">'+ar_cust[0]+"</div></td></tr>";dY+='<tr><td><div class="tdadd sb-dis af-path" onclick="MpcCpanel.pathSelect(this);return false;" id="a1path2">'+ar_cust[1]+"</div></td></tr>";dY+='<tr><td><div class="tdadd sb-dis af-path" onclick="MpcCpanel.pathSelect(this);return false;" id="a1path3">'+ar_cust[2]+"</div></td></tr>";dY+='<tr><td><div class="tdadd sb-dis af-path" onclick="MpcCpanel.pathSelect(this);return false;" id="a1path4">'+ar_cust[3]+"</div></td></tr>";dY+='<tr><td><div class="tdadd sb-dis af-path" onclick="MpcCpanel.pathSelect(this);return false;" id="a1path5">'+ar_cust[4]+"</div></td></tr>";dY+='<tr><td><div style="height:12px"></div></td></tr>';dY+='<tr><td><div class="tdadd sb-dis af-cmp" onclick="MpcCpanel.cmpSelect(this);return false;" id="a1cmp1">Equal</div></td></tr>';dY+='<tr><td><div class="tdadd sb-dis af-cmp" onclick="MpcCpanel.cmpSelect(this);return false;" id="a1cmp2">Not Equal</div></td></tr>';dY+='<tr><td><div class="tdadd sb-dis af-cmp" onclick="MpcCpanel.cmpSelect(this);return false;" id="a1cmp3">Contains</div></td></tr>';dY+='<tr><td><div style="visibility:hidden" class="tdadd sb-dis af-cmp" onclick="MpcCpanel.cmpSelect(this);return false;" id="a1cmp4">Regex</div></td></tr>';dY+="</table>";dY+="</td>";dY+="</tr>";dY+="<tr>";dY+='<td colspan="6">';dY+='<div style="height:10px;position:relative">';dY+='<div class="dia-status" style="position:absolute;top:4px;left:200px;"></div>';dY+="</div>";dY+="</td>";dY+="</tr>";dY+="<tr>";dY+='<td colspan="6"><span style="font-size:11px;padding-left:5px">Selected file</span></td>';dY+="</tr>";dY+="<tr>";dY+='<td colspan="6"><div id="selectedA">&nbsp;</div></td>';dY+="</tr>";dY+="<tr>";dY+='<td colspan="6"><div style="height:10px"></div></td>';dY+="</tr>";dY+="<tr>";dY+='<td style="text-align:left;width:220px"><span id="cmplabel" class="formlbl" style="font-size:11px;padding-left:5px">Comparison string for formula</span></td>';dY+='<td style="text-align:right;width:100px"><label class="noselect formlbl" style="font-size:11px" for="cbUseFormula">Use Formula</label></td>';dY+='<td style="width:20px;"><input type="checkbox" onchange="MpcCpanel.cbUseFormulaClickedG();return false;" id="cbUseFormula"></td>';dY+="<td></td>";dY+='<td colspan="2" style="font-weight:normal;font-size:11px">';dY+="</td>";dY+="</tr>";dY+="<tr>";dY+='<td colspan="3"><div id="searchA"><input type="text" class="sb-dis af-search pink" id="txSearchA" disabled="disabled"';dY+=' onkeyup="MpcCpanel.clearPink();return false"></div></td>';dY+='<td style="width:20px"></td>';dY+='<td colspan="2" rowspan="5" style="vertical-align:top">';dY+="</td>";dY+="</tr>";dY+='<tr><td colspan="4"><div style="height:10px"></div></td></tr>';dY+="<tr>";dY+='<td style="text-align:left"><span id="savelabel" style="font-size:11px;padding-left:5px">Destination filename</span></td>';dY+='<td style="text-align:right"><label class="noselect" style="font-size:11px;'+d0+'" for="cbFileExt">File Extension</label></td>';dY+='<td style="text-align:left"><input type="checkbox" '+dU+' onchange="MpcCpanel.cbFileExtClickedG();return false;" id="cbFileExt"></td>';dY+="<td></td>";dY+="</tr>";dY+="<tr>";dY+='<td colspan="3" style="text-align:left"><div id="destA"><input type="text" class="pink" id="txDestA" value="'+memsaveasG+'" onkeyup="MpcCpanel.clearPink();return false"></div></td>';dY+="<td></td>";dY+="</tr>";dY+="<tr>";dY+='<td colspan="3">';dY+='<table style="width:100%">';dY+='<tr><td colspan="3"><div style="height:13px"></div></td>';dY+="<tr>";dY+='<td style="text-align:left">';dY+='<button class="sexybutton" id="acceptG" title="Add entry to Source Files list box." disabled="disabled"';dY+='onclick="MpcCpanel.acceptG();return false;">';dY+='<span><span><span class="add">Add Group</span></span></span></button>';dY+="</td>";dY+='<td style="text-align:center">';dY+='<button class="sexybutton" title="Remove last entry from Source Files list box." onclick="MpcCpanel.popSourcebox();return false;">';dY+='<span><span><span class="delete">Remove Last</span></span></span></button>';dY+="</td>";dY+='<td style="text-align:right">';dY+='<button class="sexybutton" title="Close this dialog." onclick="MpcCpanel.sortBoxS();return false;">';dY+='<span><span><span class="accept">Done</span></span></span></button>';dY+="</td>";dY+="</tr>";dY+="</table>";dY+="</td>";dY+="<td></td>";dY+="</tr>";dY+="</table>";dY+="</div>";Shadowbox.open({content:dY,title:"Add Grouped Files to Project",player:"html",handleOversize:"none",height:534,width:630,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,onMyClose:db.sortBoxS,animate:settings.anim,onFinish:a0}})};function a0(){cI();bl();b("addGroup");return false}function bl(){c8("kFFX30XxX",{caller_ajax:"addGroup"},function(dV){var M;try{M=jQuery.parseJSON(dV)}catch(dU){alert("JSON error: hoverData \n"+dV)}if(M.firsturl==""){jQuery("#cbUseFormula").prop("disabled",true);jQuery(".formlbl").css("color","#a0a0a0")}else{jQuery("#a1path0").attr("title",M.firsturl);for(x=1;x<6;x++){jQuery("#a1path"+x).attr("title",M["path"+x])}}})}db.acceptG=function(){db.clearPink();var d3;var d1;var dW=jQuery("#selectedA").text();var dZ=jQuery("#txSearchA").val().trim();var dV=jQuery("#txDestA").val().trim();var d5=jQuery("#cbFileExt").prop("checked");var d4=jQuery("#cbUseFormula").prop("checked");if(dV==""){ad("pink","Destination filename required");var d2=jQuery("#txDestA");d2.toggleClass("warnn",true);d2.focus();return false}var dU="";if(d4){if(iPath==-1){ad("pink","Url or Path not selected");jQuery(".af-path").toggleClass("warnn",true);jQuery("#txSearchA").focus();return false}if(iCmp==-1){ad("pink","Comparison not selected");jQuery(".af-cmp").toggleClass("warnn",true);jQuery("#txSearchA").focus();return false}if((dZ=="")&&(iCmp==4)){ad("pink","Matching Pattern /regex/ not entered");jQuery(".af-search").toggleClass("warnn",true);jQuery("#txSearchA").focus();return false}if(dZ==""){ad("pink","Comparison string not entered");jQuery(".af-search").toggleClass("warnn",true);jQuery("#txSearchA").focus();return false}var dY="x=!~";var d0=dY.charAt(iCmp);var M=jQuery("#a1path"+iPath).text();dU=":"+M+d0+dZ}str="[group"+dU+"] "+dW;if(d5){str+=" >> "+dV}else{if(dW!=dV){str+=" > "+dV}}var dX=jQuery("#taSource").val();dX=dX.trim();dX=dX.replace(/\s*\n\s*/g,"\n");var d6=dX.split("\n");if(d6.indexOf(str)>=0){ad("pink","Already added to listbox");return false}jQuery("#acceptG").prop("disabled",true);jQuery("#selectedA").html("&nbsp;");if(jQuery("#cbFileExt").prop("checked")){memextenG=dV}else{memsaveasG=dV}c6();if(dX.length==0){jQuery("#taSource").val(dX+str+"\n")}else{jQuery("#taSource").val(dX+"\n"+str+"\n")}db.saveSnap("taSource");return false};db.cbUseFormulaClickedG=function(){db.hideDiaStatus();jQuery(".af-path").toggleClass("warnn",false);jQuery(".af-cmp").toggleClass("warnn",false);jQuery(".af-search").toggleClass("warnn",false);var dW=jQuery("#cbUseFormula").prop("checked");jQuery("#txSearchA").toggleClass("sb-dis",!dW);jQuery("#txSearchA").prop("disabled",!dW);var M,dV,dU;dV=jQuery("#a1path0");dV.toggleClass("sb-dis",!dW);dV.toggleClass("selok",dW);for(M=5;M>0;M--){dV=jQuery("#a1path"+M);if(dV.attr("title")==""){continue}dU=dV;dU.toggleClass("sb-dis",!dW);dU.toggleClass("selok",dW)}dV=jQuery(".af-cmp");dV.toggleClass("sb-dis",!dW);dV.toggleClass("selok",dW);if(!dW){jQuery(".tdadd").toggleClass("fsel",false);jQuery("#txSearchA").val("");iPath=-1;iCmp=-1}else{dU.toggleClass("fsel",true);jQuery("#a1cmp1").toggleClass("fsel",true);iPath=1;iCmp=1}cX()};function c6(){var M=(jQuery("#cbFileExt").prop("checked"))?memextenG:memsaveasG;jQuery("#txDestA").val(M)}function cX(){if(jQuery("#a1cmp4").hasClass("fsel")){document.getElementById("cmplabel").innerHTML="Matching Pattern /regex/"}else{document.getElementById("cmplabel").innerHTML="Comparison string for formula"}}db.cbFileExtClickedG=function(){db.clearPink();var M=jQuery("#txDestA").val().trim();if(jQuery("#cbFileExt").prop("checked")){document.getElementById("savelabel").innerHTML="Destination extension (.html etc)";memsaveasG=M}else{document.getElementById("savelabel").innerHTML="Destination filename";memextenG=M}c6()};function bZ(M){db.hideDiaStatus();jQuery("#acceptG").prop("disabled",false);jQuery("#selectedA").text(M);return false}db.clearPink=function(){db.hideDiaStatus();jQuery(".pink").toggleClass("warnn",false)};db.diaDeleteFile=function(){var M='<div class="dia-content" style="text-align:left;white-space:nowrap" >';M+="<table>";M+="<tr>";M+="<td>";M+='<div style="overflow:auto;height:300px;width:630px;background-color:'+theme.sbload+";border:1px solid "+theme.inpBord+'">';M+='<div id="agif">';M+='<table id="loading">';M+="<tr>";M+='<td style="text-align:left"><div id="ttlbusy" class="busycss"></div></td>';M+='<td style="text-align:left">Loading...</td>';M+="</tr>";M+="</table>";M+="</div>";M+='<ul id="browser" class="filetree treeview-black"></ul>';M+="</div>";M+="</td>";M+="</tr>";M+='<tr><td><div style="height:10px"></div></td></tr>';M+="<tr>";M+='<td style="vertical-align:bottom"><span style="font-size:11px;padding-left:5px">Selected file or folder</span></td>';M+="</tr>";M+="<tr>";M+='<td><div id="divDel">&nbsp;</div></td>';M+="</tr>";M+="<tr>";M+='<td style="text-align:left">';M+='<div style="position:relative;margin-top:13px">';M+='<div id="viewdelete" style="position:absolute;top:0;left:0;text-align:left;width:100%">';M+='<button class="sexybutton" id="acceptD" title="Delete file or folder from Control Panel." disabled="disabled"';M+="onclick=\"MpcCpanel.acceptD('req');return false;\">";M+='<span><span><span class="redtrash">Delete...</span></span></span></button>&nbsp;&nbsp;&nbsp;';M+='<button class="sexybutton" title="Close this dialog." onclick="Shadowbox.close();return false;">';M+='<span><span><span class="accept">Done</span></span></span></button>';M+="</div>";M+='<div id="confirmfile" style="position:absolute;top:0;left:0;text-align:left;width:100%;visibility:hidden">';M+="&nbsp;Delete this file?&nbsp;&nbsp;&nbsp;";M+='<button class="sexybutton" onclick="MpcCpanel.acceptD(\'yes\');return false;">';M+='<span><span><span class="accept">Yes</span></span></span></button>&nbsp;';M+='<button class="sexybutton" onclick="MpcCpanel.acceptD(\'no\');return false;">';M+='<span><span><span class="cancel">No</span></span></span></button>';M+="</div>";M+='<div id="confirmfolder" style="position:absolute;top:0;left:0;text-align:left;width:100%;visibility:hidden">';M+="&nbsp;Delete this folder and its entire contents?&nbsp;&nbsp;&nbsp;";M+='<button class="sexybutton" onclick="MpcCpanel.acceptD(\'yes\');return false;">';M+='<span><span><span class="accept">Yes</span></span></span></button>&nbsp;';M+='<button class="sexybutton" onclick="MpcCpanel.acceptD(\'no\');return false;">';M+='<span><span><span class="cancel">No</span></span></span></button>';M+="</div>";M+='<div id="waiting" class="" style="position:absolute;top:0px;left:0px"></div>';M+="</div>";M+="</td>";M+="</tr>";M+="</table>";M+="</div>";Shadowbox.open({content:M,title:"Delete Mpc files and folders",player:"html",handleOversize:"none",height:430,width:671,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:q}})};function q(){cI();b("delPage");return false}db.acceptD=function(M){if(!settings.conf_del){M="yes"}if(M=="req"){jQuery("#viewdelete").css("visibility","hidden");if(delName.charAt(delName.length-1)=="/"){jQuery("#confirmfolder").css("visibility","visible")}else{jQuery("#confirmfile").css("visibility","visible")}return}if(M=="yes"){jQuery("#confirmfile").css("visibility","hidden");jQuery("#confirmfolder").css("visibility","hidden");aj("waiting");c8("a21F21X2d",{fn_ajax:delName},function(dU){ca("waiting");if(dU!="ok"){Shadowbox.close();var dV="Unable to delete. Please check server permissions.<br><b>"+delName+"</b>";cu("ERR:Filesystem Error",dV,"center",133,440);return false}jQuery("#divDel").html("&nbsp;");jQuery("#acceptD").prop("disabled",true);jQuery("#browser").html("");jQuery("#agif").css("display","block");b("delPage");jQuery("#confirmfile").css("visibility","hidden");jQuery("#confirmfolder").css("visibility","hidden");jQuery("#viewdelete").css("visibility","visible")})}else{jQuery("#confirmfile").css("visibility","hidden");jQuery("#confirmfolder").css("visibility","hidden");jQuery("#viewdelete").css("visibility","visible")}};function b5(dV){delName=dV;jQuery("#acceptD").prop("disabled",false);jQuery("#confirmfile").css("visibility","hidden");jQuery("#confirmfolder").css("visibility","hidden");jQuery("#viewdelete").css("visibility","visible");var dU=jQuery("#divDel");if(dV.charAt(dV.length-1)=="/"){var dX=dV.search(/[^\/]+\/$/);var M=dV.substr(0,dX);var dW=dV.substr(dX);dV=M+'<span style="color:gold">'+dW+"</span>"}dU.html(dV);return false}db.diaEnablePhp=function(){var M="";M+='<div class="dia-content noselect" onmousedown="MpcCpanel.hideResult();return true">';M+='<div class="dia-status" style="position:absolute;top:2px;left:20px"></div>';M+='<div class="pinstripe twrap1" style="position:relative;margin:3px 0 10px;background-color:'+theme.sbload+'">';M+='<div style="position:absolute;top:5px;right:10px">';M+="<table>";M+="<tr>";M+='<td><div class="tdadd_left legend" style="background-color:lightgreen;visibility:hidden">enabled</div><td>';M+='<td><div class="tdadd_right legend" style="background-color:pink;visibility:hidden">disabled</div><td>';M+="</tr>";M+="</table>";M+="</div>";M+='<div style="margin-right:12px">';M+='<div style="margin-bottom:6px">Select file extensions to enable for PHP</div>';M+="<table>";M+="<tr>";M+='<td class="td_html alltd">&nbsp;<input id="cbHtml" type="checkbox" checked></td>';M+='<td class="td_html alltd"><label for="cbHtml">.html&nbsp;</label</td>';M+="<td>&nbsp;&nbsp;&nbsp;</td>";M+='<td class="td_htm alltd">&nbsp;<input id="cbHtm" type="checkbox"></td>';M+='<td class="td_htm alltd"><label for="cbHtm">.htm&nbsp;</label</td>';M+="<td>&nbsp;&nbsp;&nbsp;</td>";M+='<td class="td_hxx alltd">&nbsp;<input id="cbHxx" type="checkbox"></td>';M+='<td class="td_hxx alltd"><input id="txHxx" type="text" >&nbsp;</td>';M+="</tr>";M+="</table>";M+="</div>";M+="</div>";M+='<div style="position:relative;margin-top:15px">';M+='<div id="ttlbusy" class="busycss" style="position:absolute;top:0;right:2px"></div>';M+="<table><tr>";M+='<td style="width:95px">';M+='<button class="sexybutton allbtn" onclick="MpcCpanel.enableAddPhp();return false;" title="Enable Php (writes to .htaccess file">';M+='<span><span><span class="accept">Enable PHP</span></span></span>';M+="</button>";M+="</td>";M+='<td style="width:12px"><div style="width:12px"></div></td>';M+='<td style="width:60px">';M+='<button class="sexybutton allbtn" onclick="MpcCpanel.testAddPhp();return false;" title="Test if Php enabled">';M+='<span><span><span class="lightning">Test</span></span></span>';M+="</button>";M+="</td>";M+='<td style="width:12px"><div style="width:12px"></div></td>';M+='<td style="width:95px">';M+='<button class="sexybutton allbtn" onclick="MpcCpanel.editHtaccess();return false;" title="Edit .htaccess file in domain root">';M+='<span><span><span class="pencil">Edit .htaccess</span></span></span>';M+="</button>";M+="</td>";M+="</tr></table>";M+="</div>";M+="</div>";Shadowbox.open({content:M,title:"Enable PHP in Html files (Apache servers only)",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:dr},height:151,width:517})};function dr(){cI();ca("ttlbusy")}db.hideResult=function(){jQuery(".alltd").css("background-color","transparent");jQuery("#txHxx").css("background-color","white");db.hideDiaStatus();jQuery(".legend").css("visibility","hidden")};db.testAddPhp=function(){var dW=(jQuery("#cbHtml").prop("checked"))?1:0;var M=(jQuery("#cbHtm").prop("checked"))?2:0;var dV=(jQuery("#cbHxx").prop("checked"))?4:0;var dU=jQuery("#txHxx").val();dU=dU.trim();if((dW==0)&&(M==0)&&((dV==0)||(dU==""))){ad("gold","No items selected");return}jQuery(".allbtn").prop("disabled",true);aj("ttlbusy");if(dU!=""){if(dU.charAt(0)!="."){dU="."+dU}}jQuery("#txHxx").val(dU);c8("ajax_testAddPhp",{cb_html:dW,cb_htm:M,cb_hxx:dV,tx_hxx:dU},function(dY){var dX=jQuery.parseJSON(dY);switch(dX.status){case"file_ok":jQuery(".td_html").css("background-color",dX.html);jQuery(".td_htm").css("background-color",dX.htm);jQuery(".td_hxx").css("background-color",dX.hxx);var dZ=(dX.hxx=="transparent")?"white":dX.hxx;jQuery("#txHxx").css("background-color",dZ);jQuery(".legend").css("visibility","visible");break}jQuery(".allbtn").prop("disabled",false);ca("ttlbusy")})};db.enableAddPhp=function(){var dW=(jQuery("#cbHtml").prop("checked"))?1:0;var M=(jQuery("#cbHtm").prop("checked"))?2:0;var dV=(jQuery("#cbHxx").prop("checked"))?4:0;var dU=jQuery("#txHxx").val();dU=dU.trim();jQuery("#txHxx").val(dU);if((dW==0)&&(M==0)&&((dV==0)||(dU==""))){ad("gold","No items selected");return}jQuery(".allbtn").prop("disabled",true);aj("ttlbusy");if(dU!=""){if(dU.charAt(0)!="."){dU="."+dU}}c8("ajax_enableAddPhp",{cb_html:dW,cb_htm:M,cb_hxx:dV,tx_hxx:dU},function(dX){rj=jQuery.parseJSON(dX);switch(rj.status){case"nophp":ad("pink","Failed to enable PHP via .htaccess file");break;case"file_ok":jQuery(".td_html").css("background-color",rj.html);jQuery(".td_htm").css("background-color",rj.htm);jQuery(".td_hxx").css("background-color",rj.hxx);var dY=(rj.hxx=="transparent")?"white":rj.hxx;jQuery("#txHxx").css("background-color",dY);jQuery(".legend").css("visibility","visible");break}jQuery(".allbtn").prop("disabled",false);ca("ttlbusy")})};db.editHtaccess=function(){jQuery(".allbtn").prop("disabled",true);aj("ttlbusy");treeSelFname=cp.dotdot+".htaccess";bq("editPage","text","1","");setTimeout("MpcCpanel.fixVH()",3000);return false};db.fixVH=function(){jQuery(".allbtn").prop("disabled",false);ca("ttlbusy")};function dl(){bb=500;o=0;dK=0;bPolling=true;db.pollProg()}db.pollProg=function(){if(dd){clearTimeout(dd)}Q()};function Q(){jQuery.ajax({url:cp.auxdir+"/pcent.php",type:"GET",success:function(M){if((M!="")&&(bPolling)){if(M!=0){change=M-o;if(change==0){dK++}else{if(dK!=0){bb*=(dK+1);dK=0}else{if(change>1){if(bb>599){bb-=100}}}}}o=M;ds(M)}if(bPolling){dd=setTimeout(function(){MpcCpanel.pollProg()},bb)}}});return false}function bY(){jQuery.ajax({url:cp.auxdir+"/zcent.php",type:"GET",success:function(M){}});return false}function bd(){pbarObj.style.width="0%"}db.setCancel=function(M){if(M>0){jQuery.ajax({url:cp.auxdir+"/cancel.php",data:{value:M},type:"POST"})}dc=M;return false};function bO(M){pbarObj=document.getElementById("MPCprog").firstChild;lbarObj=document.getElementById("LABprog");passObj=jQuery("#pass");barcolor="0 0";passcolor="#4682b4";progStopNum=99;progStopMsg="";switch(M){case"blue":progStopMsg="Finalizing..";break;case"xml":break;case"svproj":dz("Compressing: ",true);progStopMsg="Finalizing..";break;case"build_h1":dz("Blueprinting: ",true);progStopMsg="Finalizing Blueprint..";di("PASS 1 of 2: Blueprint Project");break;case"build_h2":dz("Building: ",true);progStopMsg="Finalizing Build..";di("PASS 2 of 2: Build Pages");break;case"cloud_1":dz("Blueprinting: ",true);progStopMsg="Finalizing Blueprint..";di("PASS 1 of 3: Blueprint Project");break;case"cloud_2":dz("Building: ",true);progStopMsg="Finalizing Build..";di("PASS 2 of 3: Build Pages");break;case"cloud_3":dz("Uploading: ",true);progStopMsg="Finalizing Upload..";di("PASS 3 of 3: Upload Pages");break;case"build_t1":dz("Blueprinting: ",true);progStopMsg="Finalizing Blueprint..";di("PASS 1 of 3: Blueprint Project");break;case"build_t2":dz("Building: ",true);progStopMsg="Finalizing Articles..";di("PASS 2 of 3: Build Articles");break;case"build_t3":dz("Compressing: ",true);progStopMsg="Finalizing..";di("PASS 3 of 3: Compress Articles");break;case"unbuild_1":barcolor="0 -12px";passcolor="#c34c5b";dz("Blueprinting: ",true);progStopMsg="Finalizing Blueprint..";di("PASS 1 of 2: Blueprint Project");break;case"unbuild_2":barcolor="0 -12px";passcolor="#c34c5b";dz("Removing: ",true);di("PASS 2 of 2: UnBuild Project");break;case"unbuild_v1":barcolor="0 -12px";passcolor="#c34c5b";dz("Removing: ",true);di("PASS 1 of 1: UnBuild Vpages");break}pbarObj.style.backgroundPosition=barcolor;passObj.css("color",passcolor)}function dz(dU,M){mProgLab=dU;bProgLabPc=M;lbarObj.innerHTML=(bProgLabPc)?dU+"0%":dU+"&nbsp;"}function di(M){passObj.html(M)}function ds(M){if(M>=progStopNum){bPolling=false;pbarObj.style.width=progStopNum+"%";lbarObj.innerHTML=progStopMsg+"&nbsp;";return}pbarObj.style.width=M+"%";lbarObj.innerHTML=(bProgLabPc)?mProgLab+M+"%":mProgLab+"&nbsp;"}db.mainBlueprint=function(dX,dU){mem_blue_caller=dU;if(dX==0){t();return false}db.setCancel(0);bPermu=false;if(settings.dowp==0){iBuildHtml=1}var M="";var dV="";var dW="";if((settings.dowp==1)&&(c4)){iBuildHtml=0;M="sb-dis"}if(iBuildHtml==1){M="fsel"}else{if(iPostSelect==1){dW="fsel"}else{dV="fsel"}}var dY="";dY+='<div spellcheck="false" class="dia-content noselect" style="position:relative;text-align:left;white-space:nowrap;padding-top:13px">';dY+='<div id="top-stat" class="dia-status" style="position:absolute;top:12px;left:152px;"></div>';dY+='<div id="init-stat" class="dia-status" style="position:absolute;top:12px;right:283px"></div>';dY+='<div id="ttlbusy" class="busycss" style="position:absolute;top:10px;right:15px"></div>';dY+='<div style="padding-bottom:2px">';dY+='<table style="width:100%">';dY+='<tr style="white-space:nowrap">';dY+='<td style="width:325px;text-align:left"><span id="prompt" style="visibility:hidden">&nbsp;</span></td>';dY+='<td style="text-align:right;white-space:nowrap"><span id="dspace"></span></td>';dY+="</tr>";dY+="</table>";dY+="</div>";dY+='<div class="pinstripe twrap0" style="position:relative;width:635px;margin:10px 0 14px;background-color:'+theme.sbload+'">';dY+='<div id="areaH" style="visibility:hidden">';dY+='<div style="margin-bottom:2px;">';dY+='<table style="width:100%">';dY+='<tr style="white-space:nowrap">';dY+='<td style="width:210px">';if(settings.dowp==0){dY+='<div style="visibility:hidden">'}else{dY+="<div>"}dY+="<table>";dY+="<tr>";dY+='<td style="width:70px"><div class="tdadd_left   selok '+M+' cbtn" style="width:70px;" title="Set blueprint for Html Pages"';dY+="onmouseover=\"MpcCpanel.togOver('idHT');return false;\" onmouseout=\"MpcCpanel.togOut('idHT');return false;\"";dY+='onclick="MpcCpanel.hppClicked(\'0\');return false;" id="idHT">HTML Pages</div></td>';dY+='<td style="width:70px"><div class="tdadd_center selok '+dV+' cbtn" style="width:70px" title="Set blueprint for WP Pages"';dY+="onmouseover=\"MpcCpanel.togOver('idPA');return false;\" onmouseout=\"MpcCpanel.togOut('idPA');return false;\"";dY+='onclick="MpcCpanel.hppClicked(\'1\');return false;" id="idPA">WP Pages</div></td>';dY+='<td style="width:70px"><div class="tdadd_right  selok '+dW+' cbtn" style="width:70px" title="Set blueprint for WP Posts"';dY+="onmouseover=\"MpcCpanel.togOver('idPO');return false;\" onmouseout=\"MpcCpanel.togOut('idPO');return false;\"";dY+='onclick="MpcCpanel.hppClicked(\'2\');return false;" id="idPO">WP Posts</div></td>';dY+="</tr>";dY+="</table>";dY+="</div>";dY+="</td>";dY+="<td></td>";dY+='<td style="text-align:right">';dY+='<select id="bluelimit" onchange="MpcCpanel.limitChange(\'bluelimit\')" style="height:23px;margin:0 0 0 4px;background-color:#c4c4c4" disabled="disabled"';dY+='title="Limit size of Bluerprint for faster testing">';dY+="<option value=0>NO LIMIT</option>";dY+="<option value=10>10 PAGES</option>";dY+="<option value=100>100 PAGES</option>";dY+="<option value=1000>1000 PAGES</option>";dY+="</select>";dY+="</td>";dY+="</tr>";dY+='<tr><td colspan="3"><div style="height:3px"></div></td></tr>';dY+="<tr>";dY+='<td colspan="3" style="text-align:left"><div id="bp_lbl" class="lab11">First Url</div></td>';dY+="</tr>";dY+="<tr>";dY+='<td colspan="3"><input type="text" id="bp_first" disabled="disabled" readonly style="width:624px"  class="roundpad3034 transparent_bang moz21"></td>';dY+="</tr>";dY+="</table>";dY+="</div>";dY+="</div>";dY+="</div>";dY+="<div>";dY+='<div style="text-align:left">';dY+='<div id="MPCprog" style="background-color:'+theme.sbload+'">';dY+="<div></div>";dY+="</div>";dY+="</div>";dY+='<div id="LABprog" style="font-size:11px;line-height:11px;margin-top:1px">&nbsp;';dY+="</div>";dY+='<div style="display:none" id="pass"></div>';dY+='<div style="margin-top:7px">';dY+='<table style="width:100%">';dY+='<tr style="white-space:nowrap">';dY+='<td style="text-align:left">';dY+='<button id="bnBH" style="text-align:left" class="sexybutton" title="Generate and view Blueprint."';dY+='onclick="MpcCpanel.submitBP(\'blue\');return false;" disabled="disabled" >';dY+='<span><span><span class="blueprint">Blueprint Project</span></span></span>';dY+="</button>";dY+="</td>";dY+='<td style="text-align:right">';dY+="&nbsp;&nbsp;&nbsp;";dY+='<button class="sexybutton" onclick="MpcCpanel.stopBlue()" title="Cancel or stop blueprinting"><span><span>';dY+='<span class="cancel">Cancel</span></span></span>';dY+="</button>";dY+="</td>";dY+="</tr>";dY+="</table>";dY+="</div>";dY+="</div>";Shadowbox.open({content:dY,title:"Display Blueprint",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,qmarkTarget:"diaBlue",bodyColor:theme.sbbody,onMyClose:db.stopBlue,animate:settings.anim,onFinish:e},height:226,width:695})};function e(){cI();bO("blue");var M=(settings.force_ssl==1)?"https":cp.ssl;bPermu=true;n("a0A522XX0",{mem_blue_caller:mem_blue_caller,exlist_ajax:settings.exlist,var_first_lines:c9(),proto:M,projectF:memProjectF,jxSv:bC("#taSource")},function(dX){bPermu=false;db.hideDiaStatusPinkSp();if(dc>0){return}var dU;var dY;if(mem_blue_caller=="cf"){dX=mem_blue_r}try{dU=jQuery.parseJSON(dX)}catch(dW){alert("JSON error: preBlue \n"+dX)}if(dU.status=="except"){Shadowbox.close();cu("ERR:"+dU.caption,dU.msg,"center",170,500);return}if(dU.status=="dupes"){Shadowbox.close();db.messageBoxD();return}if(dU.diskspace!="no"){jQuery("#dspace").html("Remaining disk space: "+dU.diskspace)}if(dU.status=="permu"){Shadowbox.close();da(dX);return}MpcCpanel.bProjectEmpty=((dU.urlcount==0)||(dU.srclist==0))?true:false;if(MpcCpanel.bProjectEmpty){a("top-stat","gold","Blueprinting requires at least one Source File and one Path");mem_bp_first_url="";mem_bp_first_title="";ca("ttlbusy");return}else{if(mem_blue_caller=="main"){mem_blue_r=dX}var dZ=jQuery("#prompt");dL=dU.urlcount;var dV=bA(dU.urlcount);dZ.html("Total Urls: "+dV);dZ.css("visibility","visible");mem_bp_first_url=dU.firsturl;mem_bp_first_title=dU.firstpath;aW();ca("ttlbusy")}})}db.return2blueprint=function(M){Shadowbox.close(true);setTimeout(function(){MpcCpanel.mainBlueprint(1,M)},10)};db.stopBlue=function(){db.setCancel(1);Shadowbox.close()};db.hppClicked=function(dU){if(jQuery("#ttlbusy").hasClass("busycss")){return}var M=new Array(false,false,false);M[dU]=true;jQuery("#idHT").toggleClass("fsel",M[0]);jQuery("#idPA").toggleClass("fsel",M[1]);jQuery("#idPO").toggleClass("fsel",M[2]);if(dU==0){iBuildHtml=1}else{iBuildHtml=0;iPostSelect=(dU==2)?1:0}aW()};function aW(){j_bp_first=jQuery("#bp_first");if(iBuildHtml==1){jQuery("#bp_lbl").html("First Url");j_bp_first.val(mem_bp_first_url);j_bp_first.prop("title",mem_bp_first_url);jQuery("#bluelimit").css("visibility","visible");jQuery("#bluelimit").css("background-color","white");jQuery("#bluelimit").prop("disabled",false)}else{jQuery("#bp_lbl").html("First Title");j_bp_first.val(mem_bp_first_title);j_bp_first.prop("title",mem_bp_first_title);jQuery("#bluelimit").css("visibility","hidden")}jQuery("#areaH").css("visibility","visible");if(!db.bProjectEmpty){jQuery("#bnBH").prop("disabled",false)}}db.submitBP=function(dX){if(dX=="blue"){dX=(iBuildHtml==1)?"html":"text"}if(dX.substr(0,3)!="xml"){anim_block=1;jQuery("#bnBH").prop("disabled",true);jQuery("#dspace").css("visibility","hidden");aj("ttlbusy");var M=(settings.sepw==1)?"#cbBrowser":"#cbWindow";jQuery(M).toggleClass("sb-dis",true);var M=(iBuildHtml==1)?"#cbhText":"#cbhHtml";jQuery(M).toggleClass("sb-dis",true);var dW=jQuery("#idHT");var dY=jQuery("#idPA");var dV=jQuery("#idPO");dW.toggleClass("sb-dis",!dW.hasClass("fsel"));dY.toggleClass("sb-dis",!dY.hasClass("fsel"));dV.toggleClass("sb-dis",!dV.hasClass("fsel"))}if(dX=="html"){var dU=jQuery("#bluelimit");dU.prop("disabled",true);dU.css("disabled",true);if(dU.val()==0){dU.css("background-color","transparent")}}dz("Blueprinting: ",true);di("");dp(dX);dl();return false};function dp(dV){var M=(dV=="html")?M=jQuery("#bluelimit").val():0;var dU=(settings.force_ssl==1)?"https":cp.ssl;n("a0ca24XG9",{parm_gentype:dV,bluelimit:M,iBlueTotal:dL,iPostSelect:iPostSelect,proto:dU,projectF:memProjectF,sett_ajax:'{"dia_build_html":'+iBuildHtml+"}"},function(dW){bPolling=false;if(dd){clearTimeout(dd)}if(dc==2){return}if(dW.charAt(0)!="{"){var d2=dW.substr(1,5).toLowerCase();if(d2=="fatal"){var d7=dW.search("{");if(d7!=-1){dW=dW.substr(d7)}}}try{rj=jQuery.parseJSON(dW)}catch(dZ){Shadowbox.close();alert("JSON syntax: genBlueprint \n"+dW)}switch(rj.status){case"cancel":Shadowbox.close();break;case"error":Shadowbox.close();cu("ERR:"+rj.caption,rj.msg,"center",rj.h,rj.w);break;case"prepare":Shadowbox.close();bo("blueprint",rj.msg);break;case"except":Shadowbox.close();cu("ERR:"+rj.caption,rj.msg,"center",170,500);break;case"memory":Shadowbox.close();cl(rj.msg);break;case"view":if(dV.substr(0,3)=="xml"){var d5=(dV.substr(0,4)=="xml_")?1:0;var d6=jQuery("#xmlname").val();d6=d6.trim();var d0=jQuery("#xmlindex").val();d0=d0.trim();var d3=jQuery("#wcnt").val();var d1=jQuery("#xmlUrl").val();var dY=d1+cp.theSubdir;d1=d1.replace(/\./g,"^");dY=dY.replace(/\./g,"^");var dX=bi("xml",3);switch(dX){case 1:aN("aG7525X8F",{memwriteto:mem_writeto,xname:d6,xindex:d0,xmax:d3,domroot:cp.dotdot+"../",dom:d1,domsub:dY,icloud:d5,bname:c5()},function(d8){if(dV.substr(0,4)=="xml_"){MpcCpanel.cloudXmlReturn(dV)}else{MpcCpanel.showBusyXml(false);MpcCpanel.successXml(true)}});break;case 2:aN("a9AE26Xc0",{xname:d6,xindex:d0,xmax:d3,domroot:cp.dotdot+"../",dom:d1,domsub:dY},function(d8){MpcCpanel.showBusyXml(false);MpcCpanel.successXml(true)});break;case 3:if(settings.sepw==0){bluexml=cK.open(cp.auxdir+"/viewerXML.php?TESTING="+cp.testing+"&VER="+cp.ver+"&PERPAGE="+settings.perpage+"&DOM="+dY+"&LINES="+rj.linecount)}else{bluexml=cK.open(cp.auxdir+"/viewerXML.php?TESTING="+cp.testing+"&VER="+cp.ver+"&PERPAGE="+settings.perpage+"&DOM="+dY+"&LINES="+rj.linecount,"bluewindowx","height="+screen.availHeight*0.9+",width="+screen.availWidth*0.95+",scrollbars=yes,resizable=yes")}bluexml.focus();db.showBusyXml(false);break}bd();break}Shadowbox.close();var d4=(dV=="text")?"viewerBT.php":"viewerBH.php";if(settings.sepw==0){bluew=cK.open(cp.auxdir+"/"+d4+"?TESTING="+cp.testing+"&VER="+cp.ver+"&PERPAGE="+settings.perpage+"&XZ="+rj.xz+"&LINES="+rj.linecount+"&SILOD="+rj.silod+"&iInB=1&iPOSTS="+iPostSelect+"&CARET="+cp.emailCaret+"&RN="+Math.random()+"&bpTime="+rj.bpTime)}else{bluew=cK.open(cp.auxdir+"/"+d4+"?TESTING="+cp.testing+"&VER="+cp.ver+"&PERPAGE="+settings.perpage+"&XZ="+rj.xz+"&LINES="+rj.linecount+"&SILOD="+rj.silod+"&iInB=0&iPOSTS="+iPostSelect+"&CARET="+cp.emailCaret+"&RN="+Math.random()+"&bpTime="+rj.bpTime,"bluewindow","height="+screen.availHeight*0.9+",width="+screen.availWidth*0.95+",scrollbars=yes,resizable=yes")}bluew.focus();break;default:break}})}function ac(dU){var M;if(!dU){for(M=1;M<6;M++){jQuery("#taPath"+M).css("background-position","-200px -200px")}for(M=1;M<10;M++){jQuery("#taVar"+M).css("background-position","-200px -200px")}}else{for(M=1;M<6;M++){jQuery("#taPath"+M).css("background-position","center")}for(M=1;M<10;M++){jQuery("#taVar"+M).css("background-position","center")}}}function da(M){rj=jQuery.parseJSON(M);switch(rj.stat){case"timeout":m_tbar="Authentication server";m_msg="Unable to reach Auth server. Please retry";m_btn="Continue";m_a="center";m_h=101;m_w=500;break;case"badkey":m_tbar="License authentication";m_msg="Registered email and key mismatch.<br /><br />";m_msg+="This session now requires a restart and login.";m_btn="Restart Mpc";m_a="center";m_h=135;m_w=500;break;case"nologin":m_tbar="Session error";m_msg="This session now requires a restart and login.";m_btn="Restart Mpc";m_a="center";m_h=101;m_w=500;break;case"multi":m_tbar="Simultaneous use of license";m_msg="Your license has been used to startup another session of Mpc.<br /><br />";m_msg+="Since only one session can be active at a time, the current Mpc process now";m_msg+=" requires a restart and login.<br /><br />";m_msg+="Details of the latest license use:<br />";m_msg+='<div style="font-family:monospace;margin:5px 0 20px 20px">';m_msg+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ip: "+rj.ip+"<br />";m_msg+="&nbsp;&nbsp;&nbsp;Domain: "+rj.domain+"<br />";m_msg+="Timestamp: "+rj.dtime+"</div>";m_btn="Restart Mpc";m_a="left";m_h=242;m_w=500;break}var dU="";dU+='<div class="dia-content" style="text-align:'+m_a+";font-size:14px;color:"+theme.sberrColor+'">';dU+=m_msg;dU+='<div class="centerbtn">';if(m_btn=="Continue"){dU+='<button class="sexybutton" onclick="Shadowbox.close()"><span><span>';dU+='<span class="accept">Continue</span></span></span></button></div>'}else{dU+='<button class="sexybutton" onclick="goLogout()"><span><span>';dU+='<span class="accept">Restart Mpc</span></span></span></button></div>'}dU+="</div>";Shadowbox.open({content:dU,title:m_tbar,player:"html",handleOversize:"none",options:{loadingColor:theme.sberrBgnd,bodyColor:theme.sberrBgnd,animate:settings.anim,displayNav:0,onFinish:cI},height:m_h,width:m_w})}db.mainBuildPages=function(M,dU){if(M==0){t();return false}mem_build_caller=dU;bBuilding=false;db.setCancel(0);bPermu=false;iUnbuild=0;var d1="";if(cp.iPhar==0){iTgz=0;d1="sb-dis"}var dW="";var dZ="";if(iPostSelect==1){dZ="fsel"}else{dW="fsel"}dL=0;var dX;var dV;var dY;if(mem_build_caller=="controller"){dV='<span class="ttlgold">Edit</span> Amazon S3 Settings'}else{dV="Build Project";if(c4){if(cp.ixd==1){dV+=' <div class="demo-yes" style="position:absolute;top:4px;right:23px;">Ten article limit in <a href='+linkDEMO+">DEMO</a> mode</div>"}}}var d0="";db.hideDiaStatusSp();d0+='<div spellcheck="false" class="dia-content noselect" style="padding-top:13px;padding-bottom:10px" onmousedown="MpcCpanel.hideDiaStatusPinkSp()"';d0+='style="position:relative;text-align:left;white-space:nowrap">';d0+='<div id="ttlbusy" class="busycss" style="position:absolute;top:10px;right:15px"></div>';d0+='<div style="padding-bottom:2px">';d0+='<table style="width:100%">';d0+='<tr style="white-space:nowrap">';d0+='<td style="width:325px;text-align:left"><span id="promptH">&nbsp;</span></td>';d0+="<td>";d0+='<div id="html-stat" class="dia-status">&nbsp;</div>';d0+="</td>";d0+='<td style="width:325px;text-align:right"><span id="dspace">&nbsp;</span></td>';d0+="</tr>";d0+="</table>";d0+="</div>";d0+='<div class="pinstripe twrap2" style="margin:10px 0 14px;padding:0 10px;background-color:'+theme.sbload+'">';d0+='<div id="area_html" style="padding-bottom:0px;visibility:hidden">';d0+='<table style="width:100%">';d0+='<tr><td colspan="5"><div style="height:10px"></div></td></tr>';d0+='<tr style="white-space:nowrap">';d0+='<td style="width:140px">';d0+="<table>";d0+="<tr>";d0+='<td style="width:40px"><div class="ltc tdadd_left selok cbtn sb-dis" style="width:40px"';d0+='title="Build to Domain Root. Pages will be Live to the world"';d0+="onmouseover=\"MpcCpanel.togOver('idL');return false;\" onmouseout=\"MpcCpanel.togOut('idL');return false;\"";d0+='onclick="MpcCpanel.ltcClicked(\'L\');return false;" id="idL">Live</div></td>';if(cp.lt!="om"){d0+='<td style="width:40px"><div class="tdadd_center sb-dis" style="width:40px"';d0+='title="Build Virtual pages (Commercial license only)">Vpage</div></td>'}else{if(cp.win){d0+='<td style="width:40px"><div class="ltc tdadd_center sb-dis" style="width:40px"';d0+='title="Vpage not available in Windows servers">Vpage</div></td>'}else{d0+='<td style="width:40px"><div class="ltc tdadd_center selok cbtn sb-dis" style="width:40px"';d0+='title="Build Virtual pages. Will be Live to the world"';d0+="onmouseover=\"MpcCpanel.togOver('idV');return false;\" onmouseout=\"MpcCpanel.togOut('idV');return false;\"";d0+='onclick="MpcCpanel.ltcClicked(\'V\');return false;" id="idV">Vpage</div></td>'}}if((cp.lt=="om")&&(!cp.win)){d0+='<td style="width:40px"><div class="ltc tdadd_center selok sb-dis" style="width:40px" title="Build to a single Tar.gz file"';d0+="onmouseover=\"MpcCpanel.togOver('idT');return false;\" onmouseout=\"MpcCpanel.togOut('idT');return false;\"";d0+='onclick="MpcCpanel.ltcClicked(\'T\');return false;" id="idT">Tar</div></td>'}else{if(cp.win){d0+='<td style="width:40px"><div class="tdadd_center sb-dis" style="width:40px"';d0+='title="Build to a single Tar.gz. Available for Windows in a future version."';d0+='id="idT">Tar</div></td>'}else{d0+='<td style="width:40px"><div class="tdadd_center sb-dis" style="width:40px"';d0+='title="Build to a single Tar.gz file (Commercial license only)"';d0+='id="idT">Tar</div></td>'}}d0+='<td style="width:40px"><div style="display:none" class="ltc tdadd_center selok" style="width:40px" title="Enable Wordpress (deprecated)"';d0+="onmouseover=\"MpcCpanel.togOver('idW');return false;\" onmouseout=\"MpcCpanel.togOut('idW');return false;\"";d0+='onclick="MpcCpanel.ltcClicked(\'W\');return false;" id="idW">Wp</div></td>';if(cp.lt!="om"){d0+='<td style="width:40px"><div class="tdadd_right sb-dis" style="width:40px"';d0+='title="Build to Cloud (Commercial license only)"';d0+=' id="idC">Cloud</div></td>'}else{d0+='<td style="width:40px"><div class="ltc tdadd_right selok cbtn sb-dis" style="width:40px"';d0+='title="Build to Cloud properties"';d0+="onmouseover=\"MpcCpanel.togOver('idC');return false;\" onmouseout=\"MpcCpanel.togOut('idC');return false;\"";d0+='onclick="MpcCpanel.ltcClicked(\'C\');return false;" id="idC">Cloud</div></td>'}d0+="</tr>";d0+="</table>";d0+="</td>";d0+="<td>";d0+='<div id="divC" style="margin-left:0px">-';d0+='<select id="cloud_service" onchange="MpcCpanel.cloudChange(\'s\');return false" class="all_sel pad2024">';d0+='<option value="ama_storage">AMAZON S3 STORAGE</option>';d0+='<option value="ama_website">AMAZON S3 WEBSITE</option>';d0+="</select>";d0+="</div>";d0+="</td>";d0+="<td></td>";d0+='<td style="text-align:right">';d0+='<select id="buildlimit" class="visH" onchange="MpcCpanel.limitChange(\'buildlimit\');" style="height:23px" title="Limit size of Build for faster testing">';d0+="<option value=0>NO LIMIT</option>";d0+="<option value=10>10 PAGES</option>";d0+="<option value=100>100 PAGES</option>";d0+="<option value=1000>1000 PAGES</option>";d0+="</select>";d0+="</td>";d0+='<td style="width:59px"><div class="visH tdadd cbtn sb-dis" style="margin:2px 0 2px 10px;width:59px"';d0+=' title="Set dialog to Build or UnBuild a project"';d0+=' onclick="MpcCpanel.cbUnbuildClicked();return false;" id="cbUnbuild">UnBuild</div></td>';d0+="</tr>";d0+='<tr><td colspan="5"><div style="height:8px"></div></td></tr>';d0+="</table>";d0+="</div>";d0+="</div>";d0+='<div class="pinstripe twrap2" style="height:75px;width:706px;padding:0;margin-bottom:14px;background-color:'+theme.sbload+'">';d0+='<div id="area_smap" style="margin:5px 10px 0 10px;visibility:hidden">';d0+='<table style="width:100%;white-space:nowrap">';d0+='<tr style="white-space:nowrap">';d0+='<td style="text-align:left;font-weight:bold">Html Sitemaps <span id="hs_enabled"></span></td>';d0+="<td></td>";d0+='<td style="width:5px"><span class="sm_opac"><input id="cbFollow" onchange="MpcCpanel.cbFollowClicked();return false" type="checkbox" /></span></td>';d0+='<td style="text-align:left"><span class="sm_opac"><label for="cbFollow">NO INDEX, FOLLOW, NO ARCHIVE</label><span></td>';d0+='<td id="changeset" class="all_a" style="text-align:right"><a href="javascript:MpcCpanel.goSitemapTab()">Change Settings</a>&nbsp;</td>';d0+="</tr>";d0+="<tr>";d0+='<td style="text-align:left"><div class="lab11">RootSiteMap Name</div></td>';d0+="<td></td>";d0+='<td colspan="3" style="text-align:left"><div class="lab11">Domains in Sitemaps</div></td>';d0+="</tr>";d0+="<tr>";d0+='<td style="text-align:left;width:200px"><input type="text" id="hs_rootmap" disabled="disabled" readonly style="width:200px;" class="roundpad3034 transparent_bang"></td>';d0+='<td style="width:10px"><div style="width:10px"></div></td>';d0+='<td colspan="3"><input type="text" id="hs_url" disabled="disabled" readonly style="width:464px" class="roundpad3034 transparent_bang"></td>';d0+="</tr>";d0+="</table>";d0+="</div>";d0+="</div>";d0+='<div id="areaT" class="pinstripe twrap2" style="position:relative;height:120px;width:706px;padding:0;margin-bottom:14px;background-color:'+theme.sbload+'">';d0+='<div id="area_L" class="area_cloud_all" style="position:absolute;top:5px;left:10px;width:686px;visibility:hidden">';d0+='<table style="width:100%">';d0+='<tr style="white-space:nowrap">';d0+='<td><div style="font-weight:bold">Live Html Pages</td>';d0+="</tr>";d0+="<tr><td>";d0+='<div style="margin:8px 0 0 0">';d0+="Build will write pages at the Urls created by the Path list boxes. Urls begin at the web root folder.<br>";d0+="These 'Live' web pages will be instantly viewable by the public.";if(cp.ixd==1){d0+='<br><br>In <a href="https://masspagecreator.com/purchase/upgrade.php" target="_blank">DEMO</a> mode, there is a 10 page limit.'}d0+="</div>";d0+="</td><tr>";d0+="</table>";d0+="</div>";d0+='<div id="area_V" class="area_cloud_all" style="position:absolute;top:5px;left:10px;width:686px;height:115px;visibility:hidden">';d0+='<table style="width:100%">';d0+='<tr style="white-space:nowrap">';d0+='<td><div id="vp_prompt" style="font-weight:bold;padding-bottom:6px">Vpages (Virtual Pages)</td>';d0+="<td></td>";d0+='<td style="text-align:right"><div class="mmas opas">';d0+='<input id="txMin" onkeyup="MpcCpanel.validateMM(this, event);return false;" class="minmax all_input epink"';d0+='title="Set minimum days between autospins" placeholder="MIN" type="text"></div></td>';d0+='<td style="width:40px"><div class="mmas opas">';d0+='<input id="txMax" onkeyup="MpcCpanel.validateMM(this, event);return false;" class="minmax all_input epink"';d0+='title="Set minimum days between autospins" placeholder="MAX" type="text"></div></td>';d0+='<td style="width:90px">';d0+='<select id="selSpin" class="all_sel opas" onchange="MpcCpanel.spinClick();return false" title="Set Autospin Off or Time Interval">';d0+='<option value="0">NO AUTOSPIN</option>';d0+='<option value="1">SECONDS</option>';d0+='<option value="60">MINUTES</option>';d0+='<option value="3600">HOURS</option>';d0+='<option value="86400">DAYS</option>';d0+='<option value="604800">WEEKS</option>';d0+='<option value="2592000">MONTHS</option>';d0+="</select>";d0+="</td>";d0+="</tr>";d0+="</table>";d0+='<div id="boxVu" class="transparent_bang" style="position:absolute;top:30px;right:0px;width:552px"></div>';d0+='<div style="position:absolute;bottom:53px;left:0">';d0+='<div id="vp_btn1" style="width:100px;margin-left:0;opacity:0.2" class="avis1 vbtn"';d0+='onclick="MpcCpanel.vpBtn1Click();return false;">View Report</div>';d0+="</div>";d0+='<div style="position:absolute;bottom:23px;left:0">';d0+='<div id="vp_btn2" style="width:100px;margin-left:0;opacity:0.2" class="avis1 vbtn"';d0+='onclick="MpcCpanel.vpBtn2Click();return false;">Edit Comments</div>';d0+="</div>";d0+="</div>";d0+='<div id="area_T" class="area_cloud_all" style="position:absolute;top:5px;left:10px;width:686px;visibility:hidden">';d0+='<table style="width:100%">';d0+='<tr style="white-space:nowrap">';d0+='<td><div style="font-weight:bold">Tar Archive</td>';d0+="</tr>";d0+="<tr><td>";d0+='<div style="margin:8px 0 0 0">';d0+="Build will write pages to a single TGZ file.<br>";d0+="This allows transfer of built pages to other destinations.";d0+="</div>";d0+="</td><tr>";d0+="</table>";d0+="</div>";d0+='<div id="area_W" class="area_cloud_all" style="position:absolute;top:5px;left:10px;width:686px;visibility:hidden">';d0+="<table>";d0+='<tr style="white-space:nowrap">';d0+='<td colspan="3"><div style="font-weight:bold">Wordpress Articles</td>';d0+="</tr>";d0+="<tr>";d0+='<td colspan="3">';d0+='<div style="margin:8px 0 11px 0">';d0+='Publish text Articles to Wordpress. We recommend mass producing less than 700 articles. To create thousands of pages for your Wordpress site, build Html as <a href="https://masspagecreator.com/forum/post/514/#p514" target="_blank">outlined in this Forum response</a>.<br>';d0+='<span style="color:#c00000">&nbsp;</span>';d0+="</div>";d0+="</td>";d0+="</tr>";d0+='<tr style="white-space:nowrap">';d0+='<td style="width:140px">';d0+="<table>";d0+="<tr>";d0+='<td style="width:0"><div class="tdadd_left sb-dis cbtn" style="width:70px;display:none" title="Set build for Html Pages"';d0+="onmouseover=\"MpcCpanel.togOver('idHT');return false;\" onmouseout=\"MpcCpanel.togOut('idHT');return false;\"";d0+='onclick="MpcCpanel.cbhClicked(\'0\');return false;" id="idHT">HTML Pages</div></td>';d0+='<td style="width:70px"><div class="tdadd_left selok '+dW+' cbtn" style="width:70px" title="Set build for WP Pages"';d0+="onmouseover=\"MpcCpanel.togOver('idPA');return false;\" onmouseout=\"MpcCpanel.togOut('idPA');return false;\"";d0+='onclick="MpcCpanel.cbhClicked(\'1\');return false;" id="idPA">WP Pages</div></td>';d0+='<td style="width:70px"><div class="tdadd_right  selok '+dZ+' cbtn" style="width:70px" title="Set build for WP Posts"';d0+="onmouseover=\"MpcCpanel.togOver('idPO');return false;\" onmouseout=\"MpcCpanel.togOut('idPO');return false;\"";d0+='onclick="MpcCpanel.cbhClicked(\'2\');return false;" id="idPO">WP Posts</div></td>';d0+="</tr>";d0+="</table>";d0+="</td>";d0+='<td style="width:160px">';d0+='<div id="bnAR" class="avis1" style="width:160px;margin-left:20px"';d0+='onclick="MpcCpanel.viewReportT_if();return false">';d0+="View Article Report";d0+="</div>";d0+="</td>";d0+="<td>";d0+='<div id="bnAZT" class="avis1" style="width:160px;margin-left:20px"';d0+='onclick="MpcCpanel.downloadZip_if();return false;" >';d0+="Download article.zip";d0+="</div>";d0+="</td>";d0+="</tr>";d0+="</table>";d0+="</div>";d0+='<div id="area_ama" class="area_cloud_all" style="position:absolute;top:5px;left:10px;width:686px;visibility:hidden">';d0+='<table style="width:100%;white-space:nowrap">';d0+='<tr style="white-space:nowrap">';d0+='<td colspan="2"><div id="ama_prompt" style="font-weight:bold">Amazon Storage</td>';d0+='<td colspan="5" style="text-align:left"><span id="ama_url"></span></td>';d0+="</tr>";d0+="<tr>";d0+='<td style="text-align:left"><div id="lbl_bkt" class="lab11">Amazon Bucket</div></td>';d0+="<td></td>";d0+='<td colspan="5" style="text-align:left"><div class="lab11">Amazon Region</div></td>';d0+="</tr>";d0+="<tr>";d0+='<td><input id="inp_s3bucket" onkeyup="MpcCpanel.cloudChange(\'k\');return false" style="width:200px" class="roundpad3034 epink" value="" type="text" /></td>';d0+='<td style="width:9px"><div style="width:9px"></td>';d0+='<td style="width:170px">';d0+='<select id="s3_region" class="all_sel" onchange="MpcCpanel.cloudChange(\'s\');return false" title="Select Region">';d0+='<option value="us-east-2">US East (Ohio)</option>';d0+='<option value="us-east-1">US East (N. Virginia)</option>';d0+='<option value="us-west-1">US West (N. California)</option>';d0+='<option value="us-west-2">US West (Oregon)</option>';d0+='<option value="ca-central-1">Canada (Central)</option>';d0+='<option value="ap-south-1">Asia Pacific (Mumbai)</option>';d0+='<option value="ap-northeast-2">Asia Pacific (Seoul)</option>';d0+='<option value="ap-southeast-1">Asia Pacific (Singapore)</option>';d0+='<option value="ap-southeast-2">Asia Pacific (Sydney)</option>';d0+='<option value="ap-northeast-1">Asia Pacific (Tokyo)</option>';d0+='<option value="cn-northwest-1">China (Ningxia)</option>';d0+='<option value="eu-central-1">EU (Frankfurt)</option>';d0+='<option value="eu-west-1">EU (Ireland)</option>';d0+='<option value="eu-west-2">EU (London)</option>';d0+='<option value="eu-west-3">EU (Paris)</option>';d0+='<option value="sa-east-1">South America (Sao Paulo)</option>';d0+="</select>";d0+="</td>";d0+='<td colspan="4">';d0+='<table style="width:100%">';d0+='<tr style="white-space:nowrap">';d0+='<td style="text-align:center";background-color:cyan">';d0+='<a href="https://console.aws.amazon.com/iam/home?#security_credential" target="_blank">Get Keys</a>';d0+="&nbsp;&nbsp;&nbsp;";d0+='<a href="http://s3browser.com" target="_blank">S3 Browser</a>';d0+="</td>";d0+='<td style="width:50px;text-align:right"><label for="cbShowhide">Show Keys</label></td>';d0+='<td style="width:8px"><input type="checkbox" id="cbShowhide" class="all_checkbox" onchange="MpcCpanel.cbShowhideClick(this, \'s3_key\',\'s3_secret\')"></td>';d0+="</tr>";d0+="</table>";d0+="</td>";d0+="</tr>";d0+='<tr><td colspan="7"><div style="height:4px"></div></td></tr>';d0+="<tr>";d0+='<td><span class="lab11">Access Key</span></td>';d0+='<td style="width:9px"><div style="width:9px"></td>';d0+='<td colspan="5"><span class="lab11">Secret Access Key</span></td>';d0+="</tr>";d0+="<tr>";d0+='<td style="text-align:left;width:200px"><input type="password" id="s3_key" style="width:200px;color:#c4c4c4" class="inpPW all_input"></td>';d0+="<td></td>";d0+='<td colspan="2"><input type="password" id="s3_secret" style="width:340px" class="inpPW all_input"></td>';d0+="<td></td>";d0+='<td colspan="2" style="text-align:right">';d0+='<div style="margin-right:0px">';d0+='<button id="bnTestS3" class="sexybutton all_test" title="Test Amazon keys (save if test ok)" onclick="MpcCpanel.testS3(\'test\');return false;">';d0+='<span><span><span class="amazon">Test & Save</span></span></span>';d0+="</button>";d0+="</div>";d0+="</td>";d0+="</tr>";d0+="</table>";d0+="</div>";d0+="</div>";d0+='<div style="text-align:left">';d0+='<div id="MPCprog" style="background-color:'+theme.sbload+'">';d0+="<div></div>";d0+="</div>";d0+="</div>";d0+='<div id="LABprog" style="font-size:11px">&nbsp;</div>';d0+='<div style="margin-top:12px">';d0+='<table style="width:100%">';d0+='<tr style="white-space:nowrap">';d0+='<td style="width:100px">';d0+='<button id="bnBH" disabled="disabled" class="sexybutton" title="" onclick="MpcCpanel.submitBuild();return false;">';d0+='<span><span><span id="unBH" class="build">Build Project</span></span></span>';d0+="</button>";d0+="</td>";d0+='<td style="width:5px">';d0+='<select id="selHPO" disabled="disabled" class="visD" style="margin-left:10px;margin-right:10px;height:24px;opacity:0.3">';d0+='<option value="html">FULL PROJECT</option>';d0+='<option value="htmlPO">PAGES ONLY</option>';d0+='<option value="htmlSO">SITEMAPS ONLY</option>';d0+="</select>";d0+="</td>";d0+='<td style="width:5px">';d0+="</td>";d0+='<td style="text-align:center">';d0+='<div id="pass" style="font-size:16px;font-weight:bold;text-shadow:1px 1px 0 black;background:none;white-space:nowrap;color:#4682b4"></div>';d0+="</td>";d0+='<td style="width:50px">';d0+='<button id="bnStopbuild" class="sexybutton" onclick="MpcCpanel.stopBuild()" title="Cancel or Stop build"><span><span>';d0+='<span id="spanStopbuild" class="cancel">Cancel</span></span></span>';d0+="</button>";d0+="</td>";d0+="</tr>";d0+="</table>";d0+="</div>";d0+="</div>";d0+="</div>";Shadowbox.open({content:d0,title:dV,player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"diaBuild",onMyClose:db.stopBuild,animate:settings.anim,onFinish:ag},height:419,width:750})};function ag(){cI();mem_j_bnBH=jQuery("#bnBH");mem_j_selHPO=jQuery("#selHPO");bPermu=true;jQuery("#idW").css("display",(settings.dowp==1)?"block":"none");n("a0C527XcC",{caller:mem_build_caller},function(dX){bPermu=false;db.hideDiaStatusPinkSp();if(dc>0){return}if((mem_build_caller=="project")||(mem_build_caller=="cf")){var M=jQuery.parseJSON(mem_build_r);var dU=jQuery.parseJSON(dX);var dV;for(dV in dU){M[dV]=dU[dV]}}else{mem_build_r=dX;try{M=jQuery.parseJSON(dX)}catch(dW){alert("JSON error: preBuild \n"+dX)}}jsettings.smap_yn=M.smap_yn;jsettings.smap_prefix=M.smap_prefix;jsettings.smap_remote_yn=M.smap_remote_yn;jsettings.smap_remote_url=M.smap_remote_url;jsettings.smap_follow_yn=M.smap_follow_yn;jsettings.lowurl_yn=M.lowurl_yn;if(M.status=="except"){Shadowbox.close();cu("ERR:"+j.caption,j.msg,"center",170,500);return}if(M.status=="dupes"){Shadowbox.close();db.messageBoxD();return}if(M.status=="permu"){Shadowbox.close();da(dX);return}disAR=((M.isAreport=="y")&&(!dirtyAR))?false:true;disAZ=((M.isAzip=="y")&&(!dirtyAZ))?false:true;disBR=((M.isBreport=="y")&&(!dirtyBR))?false:true;disAT=((M.isAtar=="y")&&(!dirtyAT))?false:true;dL=M.urlcount;J();if(dL==0){if(mem_build_caller=="controller"){$s="S3 Edit requires at least one Url."}else{$s="Build requires at least one Url. Check Path formulas."}a("html-stat","gold",$s);al();return}else{if(mem_build_caller!="controller"){jQuery("#bnBH").prop("disabled",false)}jQuery("#bnBT").prop("disabled",false);jQuery("#bnAR").prop("disabled",false);j=jQuery(".cbtn");j.toggleClass("selok",true);j.toggleClass("sb-dis",false);if((cp.lt=="om")&&!cp.win){j=jQuery("#idT");j.toggleClass("selok",true);j.toggleClass("sb-dis",false)}pages=bA(dL);plural=(pages==1)?"":"s";if(mem_build_caller!="controller"){jQuery("#promptH").text("Total Urls: "+pages)}}jQuery(".inpPW").css("color","#c4c4c4");if((M.diskspace!="no")&&(mem_build_caller!="controller")){jQuery("#dspace").html("Disk space: "+M.diskspace)}if(mem_writeto=="current"){mem_writeto="ama_storage"}jQuery("#cloud_service").val(mem_writeto);jQuery("#s3_key").val(M.s3_key);jQuery("#s3_secret").val(M.s3_secret);jQuery("#s3_region").val(M.s3_region);mem_s3_region=M.s3_region;mem_path_first=M.path_first;mem_path_first_item=M.path_first_item;mem_path_first_item_raw=M.path_first_item_raw;mem_path_first_count=M.path_first_count;mem_cntvu=M.v_count;for(x=0;x<mem_cntvu;x++){mem_boxvu[x]=M["v_if"+x]}H(false);if(mem_build_caller=="controller"){mem_buildLst=buildLst;buildLst="C"}else{jQuery("#area_smap").css("visibility","visible")}if((buildLst=="W")&&(settings.dowp==0)){buildLst="L"}db.ltcClicked(buildLst);al()})}db.cbFollowClicked=function(){jsettings.smap_follow_yn=(jQuery("#cbFollow").prop("checked"))?"yes":"no"};function cT(){var dX=jQuery("#hs_enabled");var dW=jQuery("#hs_rootmap");var dV=jQuery("#hs_url");jQuery("#cbFollow").prop("checked",(jsettings.smap_follow_yn=="yes"));if((jsettings.smap_yn=="no")||(buildLst=="W")){dX.toggleClass("kgreen",false);dX.toggleClass("warn",true);dX.html("Disabled");jQuery(".sm_opac").css("opacity","0.3");jQuery("#cbFollow").prop("disabled",true);dW.val("n/a");dV.val("n/a")}else{dX.toggleClass("warn",false);dX.toggleClass("kgreen",true);dX.html("Enabled");jQuery(".sm_opac").css("opacity","1.0");jQuery("#cbFollow").prop("disabled",false);dW.val(jsettings.smap_prefix+"-sitemap.html");if(buildLst=="C"){dV.val(aJ())}else{var dU=(settings.force_ssl==1)?"https":cp.ssl;var M=(jsettings.smap_remote_yn=="yes")?jsettings.smap_remote_url:dU+"://"+cp.theDomain+cp.theSubdirTrim;dV.val(a6(M))}}}db.vpBtn1Click=function(){if(mem_cntvu==0){return}if(jQuery("#vp_btn1").html()=="View Report"){db.submitViewV()}else{db.vpAcceptEdits()}};db.vpBtn2Click=function(){if(mem_cntvu==0){return}if(jQuery("#vp_btn2").html()=="Edit Comments"){db.editVcomment()}else{H(true);db.vpClose()}};db.vpClose=function(){jQuery("#vp_prompt").html("Vpages (Virtual Pages)");jQuery("#vp_btn1").html("View Report");jQuery("#vp_btn2").html("Edit Comments");jQuery("input.vp_input").css("borderColor","transparent");jQuery("input.vp_input").css("background","transparent");jQuery("input.vp_input").prop("readonly",true)};db.editVcomment=function(){jQuery("#vp_prompt").html("Vpages (Edit Comments)");jQuery("#vp_btn1").html("Save Edit");jQuery("#vp_btn2").html("Cancel Edit");jQuery("input.vp_input").css("borderColor","#808080");jQuery("input.vp_input").css("background-color","#ffffcc");jQuery("input.vp_input").prop("readonly",false)};db.vpAcceptEdits=function(){c2();var dW;var M;var dX={};var dV;var dU="";dX.nums="";for(x=0;x<mem_cntvu;x++){if(x>0){dX.nums+=","}dV=jQuery.parseJSON(mem_boxvu[x]);dW=dV.id;dX.nums+=dW;M=jQuery("#"+dW).val();dX[dW]=M;dV.name=M;mem_boxvu[x]=JSON.stringify(dV)}var dY=JSON.stringify(dX);c8("ajax_updateVcomments",{jcom:dY},function(dZ){db.vpClose();al()})};db.limitChange=function(dU){var M=jQuery("#"+dU);M.css("background-color",(M.val()==0)?"white":"#cbf0a6")};db.validateMM=function(dU,dV){var M=dV.keyCode?dV.keyCode:dV.which;if(M!=37){dU.value=dU.value.replace(/[^0-9]/g,"");if(dU.value.length>3){dU.value=dU.value.substring(0,3)}}};db.spinClick=function(){var M=jQuery("#selSpin");if(M.prop("selectedIndex")==0){M.css("background-color","white");jQuery(".mmas").css("visibility","hidden")}else{M.css("background-color","#cbf0a6");jQuery(".mmas").css("visibility","visible")}};db.testS3=function(dV){if(cp.php_version<5.5){if(dV=="build"){bT(false);al()}a("html-stat","pink","S3 requires PHP 5.5+");return}var dW=jQuery("#s3_key").val();var M=jQuery("#s3_secret").val();if((dW=="")||(M=="")){if(dV=="build"){b3(false);al()}a("html-stat","pink","access keys required");return}jQuery("#bnTestS3").prop("disabled",true);c2();var dX=true;var dY=true;if(mem_writeto=="ama_storage"){dX=(mem_path_first_item_raw.substr(-1)=="/");dY=(mem_path_first_count==1)}var dU=c5();aN("yCCc55X5A",{caller:dV,bucketname:dU,region:mem_s3_region,wbucket:mem_s3_wbucket,bslash_ok:dX,bcount_ok:dY,key:dW,secret:M},function(d1){var d0=jQuery.parseJSON(d1);switch(d0.status){case"bad_key_test":var dZ=(d0.msg=="")?"S3 key test failed":d0.msg;a("html-stat","pink",dZ);jQuery("#bnTestS3").prop("disabled",false);al();break;case"bad_key_build":var dZ=(d0.msg=="")?"Amazon S3 keys invalid":d0.msg;a("html-stat","pink",dZ);b3(false);bBuilding=false;al();break;case"ng_bucket":Shadowbox.close();cu("ERR:S3 Bucket error",d0.msg,"center",117,540);break;case"ok_test":a("html-stat","lightgreen","S3 keys validated and saved");jQuery("#bnTestS3").prop("disabled",false);al();break;case"ok_build":theBucket=d0.msg;xbtn="Stop Build";if(iUnbuild==1){xbtn="Stop UnBuild";bO("unbuild_1")}else{bO("cloud_1")}jQuery("#spanStopbuild").html(xbtn);var d2=jQuery("#selHPO").val();if(jQuery("#cloud_service").val()=="ama_storage"){d2="htmlPO"}b7(d2,0,"none",0,0,0);dl();break}})};db.cbShowhideClick=function(M,dX,dV){var d0=(dV!="none");var dU=jQuery("#"+dX);if(d0){var dW=jQuery("#"+dV)}if(jQuery(M).prop("checked")){var dY="text";var dZ="black"}else{var dY="password";var dZ="#c4c4c4"}dU.prop("type",dY);dU.css("color",dZ);if(d0){dW.prop("type",dY);dW.css("color",dZ)}};db.cbhClicked=function(dU){if(dU==0){return}db.hideDiaStatusSp();if(jQuery("#ttlbusy").hasClass("busycss")){return}if(bBuilding){return false}var M=new Array(false,false,false);M[dU]=true;jQuery("#idHT").toggleClass("fsel",M[0]);jQuery("#idPA").toggleClass("fsel",M[1]);jQuery("#idPO").toggleClass("fsel",M[2]);iBuildHtml=0;iPostSelect=(dU==2)?1:0};db.cbaClicked=function(){};function J(){jQuery("#bnAR").css("opacity",(disAR)?"0.2":"1.0");jQuery("#bnAZT").css("opacity",(disAZ)?"0.2":"1.0")}function am(dU){var M=jQuery("#cloud_service");M.prop("disabled",dU);M.css("opacity",(dU)?"0.3":"1.0")}function cA(dU){if((buildLst=="W")||(mem_build_caller=="controller")){dU=true}var M=jQuery("#selHPO");if(dU){M.css("opacity","0.3");M.prop("disabled",true);M.val("html")}else{M.css("opacity","1.0");M.prop("disabled",false)}}db.ltcClicked=function(d1){if(mem_build_caller!="controller"){if(bBuilding){return false}if(dL==0){return false}if(jQuery("#id"+d1).hasClass("sb-dis")){return false}}buildLst=d1;jQuery(".ltc").toggleClass("fsel",false);jQuery("#id"+d1).toggleClass("fsel",true);if(mem_build_caller=="controller"){var dU=["L","V","T","W"];for(x=0;x<4;x++){jQuery("#id"+dU[x]).toggleClass("sb-dis",true)}}var dX=(iUnbuild==1);var dV=(dL==0);var dY="visible";var d2=true;var dZ="block";var d0=false;var dW="visible";switch(buildLst){case"L":break;case"V":db.spinClick();jQuery(".opas").css("opacity",(iUnbuild==1)?"0.3":"1.0");if(mem_cntvu>0){jQuery(".vbtn").css("opacity","1.0");jQuery("#boxVu").toggleClass("transparent_bang",false);dV=false}else{jQuery(".vbtn").css("opacity","0.2");jQuery("#boxVu").toggleClass("transparent_bang",true);dV=true}jQuery("#area_vpage").css("visibility","visible");break;case"T":break;case"W":dX=false;dY="hidden";dZ="none";dW="hidden";break;case"C":if(mem_build_caller=="controller"){dY="hidden";dW="hidden";d0=true;jQuery("#spanStopbuild").html("Close")}d2=false;switch(jQuery("#cloud_service").val()){case"ama_storage":db.cloudChange("c");d0=true;break;case"ama_website":db.cloudChange("c");break}break}jQuery(".visH").css("visibility",dY);am(d2);jQuery("#cbUnbuild").toggleClass("sb-dis",dV);cA(d0);jQuery(".visD").css("display",dZ);B(dX);jQuery("#area_html").css("visibility","visible");jQuery("#changeset").css("visibility",dW);cT();jQuery(".area_cloud_all").css("visibility","hidden");var M=buildLst;if(buildLst=="C"){M=jQuery("#cloud_service").val();M=M.substr(0,3)}jQuery("#area_"+M).css("visibility","visible")};db.cloudChange=function(dW){var dX=(settings.force_ssl==1)?"https":cp.ssl;var d0=jQuery("#hs_url");var M,dV,dY;var dZ=jQuery("#cloud_service").val();switch(dZ){case"ama_storage":cA(true);jQuery("#ama_prompt").html("Amazon Storage");M=jQuery("#s3_region").val();mem_s3_region=M;jQuery("#lbl_bkt").html("Amazon Bucket (from Path "+mem_path_first+")");dY=jQuery("#inp_s3bucket");dY.toggleClass("forced_none",true);dY.prop("readonly",true);dY.val(mem_path_first_item);if(M=="us-east-1"){dV=dX+"://s3.amazonaws.com"}else{dV=dX+"://s3-"+M+".amazonaws.com"}jQuery("#ama_url").html(dV);mem_s3_url_storage=dV;if(jsettings.smap_yn=="yes"){d0.val(dV)}break;case"ama_website":cA(false);jQuery("#ama_prompt").html("Amazon Website");M=jQuery("#s3_region").val();dY=jQuery("#inp_s3bucket");dY.toggleClass("forced_none",false);dY.prop("readonly",false);var dU=mem_s3_wbucket;jQuery("#lbl_bkt").html("Amazon Bucket");if(dW=="k"){dU=dY.val();dU=dU.toLowerCase();if(dU.match(/[^a-z0-9.-]/g)){dU=dU.replace(/[^a-z0-9.-]/g,"")}}dY.val(dU);dY.prop("title",dU);dV=dX+"://"+dU+".s3-website"+Y(M)+".amazonaws.com";jQuery("#ama_url").html(dV);mem_s3_url_website=dV;mem_s3_region=M;mem_s3_wbucket=dU;if(jsettings.smap_yn=="yes"){d0.val(dV)}break}mem_writeto=dZ};db.downloadZip_if=function(){if(disAZ){return}db.downloadZip()};db.downloadZip=function(){var M=(iTgz==1)?".tar.gz":".zip";location.href=cp.auxdir+"/article"+M};function H(dV){var dW=jQuery("#boxVu");if(dV){dW.html("")}else{if(dW.html()!=""){return}}mem_vfid=-1;var M;var dU;var dX="";if(mem_cntvu>0){dX="<table>";for(M=0;M<mem_cntvu;M++){dU=jQuery.parseJSON(mem_boxvu[M]);dX+='<tr class="vrow epink"';if("spin" in dU){dX+='title="Autospin: '+dU.spin+'"'}dX+='><td><input type="checkbox" class="cbvu" onchange="MpcCpanel.cbvuClicked(\''+M+'\');return false;" id="vu'+M+'"></td>';dX+='<td><label for="vu'+M+'">';dX+=" #"+dU.id+" ";dX+=dU.date+" ";dX+="</label></td>";dX+="<td>";dX+='<input id="'+dU.id+'" type="text" readonly class="vp_input" value="'+dU.name+'">';dX+="</td></tr>"}dX+="</table>"}dW.html(dX);if(mem_cntvu==1){jQuery("#vu0").prop("checked",true);db.cbvuClicked(0)}}db.cbvuClicked=function(dU){var M=jQuery("#vu"+dU);mem_vfid=-1;if(M.prop("checked")){jQuery(".cbvu").prop("checked",false);M.prop("checked",true);mem_vfid=dU}};db.submitViewV=function(){if(mem_vfid==-1){a("html-stat","pink","No Vpage project selected");jQuery(".vrow").css("background-color","pink");return}var dU=mem_boxvu[mem_vfid];var M=jQuery.parseJSON(dU);vFolder=M.id;db.viewReportH()};db.submitUnBuildV=function(){if(mem_vfid==-1){a("html-stat","pink","No Vpage project selected");jQuery(".vrow").css("background-color","pink");return}bBuilding=true;c2();db.hideDiaStatusSp();bO("unbuild_v1");var dU=mem_boxvu[mem_vfid];var M=jQuery.parseJSON(dU);vFolder=M.id;dT();dl()};function dT(){c8("ajax_unbuildv",{vfolder_ajax:vFolder},function(dU){bPolling=false;if(dd){clearTimeout(dd)}bY();bd();try{rj=jQuery.parseJSON(dU)}catch(M){alert("JSON error: unbuildV. \n"+dU)}switch(rj.status){case"ok_unbuildv":Shadowbox.close();cB(dU);break;case"ng_unbuildv":break}})}db.stopBuild=function(){if(bPolling||bPermu){db.setCancel(1);passObj.html("")}if(!bPolling){if(mem_build_caller=="controller"){buildLst=mem_buildLst;Shadowbox.close(true);setTimeout(function(){MpcCpanel.mainConfig(1,"main")},10)}else{Shadowbox.close()}}};db.submitBuild=function(){ftype2=(buildLst=="W")?"text":"html";if(ftype2=="html"){ftype2=jQuery("#selHPO").val()}if((buildLst=="V")&&(iUnbuild==1)){bT(true);db.submitUnBuildV();return}if(buildLst=="C"){if(iUnbuild==1){a("html-stat","pink","Cloud UnBuild disabled (coming soon)");return false}switch(mem_writeto){case"ama_storage":break;case"ama_website":if(mem_s3_wbucket==""){a("html-stat","pink","Bucket name required");jQuery("#inp_s3bucket").css("background-color","pink");return false}break}}if((ftype2=="html")&&(buildLst=="T")&&jQuery("#cbUnbuild").hasClass("fsel")){bT(true);c2();aN("y27751X15",{},function(dZ){bT(false);a("html-stat","lightgreen","Tar files removed");al()});return false}var dY=0;var dV=0;var dX=0;if((buildLst=="V")&&(iUnbuild!=1)&&(jQuery("#selSpin").val()!=0)){dY=jQuery("#selSpin").val();dV=jQuery("#txMin").val();dX=jQuery("#txMax").val();if((dV=="")||(dV<1)||(dV>999)||(dX=="")||(dX<1)||(dX>999)){a("html-stat","pink","Each range must be 1-999");jQuery(".minmax").css("background-color","pink");return false}}var dW=parseInt(dL);var M=ftype2.substr(0,4);var dU="none";if((ftype2=="html")||(ftype2=="htmlPO")){dU=jQuery("input:radio[name=rad_rss]:checked").val()}bBuilding=true;c2();db.hideDiaStatusSp();bT(true);if(buildLst=="C"){switch(mem_writeto){case"ama_storage":case"ama_website":db.testS3("build");return false;break}}xbtn="Stop Build";if(iUnbuild==1){xbtn="Stop UnBuild";bO("unbuild_1")}else{if(M=="html"){bO("build_h1")}else{bO("build_t1")}}jQuery("#spanStopbuild").html(xbtn);b7(ftype2,0,dU,dY,dV,dX);dl()};function c2(){jQuery("#dspace").css("visibility","hidden");aj("ttlbusy")}function al(){ca("ttlbusy");jQuery("#dspace").css("visibility","visible");bBuilding=false}function bT(dW){mem_j_bnBH.prop("disabled",dW);mem_j_selHPO.css("display",(dW)?"none":"block");var dU=(buildLst=="W")?8:5;var M=["L","V","T","W","C","HT","PA","PO"];for(x=0;x<dU;x++){dV=jQuery("#id"+M[x]);if(!dV.hasClass("fsel")){dV.toggleClass("sb-dis",dW)}}dV=jQuery("#cbUnbuild");if(dV.hasClass("fsel")){dV.css("opacity",(dW)?"0.4":"1.0")}else{dV.toggleClass("sb-dis",dW)}var dV=jQuery("#buildlimit");dV.prop("disable",dW);if(dV.val()==0){dV.css("background-color","transparent")}jQuery(".all_test").prop("disabled",dW);jQuery(".all_sel").prop("disabled",dW);jQuery(".all_sel").css("background-color",(dW)?"#c4c4c4":"white");jQuery(".all_a").css("opacity",(dW)?"0.0":"1.0");jQuery(".all_checkbox").prop("disabled",dW);jQuery(".all_input").prop("disabled",dW);jQuery(".all_input").css("background-color",(dW)?"#c4c4c4":"white")}function b3(M){return}db.goSitemapTab=function(){if(bBuilding){return false}Shadowbox.close(true);setTimeout(function(){MpcCpanel.mainProject("settings","build")},10)};db.detailWindow=function(){var M=document.createElement("form");M.target="_blank";M.method="POST";M.action=cp.auxdir+"/detailDisp.php?t="+cp.testing+"&v="+cp.ver;document.body.appendChild(M);M.submit()};function t(){ttl="Restart required";lc=theme.sberrBgnd;bc=theme.sberrBgnd;tc="color:"+theme.sberrColor;var M="";M+='<div class="dia-content" style="text-align:center;font-size:14px;'+tc+'">';M+="Another Mpc session is active.<br />This session now requires a restart and login.";M+='<div class="centerbtn"><button class="sexybutton" onclick="MpcCpanel.acceptRestart()"><span><span>';M+='<span class="accept">Restart Mpc</span></span></span></button></div>';M+="</div>";Shadowbox.open({content:M,title:ttl,player:"html",handleOversize:"none",options:{loadingColor:lc,bodyColor:bc,animate:settings.anim,displayNav:0,onFinish:cI},height:117,width:400})}db.acceptRestart=function(){Shadowbox.close();db.doRefresh();return false};function b7(d0,dZ,d3,dU,d2,dV){var M;var d1=d0.substr(0,4);if(c4){M='{"dia_build_tgz":'+iTgz+"}"}else{M='{"dia_build_html":'+iBuildHtml;if(d1=="text"){M+=',"dia_build_tgz":'+iTgz}M+="}"}var dY=0;if(d1=="html"){dY=jQuery("#buildlimit").val()}var dX=(settings.force_ssl==1)?"https":cp.ssl;var dW=JSON.stringify(jsettings);n("a8d92fXE0",{ftype_ajax:d1,iBlueTotal:dL,buildlimit:dY,rad_rss:d3,iPostSelect:iPostSelect,pglim_ajax:dZ,exlist_ajax:settings.exlist,buildLst_ajax:buildLst,unbuild_ajax:iUnbuild,sett_ajax:M,iAuto:dU,bMin:d2,bMax:dV,proto:dX,projectF:memProjectF,jsett:dW},function(d6){bPolling=false;if(dd){clearTimeout(dd)}bY();bd();if(dc==2){return}if(d6.charAt(0)!="{"){var d4=d6.substr(1,5).toLowerCase();if(d4=="fatal"){var d7=d6.search("{");if(d7!=-1){d6=d6.substr(d7)}}}try{rj=jQuery.parseJSON(d6)}catch(d5){alert("JSON error: reBlueprint. \n"+d6)}switch(rj.status){case"cancel":Shadowbox.close();if(iUnbuild==1){str="UnBuild stopped. No files or directories were removed."}else{str="Build stopped. No files or directories were created."}aS("Stopped by user",str,"center",117,540);break;case"error":Shadowbox.close();bx(rj.msg,rj.dirCnt,rj.pageCnt,rj.elapsedTime,d1);break;case"prepare":Shadowbox.close();bo("build",rj.msg);break;case"except":Shadowbox.close();cu("ERR:"+rj.caption,rj.msg,"center",170,500);break;case"permu":Shadowbox.close();da(d6);break;case"memory":Shadowbox.close();cl(rj.msg);break;case"ok":if(iUnbuild==1){bO("unbuild_2")}else{if(d1=="html"){if(buildLst=="C"){bO("cloud_2")}else{bO("build_h2")}}else{bO("build_t2")}}setTimeout(function(){MpcCpanel.ajaxBuildPages(d0,dZ,rj.bpCnt,rj.rad_rss,rj.vfolder,rj.iAuto,rj.bMin,rj.bMax)},10);dl();break}})}db.ajaxBuildPages=function(d0,dZ,dY,d2,dU,M,d1,dV){ftype=d0.substr(0,4);var dX=(settings.force_ssl==1)?"https":cp.ssl;var dW="";if((buildLst=="C")&&(mem_writeto=="ama_website")){dW=mem_s3_url_website.replace(/\./g,"^")}n("aFFX28XxX",{ftype_ajax:d0,proto:dX,projectF:memProjectF,rad_rss:d2,iBlueTotal:dL,iPostSelect:iPostSelect,pglim_ajax:dZ,vfolder_ajax:dU,exlist_ajax:settings.exlist,buildLst_ajax:buildLst,bpCnt_ajax:dY,unbuild_ajax:iUnbuild,pjName:prjBaseName,iAuto:M,bMin:d1,bMax:dV,urlS3:dW},function(d5){bPolling=false;if(dd){clearTimeout(dd)}if(dc==2){return}var ee=d5;if(d5.charAt(0)!="{"){var ed=d5.substr(1,5).toLowerCase();if(ed=="fatal"){var eh=d5.search("{");if(eh!=-1){d5=d5.substr(eh)}}}try{rj=jQuery.parseJSON(d5)}catch(ec){alert("JSON error: buildPages. \nrr: "+ee+"\n err: "+ec);return}switch(rj.status){case"error":Shadowbox.close();bx(rj.msg,rj.dirCnt,rj.pageCnt,rj.elapsedTime,ftype);break;case"except":Shadowbox.close();var d7=rj.msg.substr(6);if(d7.substr(0,6)=="vpage_"){var d9;var eb=d7.split("\t");var d4=eb[0];var ei=eb[2];var ea=eb[3];switch(d4){case"vpage_symlink":d9="Cannot overwrite existing Vpage. Unbuild project #"+ei+" first.<br>";d9+='<span style="font-family:monospace;font-size:12px">'+ea.substr(3)+"</span>";aT("ERR:Overwrite Vpage error",d9,"center",132,520,"vperr0?"+ei);break;case"vpage_file":d9="Live page found while building Vpages. Unbuild Live pages first.<br>";d9+='<span style="font-family:monospace;font-size:12px">'+ea.substr(3)+"</span>";aT("ERR:Vpage build error",d9,"center",132,520,"vperr1");break;case"vpage_diff":d9="Vpages already found. Unbuild project #"+ei+" first.";aT("ERR:Overwrite Vpage error",d9,"center",115,500,"vperr2?"+ei);break;case"vpage_dir":d9="Cannot mix Live and Virtual pages. Unbuild project #"+ei+" first.<br>";aT("ERR:Overwrite Vpage error",d9,"center",115,520,"vperr3?"+ei);break}}if((d7=="c")||(d7=="t")){by(rj.msg,rj.dirCnt,rj.pageCnt,rj.elapsedTime,ftype)}else{ae(rj.msg,rj.dirCnt,rj.pageCnt,rj.elapsedTime,ftype)}break;case"memory":Shadowbox.close();cl(rj.msg);break;case"cancel":Shadowbox.close();if(buildLst=="V"){aS("Vpage build stopped by user","No files or directories were created.","center",117,540)}else{var ef=bA(rj.pageCnt);var d3=bA(dY);aS("Build stopped by user",ef+" of "+d3+" files were created.","center",117,540)}break;case"unbuild_cancel":Shadowbox.close();var eg=bA(rj.fcnt);var d6=bA(rj.dcnt);var d8=bA(rj.scnt);cu("Unbuild stopped by user","Removed "+eg+" pages, "+d6+" directories, and "+d8+" sitemap files.","center",117,640);break;case"unbuild_error":Shadowbox.close();cu("ERR:Problem Unbuilding",rj.msg,"center",117,540);break;case"unbuild_ok":Shadowbox.close();aG(d5);break;case"html_ok":Shadowbox.close();dirtyBR=false;a5(d5,"html",d0);break;case"cloud_ok":bO("cloud_3");setTimeout(function(){MpcCpanel.ajaxCloud(d5)},10);dl();break;case"text_ok":bO("build_t3");dirtyAR=false;dirtyAZ=false;dirtyAT=false;setTimeout(function(){MpcCpanel.ajaxZip(rj.pageCnt,rj.warning,rj.xzipcode)},10);dl();break}});return false};db.ajaxCloud=function(M){jQuery("#bnStopbuild").prop("disabled",true);c8("y32G58XX9",{build_result:M,buildLst:buildLst,region:mem_s3_region,theBucket:theBucket,mem_writeto:mem_writeto},function(dX){bPolling=false;if(dd){clearTimeout(dd)}try{rj=jQuery.parseJSON(dX)}catch(dW){alert("JSON error: y32G58XX9 \n"+dX+"\n"+dW);return false}switch(rj.status){case"error":Shadowbox.close();bx(rj.msg,rj.dirCnt,rj.pageCnt,rj.elapsedTime,"text");break;case"except":Shadowbox.close();var dU=rj.msg.substr(6);if((dU=="c")||(dU=="t")){by(rj.msg,rj.dirCnt,rj.pageCnt,rj.elapsedTime,"text")}else{ae(rj.msg,rj.dirCnt,rj.pageCnt,rj.elapsedTime,"text")}break;case"cancel":Shadowbox.close();var dY=bA(rj.pageCnt);var dV=bA(rj.bpCnt);aS("Build stopped by user",dY+" of "+dV+" files were zipped.","center",117,540);break;case"ok_cloud":Shadowbox.close();dirtyBR=false;a5(dX,"html","cloud");break;case"ex_error":Shadowbox.close();cu("ERR:S3 upload error",rj.msg,"center",117,540);break;default:Shadowbox.close();dirtyAR=true;dirtyAZ=true;dirtyAT=true;break}});return false};db.ajaxZip=function(dV,M,dU){c8("kFFX31XxX",{pageCnt:dV,warning_ajax:M,xzipcode_ajax:dU,itgz_ajax:iTgz},function(dZ){bPolling=false;if(dd){clearTimeout(dd)}try{rj=jQuery.parseJSON(dZ)}catch(dY){alert("JSON error: zip. \n"+dZ+"\n"+dY);return false}switch(rj.status){case"error":Shadowbox.close();dirtyAR=true;dirtyAZ=true;dirtyAT=true;bx(rj.msg,rj.dirCnt,rj.pageCnt,rj.elapsedTime,"text");break;case"except":Shadowbox.close();var dW=rj.msg.substr(6);if((dW=="c")||(dW=="t")){by(rj.msg,rj.dirCnt,rj.pageCnt,rj.elapsedTime,"text")}else{ae(rj.msg,rj.dirCnt,rj.pageCnt,rj.elapsedTime,"text")}break;case"cancel":Shadowbox.close();var d1=bA(rj.pageCnt);var dX=bA(rj.bpCnt);aS("Build stopped by user",d1+" of "+dX+" files were zipped.","center",117,540);break;case"ok_zip":Shadowbox.close();dirtyAR=false;var d0=((rj.errcnt_t!=0)||(rj.errcnt_s!=0));dirtyAZ=d0;dirtyAT=d0;a5(dZ,"text","text");break;default:Shadowbox.close();dirtyAR=true;dirtyAZ=true;dirtyAT=true;break}});return false};function bx(d2,M,dY,dZ,d1){var dU=bA(M);var d4=bA(dY);var dX;var dV;if(d1=="html"){dU+=(M==1)?" directory":" directories";d4+=(dY==1)?" page":" pages";dX=d4;dV=" pages"}else{d4+=(dY==1)?" article":" articles";dX=d4;dV=" articles"}var d3="";if(d2.substr(0,5)=="QMRK~"){var dW=d2.split("~",3);d3=dW[1];d2=dW[2]}var d0="";d0+='<div class="tab_content" style="color:'+theme.sberrColor+'" >';d0+='<div class="tab_hdr" style="text-align:center">';d0+="A problem occurred while building"+dV+".";d0+="</div>";d0+='<div style="height:30px;text-align:center;margin-bottom:15px;">'+d2+"</div>";d0+='<div style="text-align:center;margin-top:10px"><button class="sexybutton" onclick="Shadowbox.close()"><span><span>';d0+='<span class="accept">Continue</span></span></span></button>';d0+="</div>";d0+='<div style="margin-top:15px;font-size:11px">';d0+='<table style="width:100%">';d0+="<tr>";d0+='<td style="text-align:left">Elapsed: '+dZ+"</td>";d0+='<td style="text-align:right">Created: '+dX+"<td>";d0+="</tr>";d0+="</table>";d0+="</div>";d0+="</div>";Shadowbox.open({content:d0,title:"Build error",player:"html",handleOversize:"none",options:{qmarkTarget:d3,loadingColor:theme.sberrBgnd,bodyColor:theme.sberrBgnd,animate:settings.anim,onFinish:cI},height:170,width:500})}function by(d1,M,dX,dY,d0){var dU=bA(M);var d2=bA(dX);var dW;var dV;if(d0=="html"){dU+=(M==1)?" directory":" directories";d2+=(dX==1)?" page":" pages";dW=d2;dV=" pages"}else{d2+=(dX==1)?" article":" articles";dW=d2;dV=" articles"}var dZ="";dZ+='<div class="tab_content" style="color:'+theme.sberrColor+'" >';dZ+='<div class="tab_hdr" style="text-align:center">';dZ+="More than 24 hours have elapsed since logging in.";dZ+="</div>";dZ+='<div class="tab_hdr" style="text-align:center">';dZ+="Please click 'Reload Mpc' to start a new session.";dZ+="</div>";dZ+='<div style="text-align:center;margin-top:10px"><button class="sexybutton" onclick="goLogout();return false;"><span><span>';dZ+='<span class="reload">Reload Mpc</span></span></span></button>';dZ+="</div>";dZ+='<div style="margin-top:15px;font-size:11px">';dZ+='<table style="width:100%">';dZ+="<tr>";dZ+='<td style="text-align:left">Elapsed: '+dY+"</td>";dZ+='<td style="text-align:right">Created: '+dW+"<td>";dZ+="</tr>";dZ+="</table>";dZ+="</div>";dZ+="</div>";Shadowbox.open({content:dZ,title:"Session expired",player:"html",handleOversize:"none",options:{loadingColor:theme.sberrBgnd,bodyColor:theme.sberrBgnd,displayNav:0,animate:settings.anim,onFinish:cI},height:154,width:500})}function ae(d1,M,dX,dY,d0){var dU=bA(M);var d3=bA(dX);var dW;if(d0=="html"){dU+=(M==1)?" directory":" directories";d3+=(dX==1)?" page":" pages";dW=d3+",&nbsp;&nbsp;"+dU}else{d3+=(dX==1)?" article":" articles";dW=d3}var d2="";if(d1.substr(0,5)=="QMRK~"){var dV=d1.split("~",3);d2=dV[1];d1=dV[2]}var dZ="";dZ+='<div class="tab_content" style="color:'+theme.sberrColor+'" >';dZ+='<div style="height:90px;text-align:left;">'+d1+"</div>";dZ+='<div style="text-align:center;margin-top:5px"><button class="sexybutton" onclick="Shadowbox.close()"><span><span>';dZ+='<span class="accept">Continue</span></span></span></button>';dZ+="</div>";dZ+='<div style="font-size:11px;position:absolute;bottom:10px;left:20px">';dZ+="Elapsed: "+dY;dZ+="</div>";dZ+='<div style="font-size:11px;position:absolute;bottom:10px;right:20px">';dZ+="Created: "+dW;dZ+="</div>";dZ+="</div>";Shadowbox.open({content:dZ,title:"Build error (exception)",player:"html",handleOversize:"none",options:{qmarkTarget:d2,loadingColor:theme.sberrBgnd,bodyColor:theme.sberrBgnd,animate:settings.anim,onFinish:cI},height:170,width:500})}function cl(M){var dU="";dU+='<div class="dia-content" style="text-align:center;white-space:nowrap;font-size:14px;color:'+theme.sberrColor+'">';dU+="<p>"+M+"</p>";dU+='<div class="centerbtn">';dU+='<button class="sexybutton" onclick="Shadowbox.close()"><span><span>';dU+='<span class="accept">Continue</span></span></span>';dU+="</button>&nbsp;&nbsp;&nbsp;&nbsp;";dU+='<a href="https://masspagecreator.com/links.php?go=memLimit" target="_blank" class="sexybutton" title="Memory Limit FAQ"><span><span>';dU+='<span class="help">Help</span></span></span></a>';dU+="</div>";dU+="</div>";dU+='<div style="position:absolute;bottom:2px;right:4px;font-size:9px;color:'+theme.sberrColor+'">'+cp.memlimit+"</div>";Shadowbox.open({content:dU,title:"PHP exceeded memory limit",player:"html",handleOversize:"none",options:{loadingColor:"pink",bodyColor:"pink",animate:settings.anim,onFinish:cI},height:117,width:500})}db.cbUnbuildClicked=function(){if(jQuery("#ttlbusy").hasClass("busycss")){return}if(dL==0){return false}if((buildLst=="V")&&(mem_cntvu==0)){return}if(jQuery("#cbUnbuild").hasClass("fsel")){B(false)}else{B(true)}};function B(dU){iUnbuild=(dU)?1:0;jQuery("#cbUnbuild").toggleClass("fsel",dU);var M=jQuery("#buildlimit");M.css("opacity",(dU)?"0.3":"1.0");M.prop("disabled",dU);jQuery("#bnBH").toggleClass("sexyredtext",dU);jQuery("#unBH").html((dU)?"UnBuild Project":"Build Project");jQuery("#selHPO").css("display",(dU)?"none":"block")}function aG(dZ){var dU=jQuery.parseJSON(dZ);var dW=dU.pk_blue+" ("+dU.mb_blue+"M)";var dX=dU.pk_unbuild+" ("+dU.mb_unbuild+"M)";var dY=bA(dU.fcnt);var dV=bA(dU.dcnt);var M=bA(dU.scnt);var d0="";d0+='<div class="dia-content" style="text-align:center;font-size:14px">';d0+="<p>Removed "+dY+" pages, "+dV+" directories, and "+M+" sitemap files.</p>";d0+='<div class="centerbtn">';d0+='<button class="sexybutton" onclick="Shadowbox.close()"><span><span>';d0+='<span class="accept">Continue</span></span></span></button>';d0+='&nbsp;&nbsp;<button class="sexybutton" onclick="MpcCpanel.return2build(\'main\')"><span><span>';d0+='<span class="build">Return to Build</span></span></span></button>';d0+="</div>";d0+='<hr style="margin-top:20px;margin-bottom:5px">';d0+='<div style="text-align:left;font-size:10px">';d0+='<table style="">';d0+="<tr>";d0+="<td><b>Pass</b></td>";d0+='<td><div style="width:20px"</td>';d0+="<td><b>Elapsed Time</b></td>";d0+='<td><div style="width:20px"</td>';d0+="<td><b>Peak Memory</b></td>";d0+="</tr>";d0+="<tr>";d0+="<td>Blueprint</td>";d0+="<td>&nbsp;</td>";d0+="<td>"+dU.et_blue+"</td>";d0+="<td>&nbsp;</td>";d0+="<td>"+dW+"</td>";d0+="</tr>";d0+="<tr>";d0+="<td>UnBuild</td>";d0+="<td>&nbsp;</td>";d0+="<td>"+dU.et_unbuild+"</td>";d0+="<td>&nbsp;</td>";d0+="<td>"+dX+"</td>";d0+="</tr>";d0+="</table>";d0+='<hr style="margin-top:5px">';d0+="<b>Total Elapsed Time:</b> "+dU.et_total;d0+="</div>";d0+="</div>";Shadowbox.open({content:d0,title:"Unbuild complete",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:cI},height:200,width:640})}function cB(dY){var dU=jQuery.parseJSON(dY);var dW=dU.pk_unbuild+" ("+dU.mb_unbuild+"M)";var dX=bA(dU.fcnt);var dV=bA(dU.dcnt);var M=bA(dU.scnt);var dZ="";dZ+='<div class="dia-content" style="text-align:center;font-size:14px">';dZ+="<p>Removed "+dX+" vpages, "+dV+" directories, and "+M+" sitemap files.</p>";dZ+='<div class="centerbtn">';dZ+='<button class="sexybutton" onclick="Shadowbox.close()"><span><span>';dZ+='<span class="accept">Continue</span></span></span></button>';dZ+='&nbsp;&nbsp;<button class="sexybutton" onclick="MpcCpanel.return2build(\'main\')"><span><span>';dZ+='<span class="build">Return to Build</span></span></span></button>';dZ+="</div>";dZ+='<hr style="margin-top:20px;margin-bottom:5px">';dZ+='<div style="text-align:left;font-size:10px">';dZ+='<table style="">';dZ+="<tr>";dZ+="<td><b>Pass</b></td>";dZ+='<td><div style="width:20px"</td>';dZ+="<td><b>Elapsed Time</b></td>";dZ+='<td><div style="width:20px"</td>';dZ+="<td><b>Peak Memory</b></td>";dZ+="</tr>";dZ+="<tr>";dZ+="<td>UnBuild</td>";dZ+="<td>&nbsp;</td>";dZ+="<td>"+dU.et_unbuild+"</td>";dZ+="<td>&nbsp;</td>";dZ+="<td>"+dW+"</td>";dZ+="</tr>";dZ+="</table>";dZ+='<hr style="margin-top:5px">';dZ+="<b>Total Elapsed Time:</b> "+dU.et_unbuild;dZ+="</div>";dZ+="</div>";Shadowbox.open({content:dZ,title:"Vpage Unbuild complete",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:cI},height:188,width:640})}db.return2build=function(M){Shadowbox.close(true);setTimeout(function(){MpcCpanel.mainBuildPages(1,M)},10)};function a5(d7,dY,d3){var d5=jQuery.parseJSON(d7);boxtitle="Build completed";if(dY=="html"){if(buildLst=="L"){boxtitle="Live build complete"}if(buildLst=="C"){boxtitle="Cloud build complete"}if(buildLst=="T"){boxtitle="Tar build complete"}if(buildLst=="V"){boxtitle="Virtual page build complete";vFolder=d5.vFolder}}var d8=d5.pk_blue+" ("+d5.mb_blue+"M)";var d4=d5.pk_build+" ("+d5.mb_build+"M)";var d9=186;if(d5.status=="ok_cloud"){var d0=d5.pk_cloud+" ("+d5.mb_cloud+"M)";d9+=12}var dU="Zip";if(d5.status=="ok_zip"){if(d5.itgz==1){dU="Tar"}var ea=d5.pk_zip+" ("+d5.mb_zip+"M)";d9+=12}var dX="none";var dW="none";var dV="none";var M="none";var d2="";var d1=0;var d6=d5.msg;if(dY=="text"){if(d5.errcnt_t||d5.errcnt_s){dX="block";d2='disabled="disabled"';d1++}else{if(d5.dupcnt_t||d5.dupcnt_s){dW="block";d1++}}}if((d5.warning==1)&&(dX=="none")){d1++;dV="block"}if((d5.xzipcode==1)&&(dX=="none")){d1++;M="block"}if(d1==1){d9+=19}if(d1==2){d9+=40}if(d1==3){d9+=61}str='<div class="dia-content" style="text-align:center;font-size:14px;padding-top:10px">';str+='<div class="dia-status warnn" style="visibility:visible;margin-bottom:2px;display:'+dX+'">Found Article Errors. Click [Article Report] for details.</div>';str+='<div class="dia-status" style="visibility:visible;margin-bottom:2px;display:'+dW+'">Found Article Duplicates. Click [Article Report] for details.</div>';str+='<div class="dia-status" style="visibility:visible;margin-bottom:2px;display:'+dV+'">Found Spintax Notices. Click [Spintax] for details.</div>';str+='<div class="dia-status" style="visibility:visible;margin-bottom:2px;display:'+M+'">Some Zipcodes Missing. Click [Zipcode] for details.</div>';str+='<div style="margin:10px 0 0">'+d6+".</div>";str+='<div class="centerbtn">';if(dY=="html"){if(buildLst=="T"){str+='<button class="sexybutton title="" onclick="MpcCpanel.go_diaRemote();return false;"';str+='title="Access Utility to Upload Tar file">';str+='<span><span><span class="antenna">Remote Server Utility</span></span></span>';str+="</button>&nbsp;&nbsp;"}else{if(d3=="htmlSO"){str+='<button class="sexybutton title="" onclick="Shadowbox.close();">';str+='<span><span><span class="accept">Continue</span></span></span>';str+="</button>"}else{str+='<button class="sexybutton title="" onclick="MpcCpanel.viewReportH();return false;">';str+='<span><span><span class="search">View Page Report</span></span></span>';str+="</button>"}}}else{var dZ=(iTgz==1)?"article.tar.gz":"article.zip";str+='<a href="'+cp.auxdir+"/"+dZ+'" class="sexybutton" '+d2+' title="Download Articles file for use with Wordpress." onclick="Shadowbox.close();return true;">';str+='<span><span><span class="dload">Download '+dZ+"</span></span></span></a>&nbsp;&nbsp;";str+='<button class="sexybutton title="View Article report" onclick="MpcCpanel.viewReportT();return false;">';str+='<span><span><span class="search">Article Report</span></span></span>';str+="</button>"}if(dV=="block"){str+='&nbsp;&nbsp;<button class="sexybutton" title="View list of spintax warnings"';str+='onclick="MpcCpanel.detailWindow();return false"><span><span>';str+='<span class="error">Spintax</span></span></span>';str+="</button>"}if(M=="block"){str+='&nbsp;&nbsp;<button class="sexybutton" title="View list of missing zipcodes"';str+='onclick="MpcCpanel.viewZ();return false"><span><span>';str+='<span class="error">Zipcode</span></span></span>';str+="</button>"}str+='&nbsp;&nbsp;<button class="sexybutton" onclick="MpcCpanel.return2build(\'main\')"><span><span>';str+='<span class="build">Return to Build</span></span></span></button>';str+="</div>";str+='<hr style="margin-top:20px;margin-bottom:5px">';str+='<div style="text-align:left;font-size:10px">';str+='<table style="">';str+="<tr>";str+="<td><b>Pass</b></td>";str+='<td><div style="width:20px"</td>';str+="<td><b>Elapsed Time</b></td>";str+='<td><div style="width:20px"</td>';str+="<td><b>Peak Memory</b></td>";str+="</tr>";str+="<tr>";str+="<td>Blueprint</td>";str+="<td>&nbsp;</td>";str+="<td>"+d5.et_blue+"</td>";str+="<td>&nbsp;</td>";str+="<td>"+d8+"</td>";str+="</tr>";str+="<tr>";str+="<td>Build</td>";str+="<td>&nbsp;</td>";str+="<td>"+d5.et_build+"</td>";str+="<td>&nbsp;</td>";str+="<td>"+d4+"</td>";str+="</tr>";if(d5.status=="ok_cloud"){str+="<tr>";str+="<td>Cloud</td>";str+="<td>&nbsp;</td>";str+="<td>"+d5.et_cloud+"</td>";str+="<td>&nbsp;</td>";str+="<td>"+d0+"</td>";str+="</tr>"}if(d5.status=="ok_zip"){str+="<tr>";str+="<td>"+dU+"</td>";str+="<td>&nbsp;</td>";str+="<td>"+d5.et_zip+"</td>";str+="<td>&nbsp;</td>";str+="<td>"+ea+"</td>";str+="</tr>"}str+="</table>";str+='<hr style="margin-top:5px">';str+="<b>Total Elapsed Time:</b> "+d5.et_total;str+="</div>";str+="</div>";Shadowbox.open({content:str,title:boxtitle,player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:S},height:d9,width:590})}function S(){cI();return false}db.go_diaRemote=function(){Shadowbox.close();db.diaRemote();setTimeout(function(){MpcCpanel.diaRemote()},50)};db.viewReportH=function(){var dU=((buildLst=="L")||(buildLst=="V"))?"../":(cp.auxdir+"/staging/");var dY=dU.length;var dX=(settings.force_ssl==1)?"https":cp.ssl;var dV=cp.theParentUrlCaret;if(buildLst=="C"){switch(mem_writeto){case"ama_storage":case"ama_website":var dW=aJ();var M=dX.length+3;dW=dW.substr(M);dV=dW.replace(/\./g,"^");break}}if(settings.sepw==0){reporth=cK.open(cp.auxdir+"/viewerRH.php?TESTING="+cp.testing+"&VER="+cp.ver+"&PERPAGE="+settings.perpage+"&DOM="+dV+"&SKIP="+dY+"&cloudval="+mem_writeto+"&LV="+buildLst+"&VDB="+vFolder+"&SSL="+dX)}else{reporth=cK.open(cp.auxdir+"/viewerRH.php?TESTING="+cp.testing+"&VER="+cp.ver+"&PERPAGE="+settings.perpage+"&DOM="+dV+"&SKIP="+dY+"&cloudval="+mem_writeto+"&LV="+buildLst+"&VDB="+vFolder+"&SSL="+dX,"reph","height="+screen.availHeight*0.9+", width="+screen.availWidth*0.95+", scrollbars=yes, resizable=yes")}reporth.focus()};db.viewReportT_if=function(){if(disAR){return}db.viewReportT()};db.viewReportT=function(){var M=cp.auxdir+"/article/";var dU=M.length;if(settings.sepw==0){reportt=cK.open(cp.auxdir+"/viewerRT.php?TESTING="+cp.testing+"&VER="+cp.ver+"&SKIP="+dU+"&iPOSTS="+iPostSelect)}else{reportt=cK.open(cp.auxdir+"/viewerRT.php?TESTING="+cp.testing+"&VER="+cp.ver+"&SKIP="+dU+"&iPOSTS="+iPostSelect,"rept","height="+screen.availHeight*0.9+", width="+screen.availWidth*0.95+", scrollbars=yes,resizable=yes")}reportt.focus()};db.viewZ=function(){if(settings.sepw==0){reportz=cK.open(cp.auxdir+"/viewerZIP.php?TESTING="+cp.testing+"&VER="+cp.ver)}else{reportz=cK.open(cp.auxdir+"/viewerZIP.php?TESTING="+cp.testing+"&VER="+cp.ver,"rept","height="+screen.availHeight*0.9+", width="+screen.availWidth*0.95+", scrollbars=yes,resizable=yes")}};function bV(){var M=(R)?cp.theDomainP.toUpperCase():"";var dU='<div class="dia-content noselect" onmousedown="MpcCpanel.hidePink();return true;">';dU+='<div class="dia-status" style="position:absolute;top:4px;left:6px;"></div>';dU+='<div id="ttlbusy" class="" style="position:absolute;top:10px;right:15px"></div>';dU+='<div id="cred1">';dU+='<table id="login">';dU+="<tr>";dU+='<td style="text-align:right"><label for="txEmail">Email</label></td>';dU+='<td style="text-align:center">&nbsp;&nbsp;<input type="text" name="txEmail" value="" id="txEmail" onkeyup="MpcCpanel.forceEmail(this);return false;"  />&nbsp;&nbsp;</td>';dU+='<td style="text-align:left" class="smallNote">name@example.com&nbsp;<scan class="warn">*</scan></td>';dU+="</tr>";dU+="<tr>";dU+='<td style="text-align:right"><label for="txLicense">License Key</label></td>';dU+='<td style="text-align:center"><input type="text" name="txLicense" id="txLicense" value="" onkeyup="MpcCpanel.forceKey(this);return false" /></td>';dU+='<td style="text-align:left" class="smallNote">xxxx-xxxx-xxxx-xxxx&nbsp;<scan class="warn">*</scan></td>';dU+="</tr>";dU+="<tr>";dU+='<td style="text-align:right"><label for="txPass">Password</label></td>';dU+='<td style="text-align:center">&nbsp;&nbsp;<input type="password" name="txPass" id="txPass" />&nbsp;&nbsp;</td>';dU+='<td style="text-align:left" class="smallNote">make up your own password</td>';dU+="</tr>";dU+="<tr>";dU+='<td style="text-align:right"><label for="txPass2">Re-type</label></td>';dU+='<td style="text-align:center">&nbsp;&nbsp;<input type="password" name="txPass2" id="txPass2"  />&nbsp;&nbsp;</td>';dU+='<td style="text-align:left" class="smallNote">verify password</td>';dU+="</tr>";dU+='<tr id="trpink">';dU+='<td style="text-align:right"><input id="mesh" type="checkbox" style="margin:0"></td>';dU+='<td colspan="2" style="text-align:left"><label for="mesh">&nbsp;&nbsp;If VA license, add your Commercial license as a \'Master key\'</label></td>';dU+="</tr>";dU+="</table>";dU+='<div style="text-align:left;margin-top:4px" class="footNote">';dU+="<table>";dU+="<tr>";dU+='<td><scan class="warn">*</scan>&nbsp</td>';dU+="<td>Be sure to click 'Test License Key' to check for typing errors before</td>";dU+="</tr>";dU+="<tr>";dU+="<td>&nbsp</td>";dU+="<td>clicking 'Build Credentials'. (Note: Demo now requires a License too).</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+='<div style="position:absolute;left:26px;bottom:20px;width:478px">';dU+='<table style="text-align:center">';dU+='<tr style="white-space:nowrap">';dU+='<td><button class="sexybutton bndis" onclick="return MpcCpanel.doTestkey()"';dU+='title="Test correctness of Email and Key before creating Credentials file">';dU+='<span><span><span class="lightning">Test License Key</span></span></span></button>';dU+="&nbsp;&nbsp;&nbsp;";dU+='<button class="sexybutton bndis" onclick="return MpcCpanel.doCreds()"';dU+='title="Create downloadable file for creating Login credentials">';dU+='<span><span><span class="lock_go">Build Credentials</span></span></span></button>';dU+="&nbsp;&nbsp;&nbsp;";dU+='<button class="sexybutton bndis" onclick="MpcCpanel.credGetKey();return false"';dU+='title="Purchase license key. Even Demo mode needs a key"><span><span>';dU+='<span class="key">Get License Key</span></span></span></button>';dU+="</td>";dU+="</tr></table>";dU+="</div>";dU+="</div>";dU+='<div id="cred2" class="popup12" style="display:none">';dU+='A credential file named <span style="font-weight:bold;color:#c00000">credentials.zip</span> has been created.';dU+="<p>";dU+="To gain access to the Mpc Control Panel, you must install the credential file into your Mpc folder as follows:";dU+="</p>";dU+='<div style="margin-bottom:5px">';dU+='1. Click this link to <a href="'+cp.credDir+'credentials.zip"><b>download the credential file to your computer</b></a>.<br>';dU+="</div>";dU+="2. Using FTP or File Manager, upload the credential file to your Mpc folder:<br>";dU+='<table style="width:100%><tr><td style="text-align:center">';dU+='<div style="margin:4px 0 20px;text-align:center">';dU+='<scan style="font-weight:bold">'+cp.thePath+'<scan style="color:#c00000">credentials.zip</scan></scan>';dU+="</div>";dU+="</td></tr></table>";dU+="Then click 'Reload Mpc' (or restart your web browser and re-connect to Mpc).";dU+="</p>";dU+='<div style="position:absolute;left:102px;bottom:20px;width:326px">';dU+='<table style="width:100%">';dU+='<tr><td style="text-align:center">';dU+='<button class="sexybutton" onclick="return MpcCpanel.doBack()"><span>';dU+='<span><span class="arrow_left">Go Back</span></span></span></button>';dU+="&nbsp;&nbsp;&nbsp;";dU+='<button class="sexybutton" onclick="return MpcCpanel.doRefresh()"><span>';dU+='<span><span class="reload">Reload Mpc</span></span></span></button>';dU+="&nbsp;&nbsp;&nbsp;";dU+='<button class="sexybutton" onclick="return MpcCpanel.doRefresh()">';dU+='<span><span><span class="cancel">Cancel</span></span></span></button>';dU+="</td></tr>";dU+="</table>";dU+="</div>";dU+="</div>";dU+="</div>";dU+='<div style="position:absolute;bottom:2px;left:4px;font-size:9px">'+M+"</div>";dU+='<div style="position:absolute;bottom:2px;right:4px;font-size:9px">'+cp.memlimit+"</div>";Shadowbox.open({content:dU,title:"Mpc Login Credentials",player:"html",handleOversize:"none",height:287,width:530,options:{loadingColor:theme.sbload,qmarkTarget:"credHelp",bodyColor:theme.sbbody,animate:settings.anim,onClose:db.doRefresh,onFinish:aA}})}function aA(){cI();bn("txEmail")}db.credGetKey=function(){help=cK.open("https://masspagecreator.com/links.php?go=getkey");return false};db.doTestkey=function(){var dU=jQuery("#txEmail").val();var M=jQuery("#txLicense").val();if(!cs(dU)){ad("pink","Invalid email. Cannot test key.");bn("txEmail");return false}if(M.length!=19){ad("pink","Invalid key. Cannot test.");bn("txLicense");return false}aj("ttlbusy");jQuery(".bndis").prop("disabled",true);c8("jea919XDx",{email_ajax:dU,key_ajax:M},function(dX){var dV=jQuery.parseJSON(dX);var dW=(dV.stat=="ok")?"lightgreen":"pink";ad(dW,dV.msg);ca("ttlbusy");jQuery(".bndis").prop("disabled",false);bn("txLicense")});return false};db.doCreds=function(){db.hideDiaStatus();var dY=jQuery("#txEmail").val();var dU=jQuery("#txLicense").val();var dW=jQuery("#txPass");var M=jQuery("#txPass2");var dZ=dW.val();var dX=M.val();if(!cs(dY)){ad("pink","Invalid email address");bn("txEmail");return false}var dV=/[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}/;if(!dV.test(dU)){ad("pink","License key invalid");bn("txLicense");return false}if(dZ.length<5){ad("pink","Password must be at least 5 characters");bn("txPass");return false}if(dZ.indexOf(" ")!=-1){ad("pink","Password cannot contain spaces");dW.val("");M.val("");bn("txPass");return false}if(dZ!=dX){ad("pink","Re-typed password doesn't match");dW.val("");M.val("");bn("txPass");return false}aj("ttlbusy");jQuery(".bndis").prop("disabled",true);var d0=(jQuery("#mesh").prop("checked"))?1:0;c8("ajax_ininew5",{email_ajax:dY,key_ajax:dU,pw_ajax:dZ,credDir_ajax:cp.credDir,mesh_ajax:d0},function(d2){var d1=jQuery.parseJSON(d2);switch(d1.status){case"nokey":ad("pink","Invalid key, click 'Get License'. All levels (including Demo) require a key.");bn("txLicense");break;case"mesh_no_va":ad("pink","Not a VA license. Cannot add your login.");aC(true);bn("txLicense");break;case"mesh_no_creds":ad("pink","Cannot add to VA license. No login found.");aC(true);bn("txLicense");break;case"mesh_not_owner":ad("pink","Cannot add to VA license. Commercial owner not found.");aC(true);bn("txLicense");break;case"ok":jQuery("#cred1").css("display","none");jQuery("#cred2").css("display","block");break}ca("ttlbusy");jQuery(".bndis").prop("disabled",false);return false});return false};db.doBack=function(){jQuery("#cred2").css("display","none");jQuery("#cred1").css("display","block");return false};function aC(M){jQuery("#trpink").css("background-color",(M)?"pink":"transparent")}db.hidePink=function(){db.hideDiaStatus();aC(false)};db.doRefresh=function(){var M=document.createElement("form");M.method="post";M.action=(R)?cp.theFname+"?wpress=1&bPlugin=1":cp.theFname;document.body.appendChild(M);M.submit()};db.diaRemote=function(){var M="";M+='<div class="dia-content noselect" style="padding:0;margin:0 0 0 20px;opacity:0.3" onmouseup="MpcCpanel.clrFtpResult();return true;">';M+='<div id="ttlbusy" class="busycss" style="position:absolute;top:10px;right:15px"></div>';M+='<div style="margin-top:10px;height:35px">Ftp Settings: <scan id="ftpNAME"></scan></div>';M+='<table><tr><td rowspan="2" style="vertical-align:top">';M+='<div class="pinstripe twrap" style="position:relative;width:440px;padding:0;margin:0;background-color:'+theme.sbload+'">';M+='<div class="FTPbox" style="width:410px;padding:8px 0 5px 15px">';M+='<table style="width:100%">';M+="<tr>";M+='<td colspan="5" style="text-align:left"><div style="margin:0;">FTP</div></td>';M+="</tr>";M+="<tr>";M+='<td colspan="5" style="text-align:left"><div class="lab11" style="margin-top:11px">Ftp Host (ftp.example.com)</div></td>';M+="</tr>";M+="<tr>";M+='<td colspan="5" style="text-align:left"><input id="ftphost" class="ftpi" type="text" /></td>';M+="</tr>";M+="<tr>";M+='<td style="text-align:left"><div class="lab11">Username</div></td>';M+='<td><div style="width:10px"></div></td>';M+='<td style="text-align:left"><div class="lab11">Password</div></td>';M+='<td><div style="width:10px"></div></td>';M+='<td style="text-align:left"><div class="lab11">Port</div></td>';M+="</tr>";M+="<tr>";M+='<td style="text-align:left"><input id="ftpuser" class="ftpi" type="text" /></td>';M+='<td><div style="width:10px"></div></td>';M+='<td style="text-align:left"><input id="ftppass" class="ftpi" type="password" /></td>';M+='<td><div style="width:10px"></div></td>';M+='<td style="text-align:left"><input id="ftpport" class="ftpi" type="text" /></td>';M+="</tr>";M+="<tr>";M+='<td colspan="5" style="text-align:left"><div class="lab11" style="margin-top:9px">Domain (example.com)</div></td>';M+="</tr>";M+="<tr>";M+='<td colspan="5" style="text-align:left"><input id="ftpdomain" class="ftpi" type="text" /></td>';M+="</tr>";M+="<tr>";M+='<td colspan="5">';M+="<table>";M+="<tr>";M+='<td style="text-align:left"><div class="lab11">Domain Root Folder</div></td>';M+="<td></td>";M+='<td style="text-align:left"><div class="lab11">Mpc Folder</div></td>';M+="</tr>";M+="<tr>";M+='<td style="text-align:left"><input id="ftproot" class="ftpi" type="text" /></td>';M+='<td><div style="width:10px;text-align:center">/</td>';M+='<td style="text-align:left"><input id="ftpmdir" class="ftpi" type="text" onkeyup="MpcCpanel.mdirKeyup(event);return false" /></td>';M+="</tr>";M+="</table>";M+="</td>";M+="</tr>";M+="</table>";M+='<div style="position:relative;margin:10px 0 5px 0;padding-bottom:0">';M+='<div id="ttlbusy_test" class="" style="position:absolute;top:10px;right:2px"></div>';M+='<table style="width:100%">';M+='<tr style="vertical-align:middle;white-space:nowrap">';M+='<td style="text-align:left;width:50px">';M+='<button class="sexybutton allbtn" onclick="MpcCpanel.submitFtpTest();return false;"';M+='title="Test FTP settings and Server capabilities">';M+='<span><span><span class="lightning">Test</span></span></span>';M+="</button>";M+="</td>";M+='<td style="width:20px"></td>';M+='<td style="width:220px">';M+='<div style="height:44px;position:relative">';M+='<div id="test_result_ftp" class="dia-status" style="position:absolute;top:0;left:2px"></div>';M+='<div id="test_result_ftp_solo" class="dia-status" style="position:absolute;top:12px;left:2px"></div>';M+='<div id="test_result_server" class="dia-status" style="position:absolute;top:25px;left:2px"></div>';M+="</div>";M+="</td>";M+='<td style="vertical-align:top;text-align:right">';M+='<div style="height:27px"></div>';M+='<div id="server_detail"></div>';M+="</td>";M+="</tr>";M+="</table>";M+="</div>";M+="</div>";M+='<div class="SAVbox" style="position:absolute;top:10px;left:15px;width:410px;visibility:hidden">';M+='<table style="width:100%">';M+="<tr>";M+='<td style="text-align:left"><div style="margin:0;">Enter name for FTP Settings file:</div></td>';M+="</tr>";M+="<tr>";M+='<td colspan="5" style="text-align:left"><div class="lab11">&nbsp;</div></td>';M+="</tr>";M+="<tr>";M+='<td style="text-align:left"><input id="ftpSaveName" type="text" onkeyup="MpcCpanel.snKeyup();return false" /></td>';M+="</tr>";M+="</table>";M+='<div style="text-align:left;margin-top:15px">';M+='<button id="bnSave" class="sexybutton" disabled="disabled" onclick="MpcCpanel.dosaveFTP();return false;"';M+='title="Save FTP settings to your computer">';M+='<span><span><span class="save">Save to Computer</span></span></span>';M+="</button>&nbsp;&nbsp;&nbsp;";M+="</div>";M+="</div>";M+='<div class="SAVbox" style="position:absolute;top:6px;right:17px;visibility:hidden">';M+='<button class="sexybutton" onclick="MpcCpanel.cancelFTP();return false;"';M+='title="">';M+='<span><span><span class="cancel">Cancel</span></span></span>';M+="</button>";M+="</div>";M+='<div class="LODbox" style="position:absolute;top:10px;left:15px;width:410px;visibility:hidden">';M+='<div style="margin:0 0 10px;">Load FTP Settings file from computer</div>';M+='<iframe id="ftpIframe" frameborder="0" width="410" height="100%"></iframe>';M+="</div>";M+='<div class="LODbox" style="position:absolute;top:6px;right:17px;visibility:hidden">';M+='<button class="sexybutton" onclick="MpcCpanel.cancelLOD();return false;"';M+='title="Cancel Load request">';M+='<span><span><span class="cancel">Cancel</span></span></span>';M+="</button>";M+="</div>";M+='<div class="ERRbox" style="position:absolute;top:10px;left:15px;width:410px;visibility:hidden">';M+='<div style="margin:0 0 15px;">Not a valid Ftp Settings file</div>';M+='<div style="text-align:left">';M+='<button class="sexybutton" onclick="MpcCpanel.contLOD();return false;"';M+='title="Back to Remote Server Utility">';M+='<span><span><span class="accept">Continue</span></span></span>';M+="</button>";M+="</div>";M+="</div>";M+='<div class="FTPbox" style="position:absolute;top:6px;right:17px">';M+='<button class="sexybutton allbtn" onclick="MpcCpanel.newFTP();return false;"';M+='title="Reset settings to defaults">';M+='<span><span><span class="page_white">New</span></span></span>';M+="</button>&nbsp;";M+='<button class="sexybutton allbtn" onclick="MpcCpanel.loadFTP();return false;"';M+='title="Load FTP settings from your computer">';M+='<span><span><span class="folder">Load</span></span></span>';M+="</button>&nbsp;";M+='<button class="sexybutton allbtn" onclick="MpcCpanel.writeFtpSettings();return false;"';M+='title="Apply FTP settings to Mpc memory (no save to computer)">';M+='<span><span><span class="add">Apply</span></span></span>';M+="</button>&nbsp;";M+='<button class="sexybutton allbtn" onclick="MpcCpanel.saveFTP();return false;"';M+='title="Save FTP settings to your computer">';M+='<span><span><span class="save">Save</span></span></span>';M+="</button>";M+="</div>";M+="</div>";M+='</td><td style="vertical-align:top">';if(cp.lt!="om"){return}M+='<div class="pinstripe twrap" style="position:relative;width:400px;padding:0;margin:0 0 0 10px;background-color:'+theme.sbload+'">';M+='<div class="FTPbox" style="width:370px;padding:8px 0 10px 15px">';M+='<table style="width:100%">';M+="<tr>";M+='<td colspan="3"><div style="margin:0">Upload Mpc file copies to Remote Server</div></td>';M+="</tr>";M+="<tr>";M+='<td colspan="3" style="text-align:left"><div class="lab11">Include the following selected items:</div></td>';M+="</tr>";M+="<tr>";M+='<td><div style="margin:2px 0"   class="ftx tdcopy selok fsel" id="ftx1" title="Main program ('+cp.theFname+')"';M+="onclick=\"MpcCpanel.ftxSelect('ftx1');return false;\">Mpc Program</div></td>";M+='<td><div style="margin:2px 4px" class="ftx tdcopy selok fsel" id="ftx2" title="Login Credentials ('+cp.trimFname+'_ini.php)"';M+="onclick=\"MpcCpanel.ftxSelect('ftx2');return false;\">Login Credentials</div></td>";M+='<td><div style="margin:2px 0"   class="ftx tdcopy selok"       id="ftx3" title="Project Source Files, List Boxes, and Settings"';M+="onclick=\"MpcCpanel.ftxSelect('ftx3');return false;\">Current Project</div></td>";M+="</tr>";M+="</table>";M+='<div style="position:relative;margin:8px 0 13px 0">';M+='<div id="ttlbusy_send" class="" style="position:absolute;top:0;right:2px"></div>';M+="<table>";M+='<tr style="vertical-align:middle">';M+='<td style="text-align:left;width:60px">';M+='<button id="bnSendFTP" class="sexybutton allbtn" onclick="MpcCpanel.submitFtpSend();return false;"';M+='title="Copy Mpc files to remote server">';M+='<span><span><span class="upload">Upload Mpc Files</span></span></span>';M+="</button>";M+="</td>";M+='<td style="width:24px"></td>';M+="</tr>";M+="</table>";M+="</div>";M+="</div>";M+='<div id="send_result" class="dia-status" style="position:absolute;bottom:2px;left:20px"></div>';M+="</div>";M+='</td></tr><tr><td style="vertical-align:bottom">';M+='<div class="pinstripe twrap" style="position:relative;width:400px;padding:0;margin:0 0 0 10px;background-color:'+theme.sbload+'">';M+='<div class="FTPbox" style="width:370px;padding:8px 0 10px 15px">';M+='<table style="width:100%">';M+="<tr>";M+='<td colspan="3"><div style="margin:0">Upload Tar compressed files to Remote Server</div></td>';M+="</tr>";M+="<tr>";M+='<td colspan="3" style="text-align:left"><div class="lab11">Include the following selected Tar files:</div></td>';M+="</tr>";M+="<tr>";M+='<td><div style="margin:2px 0" class="ftz tdcopy selok fsel" id="ftz1" title="Html Pages archive"';M+="onclick=\"MpcCpanel.ftxSelect('ftz1');return false;\">mpc-pages.tar.gz</div></td>";M+='<td style="width:10px"><div style="width:10px"></div></td>';M+='<td><div style="margin:2px 0" class="ftz tdcopy selok     " id="ftz2" title="Html Sitemaps archive"';M+="onclick=\"MpcCpanel.ftxSelect('ftz2');return false;\">mpc-sitemaps.tar.gz</div></td>";M+="</tr>";M+="</table>";M+='<div style="margin:8px 0 13px 0">';M+='<table style="width:100%">';M+='<tr style="white-space:nowrap">';M+='<td colspan="3">';M+='<table style="width:100%">';M+="<tr>";M+='<td style="text-align:left;width:120px">';M+='<button class="sexybutton allbtn" onclick="MpcCpanel.submitTar();return false;"';M+='title="Upload Tar files to Remote Server domain root directory">';M+='<span><span><span class="upload">Upload Tar Files</span></span></span>';M+="</button>";M+="</td>";M+='<td style="width:24px;text-align:center">';M+='<div id="ttlbusy_tar" class="" style=""></div>';M+="</td>";M+='<td style="text-align:right;width:120px">';M+="Download: ";M+='<a href="#" onclick="MpcCpanel.dloadTar(\'pages\');return false">Pages</a>';M+=" | ";M+='<a href="#" onclick="MpcCpanel.dloadTar(\'sitemaps\');return false">Sitemaps</a>';M+="</td>";M+="</tr>";M+="</table>";M+="</td>";M+="</tr>";M+="</table>";M+="</div>";M+='<div id="tar_result" class="dia-status" style="position:absolute;bottom:2px;left:15px"></div>';M+="</div>";M+="</td></tr></table>";M+="</div>";Shadowbox.open({content:M,title:"Remote Server Utility",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"remote",animate:settings.anim,onFinish:dy},height:335,width:896})};function dy(){aN("kFFX28XxX",{},function(M){cI();bG();jsettings=jQuery.parseJSON(M);jQuery("#ftz1").html(jsettings.smap_prefix+"-pages.tar.gz");jQuery("#ftz2").html(jsettings.smap_prefix+"-sitemaps.tar.gz");jQuery(".dia-content").css("opacity","1.0");ca("ttlbusy")})}function bG(){var M=ftpsettings.NAME;if(M==""){M="Untitled"}jQuery("#ftpNAME").html(M);jQuery("#ftphost").val(ftpsettings.ftphost);jQuery("#ftpuser").val(ftpsettings.ftpuser);jQuery("#ftppass").val(ftpsettings.ftppass);jQuery("#ftpdomain").val(ftpsettings.ftpdomain);jQuery("#ftpport").val(ftpsettings.ftpport);jQuery("#ftproot").val(ftpsettings.ftproot);jQuery("#ftpmdir").val(ftpsettings.ftpmdir)}function dJ(){jQuery(".allbtn").prop("disabled",true)}function bN(){jQuery(".allbtn").prop("disabled",false)}db.submitFtpTest=function(){dJ();aj("ttlbusy_test");setTimeout(function(){MpcCpanel._submitFtp("test")},100);return false};db.submitFtpSend=function(){dJ();aj("ttlbusy_send");setTimeout(function(){MpcCpanel._submitFtp("send")},100);return false};db.submitTar=function(){dJ();aj("ttlbusy_tar");setTimeout(function(){MpcCpanel._submitFtp("tar")},100);return false};db.dloadTar=function(M){aN("yCGedbXCx",{fname:"tar/"+jsettings.smap_prefix+"-"+M+".tar.gz"},function(dU){if(dU==1){location.href=cp.auxdir+"/tar/"+jsettings.smap_prefix+"-"+M+".tar.gz"}else{a("tar_result","pink","File not found: "+jsettings.smap_prefix+"-"+M+".tar.gz ")}},true)};db._submitFtp=function(M){var d2=jsettings.smap_prefix;var d4=0;if(jQuery("#ftz1").hasClass("fsel")){d4+=1}if(jQuery("#ftz2").hasClass("fsel")){d4+=2}if((M=="tar")&&(d4==0)){a("tar_result","pink","No file selected for upload");bN();ca("ttlbusy_tar");return false}var d5=jQuery("#ftphost").val();var dW=jQuery("#ftpuser").val();var d3=jQuery("#ftppass").val();var d0=jQuery("#ftproot").val();var dU=jQuery("#ftpport").val();var d1=jQuery("#ftpmdir").val();var dV=jQuery("#ftpdomain").val();var dZ=(jQuery("#ftx1").hasClass("fsel"))?1:0;var dY=(jQuery("#ftx2").hasClass("fsel"))?1:0;var dX=(jQuery("#ftx3").hasClass("fsel"))?1:0;if(M=="test"){dV=dV.trim();if(dV==""){a("test_result_ftp_solo","pink","Required for server capability check");jQuery("#ftpdomain").toggleClass("warnn",true);bN();jQuery("#bnSendFTP").prop("disabled",!jQuery(".ftx").hasClass("fsel"));ca("ttlbusy_test");return false}if(d0==""){a("test_result_ftp_solo","pink","Required for server capability check");jQuery("#ftproot").toggleClass("warnn",true);bN();jQuery("#bnSendFTP").prop("disabled",!jQuery(".ftx").hasClass("fsel"));ca("ttlbusy_test");return false}}aN("ajax_ftp_"+M,{parm_host:d5,parm_user:dW,parm_pass:d3,parm_root:d0,parm_port:dU,parm_mdir:d1,trimFname:cp.trimFname,parm_domain:dV,ftx1:dZ,ftx2:dY,ftx3:dX,px:d2,sv:d4},function(d7){ca("ttlbusy_"+M);var d8;var ed="pink";var ee;var eb="pink";rj=jQuery.parseJSON(d7);switch(rj.msg){case"ok_test":ed="lightgreen";d8="Successful Ftp Connection";switch(rj.msg_curl){case"err":ee="Could not run Server test";jQuery("#ftpdomain").toggleClass("warnn",true);jQuery("#ftproot").toggleClass("warnn",true);jQuery("#ftpmdir").toggleClass("warnn",true);break;case"iswww":ee="Root folder not found";jQuery("#ftproot").toggleClass("warnn",true);break;case"mk_mdir":ee="Cannot create mpc folder";break;case"cd_mdir":ee="Cannot cd to mpc folder";break;case"mk_aux":ee="Cannot cd to aux folder";break;case"wtest":ee="Cannot write server test file";break;case"ok":if(rj.cap=="advanced"){eb="lightgreen";ee="Server will run Advanced Mpc";break}if(rj.cap=="legacy"){eb="gold";ee="Server limited to Legacy Mpc";break}if(rj.cap=="none"){ee="Server PHP too old to run Mpc";break}break}break;case"ok_send":ed="lightgreen";if(dX==1){d8="Success. Restart remote to complete upload"}else{d8="Upload Successful"}break;case"ok_tar1":ed="lightgreen";d8="Pages tarfile uploaded to domain Root Folder";break;case"ok_tar2":ed="lightgreen";d8="Sitemaps tarfile uploaded to domain Root Folder";break;case"ok_tar3":ed="lightgreen";d8="Both tarfiles uploaded to domain Root Folder";break;case"tarwrite1":d8="Unable write Pages tar file";break;case"tarwrite2":d8="Unable write Sitemaps tar file";break;case"tarwrite3":ed="gold";d8="Page tar uploaded, but Sitemap tar failed";break;case"nopagetar":d8="Page tar file not found";break;case"nomaptar":d8="Sitemap tar file not found";break;case"nomaptar3":ed="gold";d8="Page tar uploaded, but Sitemap file not found";break;case"connect":d8="Unable to connect";jQuery("#ftphost").toggleClass("warnn",true);jQuery("#ftpport").toggleClass("warnn",true);break;case"login":d8="Login authentication error";jQuery("#ftpuser").toggleClass("warnn",true);jQuery("#ftppass").toggleClass("warnn",true);break;case"iswww":d8="Root folder not found";jQuery("#ftproot").toggleClass("warnn",true);break;case"nowww":d8="Root folder not given";jQuery("#ftproot").toggleClass("warnn",true);break;case"nompc":d8="Mpc folder not given";jQuery("#ftpmdir").toggleClass("warnn",true);break;case"mk_mdir":d8="Cannot create mpc folder";break;case"werr":d8="Cannot write to mpc folder";break;case"cd_mdir":d8="Cannot cd to mpc folder";break;case"mk_aux":d8="Cannot cd to aux folder";break;case"ftx1_prg":d8="Cannot write "+cp.theFname;break;case"ftx1_set":d8="Cannot write Mpc Settings";break;case"ftx2":d8="Cannot write Credentials file";break;case"ftx3_src":d8="Cannot write Source Files";break;case"ftx3_box":d8="Cannot write List Boxes";break;case"ftx3_set":d8="Cannot write Project Settings";break}if(M=="test"){if(ed!="lightgreen"){a("test_result_ftp_solo",ed,d8)}else{a("test_result_ftp",ed,d8);a("test_result_server",eb,ee);if((rj.msg_curl=="ok")&&(rj.cap!="advanced")){var ea={};ea.cap=rj.cap;ea.ver=rj.ver;ea.sql=rj.sql;ea.bin=rj.bin;var d6=JSON.stringify(ea);var d9=encodeURIComponent(d6);var ec=jQuery("#server_detail");ec.html('<a href="http://masspagecreator.com/ck/servercap.php?parm='+d9+'" target="_blank">Server Details</a>&nbsp;');ec.css("visibility","visible")}}}else{a(M+"_result",ed,d8)}bN();jQuery("#bnSendFTP").prop("disabled",!jQuery(".ftx").hasClass("fsel"))});return false};db.newFTP=function(){jQuery("#ftpNAME").html("Untitled");jQuery("#ftphost").val("");jQuery("#ftpuser").val("");jQuery("#ftppass").val("");jQuery("#ftpdomain").val("");jQuery("#ftpport").val("21");jQuery("#ftproot").val("public_html");jQuery("#ftpmdir").val("mpc")};db.loadFTP=function(){browse_cmd="ftp";jQuery(".FTPbox").css("visibility","hidden");jQuery(".LODbox").css("visibility","visible");var M=encodeURIComponent(theme.text);var dU=encodeURIComponent(theme.sbload);var dV=theme.linkAsc;jQuery("#ftpIframe").attr("src",cp.auxdir+"/uploader.php?cmd=ftp&thm_sbload="+dU+"&thm_sbbody=none&thm_text="+M+"&VER="+cp.ver+"&TESTING="+cp.testing+"&psk="+dV)};db.cancelLOD=function(){jQuery(".LODbox").css("visibility","hidden");jQuery(".FTPbox").css("visibility","visible");jQuery("#ftpIframe").attr("src","")};function dx(dU){var M=false;aN("jbG41bX7E",{fname:dU},function(dW){try{fj=jQuery.parseJSON(dW)}catch(dV){M=true}if(!M){if(fj.SIG=="MassPageCreator Ftp"){ftpsettings=jQuery.parseJSON(dW);bG();db.writeFtpSettings();jQuery(".LODbox").css("visibility","hidden");jQuery(".FTPbox").css("visibility","visible");jQuery("#ftpIframe").attr("src","")}else{M=true}}if(M){jQuery(".LODbox").css("visibility","hidden");jQuery(".ERRbox").css("visibility","visible");jQuery("#ftpIframe").attr("src","")}})}db.contLOD=function(){jQuery(".ERRbox").css("visibility","hidden");jQuery(".FTPbox").css("visibility","visible")};db.writeFtpSettings=function(){var M=jQuery("#ftpNAME").html();if(M=="Untitled"){M=""}ftpsettings.NAME=M;ftpsettings.ftphost=jQuery("#ftphost").val();ftpsettings.ftpuser=jQuery("#ftpuser").val();ftpsettings.ftppass=jQuery("#ftppass").val();ftpsettings.ftpdomain=jQuery("#ftpdomain").val();ftpsettings.ftpport=jQuery("#ftpport").val();ftpsettings.ftproot=jQuery("#ftproot").val();ftpsettings.ftpmdir=jQuery("#ftpmdir").val();var dU=JSON.stringify(ftpsettings);aN("j9ad1eXdD",{parm_ajax:dU},function(dV){})};db.saveFTP=function(){jQuery(".FTPbox").css("visibility","hidden");jQuery(".SAVbox").css("visibility","visible");jQuery("#ftpSaveName").val(ftpsettings.NAME);if(ftpsettings.NAME!=""){jQuery("#bnSave").prop("disabled",(ftpsettings.NAME==""))}};db.snKeyup=function(){jQuery("#bnSave").prop("disabled",(jQuery("#ftpSaveName").val()==""))};db.dosaveFTP=function(){var dW=jQuery("#ftpSaveName").val();var dV=dW.substr(-4);if(dV.toLowerCase()!=".txt"){dW+=".txt"}jQuery("#ftpNAME").html(dW);db.writeFtpSettings();var dX=JSON.stringify(ftpsettings);var M="<?php\n$ftpjstr = '"+dX+"';\n?>\n";var dU=new Blob([M],{type:"text/plain;charset-utf-8"});saveAs(dU,dW);db.cancelFTP()};db.cancelFTP=function(){jQuery(".SAVbox").css("visibility","hidden");jQuery(".FTPbox").css("visibility","visible")};db.clrFtpResult=function(){jQuery("#server_detail").css("visibility","hidden");db.hideDiaStatus();jQuery(".ftpi").toggleClass("warnn",false)};db.ftxSelect=function(M){jQuery("#"+M).toggleClass("fsel");jQuery("#bnSendFTP").prop("disabled",!jQuery(".ftx").hasClass("fsel"))};db.mdirKeyup=function(dU){var M=jQuery("#ftpmdir");var dV=M.val();M.val(dV.replace(/\//g,""));db.hideDiaStatusK(event)};function cE(){var M='<div class="dia-content">';M+='<div style="font-size:16px;text-align:center">Welcome to MassPageCreator!</div>';M+="<br />Mpc is currently licensed for <b>DEMO</b> operation.";M+="<br /><br />The following restrictions are in place:";M+="<ul>";M+="<li>Limited Build cycle (10 page maximum).</li>";M+="<li>No Shortcode access in the Mpc Editor.</li>";M+='<li>"Grab All Files" disabled in Grab New.</li>';M+="<li>Text spinning disabled (except in Editor Preview).</li>";M+="</ul>";M+="If you upgraded your license, click 'Reload Mpc' to login at the new level.";M+='<div class="centerbtn">';M+="<a href="+linkDEMO+' class="sexybutton" title="Purchase License Key"><span><span>';M+='<span class="cart">Upgrade License</span></span></span></a>&nbsp;&nbsp;&nbsp;&nbsp;';M+='<button class="sexybutton" onclick="Shadowbox.close()"><span><span>';M+='<span class="accept">Continue Demo</span></span></span></button>&nbsp;&nbsp;&nbsp;&nbsp;';M+='<button class="sexybutton" onclick="goLogout();return false">';M+='<span><span><span class="reload">Reload Mpc</span></span></span></button>';M+="</div>";M+="</div>";M+="</div>";Shadowbox.open({content:M,title:"Demo mode notice",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:cI},height:273,width:570})}db.diaProximity=function(){for(x=1;x<6;x++){ar_cust[x-1]=(jQuery("#txPath"+x).val()=="")?"path"+x:jQuery("#txPath"+x).val()}var M=(cp.lt=="om")?"":'&nbsp;&nbsp;&nbsp;&nbsp;<span class="ttlgold">DEMO: Only 5 city characters are shown</span>';var dU="";dU+='<div class="dia-content noselect" style="padding:20px 0 0 15px spellcheck="false" onmousedown="MpcCpanel.hideDiaStatusPink();return true">';dU+='<div class="dia-status" style="position:absolute;bottom:23px;right:15px;"></div>';dU+='<div id="ttlbusy" class="busycss" style="position:absolute;bottom:20px;right:15px"></div>';dU+='<div id="wrap" style="opacity:0.3">';dU+='<table style="width:497px">';dU+="<tr>";dU+='<td style="text-align:left">';dU+='<div class="pinstripe twrap px_left" style="width:328px;padding:5px 0 8px 10px;margin:0 13px 15px 0">';dU+='<table style="width:318px">';dU+='<tr style="white-space:nowrap">';dU+='<td style="font-weight:normal;font-size:12.8px"><div style="margin:0 0 3px 0;font-weight:bold">Target and Radius</div></td>';dU+="<td></td>";dU+='<td style="width:50px">';dU+='<div class="btnchk">';dU+='<label for="px_itarget" id="lab_px_itarget" class="btnchk selok"';dU+=">Include Target";dU+='<input id="px_itarget" type="checkbox" class="btnchk gbtn" onchange="MpcCpanel.btnchk_click(\'px_itarget\')" />';dU+="</label>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+='<tr><td colspan="3"><div style="height:3px"></div></td></tr>';dU+="<tr>";dU+='<td colspan="3">';dU+='<table style="width:318px">';dU+="</tr>";dU+='<td style="width:40px;text-align:right">Radius:&nbsp;</td>';dU+='<td style="width:40px">';dU+="<div>";dU+='<input id="px_radius" style="font-size:14px;width:40px;margin-right:4px" class="roundpad2024 epink inp12" type="text" value="" ';dU+='onkeyup="MpcCpanel.forceDigits(this);return false" />';dU+="</div>";dU+="</td>";dU+="<td>";dU+='<select id="px_mkm" class="epink nearby" size="1" style="">';dU+='<option value="m">miles</option>';dU+='<option value="k">km</option>';dU+="</select>";dU+="</td>";dU+="<td></td>";dU+="</tr>";dU+='<tr><td colspan="4"><div style="height:5px"></div></td></tr>';dU+="<tr>";dU+='<td style="text-align:right">Country:&nbsp;</td>';dU+='<td colspan="3" style="text-align:left">';dU+='<select id="px_country" style="width:100%" onchange="MpcCpanel.px_coChange()" class="nearby epink" size="1">';dU+='<option value=""></option>';dU+="</select>";dU+="</td>";dU+="</tr>";dU+='<tr><td colspan="4"><div style="height:5px"></div></td></tr>';dU+="</tr>";dU+='<td style="text-align:right">Region:&nbsp;</td>';dU+='<td colspan="3" style="text-align:left">';dU+='<select id="px_region" style="width:100%" onchange="MpcCpanel.px_stChange()" class="nearby px_cs epink" size="1">';dU+='<option value="">Select a region</option>';dU+="</select>";dU+="</td>";dU+="</tr>";dU+='<tr><td colspan="4"><div style="height:5px"></div></td></tr>';dU+="</tr>";dU+='<td style="text-align:right">City:&nbsp;</td>';dU+='<td colspan="3" style="text-align:left">';dU+='<select id="px_city" style="width:100%" class="nearby epink px_cs forced_none" size="1">';dU+='<option value=""></option>';dU+="</select>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+="</td>";dU+='<td rowspan="3" style="text-align:right;vertical-align:top">';dU+='<div id="pin_auto" class="pinstripe twrap" style="width:328px;height:363px;padding:5px 0 8px 10px;margin:0;position:relative">';dU+='<div class="avis px_au_avis" style="visibility:hidden;position:absolute;bottom:8px;left:11px"';dU+='title="Erase list" onclick="MpcCpanel.pxErase();">ERASE</div>';dU+='<div class="avis px_au_avis" style="visibility:hidden;position:absolute;bottom:8px;left:73px"';dU+='title="Fix list format" onclick="MpcCpanel.pxClean();">CLEAN</div>';dU+='<div id="px_full" class="avis px_au_avis" style="visibility:hidden;position:absolute;bottom:8px;right:12px" onclick="MpcCpanel.pxToggFull();">SET FULL</div>';dU+='<table id="tbl_auto" style="width:318px">';dU+='<tr style="white-space:nowrap">';dU+='<td style="text-align:left;font-weight:normal;font-size:12.8px"><div style="margin:0 0 3px 0;font-weight:bold">Auto Targets</div></td>';dU+="<td></td>";dU+='<td style="width:50px;text-align:right">';dU+='<div class="btnchk">';dU+='<label for="px_auto" id="lab_px_auto" class="btnchk selok"';dU+=">Automation";dU+='<input id="px_auto" type="checkbox" class="btnchk gbtn" onchange="MpcCpanel.btnchk_click(\'px_auto\')" />';dU+="</label>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="<tr>";dU+='<td colspan="3">';dU+='<div id="div_auto" style="width:308px;margin-top:5px">';dU+='<textarea id="px_alist" title="city , region [, radius [, cmp [, value ]]]"';dU+='class="noselect epink" spellcheck="false" />';dU+="</textarea>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="<tr>";dU+='<td style="text-align:left">';dU+='<div class="pinstripe twrap px_left" style="width:328px;padding:5px 0 8px 10px;margin:0 0 15px">';dU+='<table style="width:318px">';dU+="<tr>";dU+='<td style="text-align:left;font-weight:normal;font-size:12.8px"><div style="margin:0 0 9px 0;font-weight:bold">List Output</div></td>';dU+='<td style="text-align:right;width:50px">';dU+='<div class="btnchk">';dU+='<label for="px_pop" id="lab_px_pop" class="btnchk selok"';dU+=">Population";dU+='<input id="px_pop" type="checkbox" class="btnchk gbtn" onchange="MpcCpanel.btnchk_click(\'px_pop\')" />';dU+="</label>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="<tr>";dU+='<td colspan="2">';dU+="<table>";dU+="<tr>";dU+='<td style="width:40px;text-align:right">SaveTo:&nbsp;</td>';dU+='<td colspan="5" style="width:40px">';dU+='<select id="px_dest" class="epink nearby" size="1" style="">';dU+='<option value="0">-- select --</option>';for(x=1;x<6;x++){dU+='<option value="'+x+'">'+ar_cust[x-1]+"</option>"}dU+="</select>";dU+="</td>";dU+="</tr>";dU+='<tr><td colspan="6"><div style="height:5px"></div></td></tr>';dU+="<tr>";dU+='<td style="width:40px;text-align:right">Format:&nbsp;</td>';dU+='<td style="width:50px">';dU+='<div class="btnchk">';dU+='<label for="px_silo" id="lab_px_silo" class="btnchk selok"';dU+=">Silo";dU+='<input id="px_silo" type="checkbox" class="btnchk gbtn solo_px_silo solo_px_folder" onchange="MpcCpanel.btnchk_click(\'px_silo\')" />';dU+="</label>";dU+="</div>";dU+="</td>";dU+='<td style="width:50px">';dU+='<div style="margin-left:4px" class="btnchk">';dU+='<label for="px_folder" id="lab_px_folder" class="btnchk selok"';dU+=">Folder";dU+='<input id="px_folder" type="checkbox" class="btnchk gbtn solo_px_silo solo_px_folder" onchange="MpcCpanel.btnchk_click(\'px_folder\')" />';dU+="</label>";dU+="</div>";dU+="</td>";dU+='<td colspan="2" style="width:50px">';dU+='<div style="margin-left:4px" class="btnchk">';dU+='<label for="px_locase" id="lab_px_locase" class="btnchk selok"';dU+=">Lowcase";dU+='<input id="px_locase" type="checkbox" class="btnchk gbtn" onchange="MpcCpanel.btnchk_click(\'px_locase\')" />';dU+="</label>";dU+="</div>";dU+="</td>";dU+='<td style="width:70px"></td>';dU+="</tr>";dU+='<tr><td colspan="4"><div style="height:5px"></div></td></tr>';dU+="<tr>";dU+='<td style="text-align:right">PopLimit:&nbsp;</td>';dU+='<td style="width:30px">';dU+="<div>";dU+='<select id="px_popmm" class="epink nearby px_popopc" size="1" disabled="disabled" style="opacity:0.3">';dU+='<option value="min">Min</option>';dU+='<option value="max">Max</option>';dU+="</select>";dU+="</div>";dU+="</td>";dU+='<td colspan="2">';dU+='<div style="margin-left:4px">';dU+='<input id="px_poplim" style="font-size:14px;margin:0;padding-bottom:3px;opacity:0.3"';dU+='class="roundpad2024 epink inp12 px_popopc" type="text" value="" ';dU+='onkeyup="MpcCpanel.forceDigitsC(this);return false" />';dU+="</div>";dU+="</td>";dU+='<td style="width:4px"></td>';dU+="<td></td>";dU+="</tr>";dU+="</table>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="<tr>";dU+='<td style="text-align:left">';dU+='<div class="pinstripe twrap px_left" style="width:328px;padding:5px 0 8px 10px;margin:0 13px 0 0">';dU+='<table style="width:318px">';dU+='<tr style="white-space:nowrap">';dU+='<td colspan="2" style="font-weight:normal;font-size:12.8px"><div style="margin:0 0 3px 0;font-weight:bold">Path Formulas</div></td>';dU+="<td></td>";dU+='<td style="width:50px">';dU+='<div class="btnchk">';dU+='<label for="px_formula" id="lab_px_formula" class="btnchk selok"';dU+=">Add Formulas";dU+='<input id="px_formula" type="checkbox" class="btnchk gbtn" onchange="MpcCpanel.btnchk_click(\'px_formula\')" />';dU+="</label>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+='<tr><td colspan="3"><div style="height:3px"></div></td></tr>';dU+='<tr style="white-space:nowrap">';dU+='<td style="width:50px">CompareTo:&nbsp;</td>';dU+='<td colspan="2" style="text-align:left">';dU+='<select id="px_fpath" class="epink nearby px_opc" disabled="disabled" size="1" style="opacity:0.3">';dU+='<option value="0">-- select --</option>';for(x=1;x<6;x++){dU+='<option value="'+x+'">'+ar_cust[x-1]+"</option>"}dU+="</select>";dU+="</td>";dU+="<td></td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+='<table style="width:497px">';dU+="<tr>";dU+='<td style="width:318px;text-align:left">';dU+='<div class="pinstripe twrap" style="width:328px;padding:0 10px 0 0;margin:0 13px 0 0;border:2px solid transparent;border-width:0 4px 0 0">';dU+='<div style="margin:15px 0 0">';dU+='<button class="sexybutton gbtn" onclick="MpcCpanel.acceptPX(\'ov\');return false;" disabled="disabled"';dU+='title="Generate and Overwrite list. Save dialog settings">';dU+='<span><span><span class="accept">Overwrite</span></span></span>';dU+="</button>&nbsp;&nbsp;";dU+='<button class="sexybutton gbtn" onclick="MpcCpanel.acceptPX(\'ap\');return false;" disabled="disabled"';dU+='title="Generate and Append list. Save dialog settings">';dU+='<span><span><span class="accept_blue">Append</span></span></span>';dU+="</button>&nbsp;&nbsp;";dU+='<button class="sexybutton gbtn" onclick="MpcCpanel.savePx();return false;" disabled="disabled"';dU+='title="Save dialog settings">';dU+='<span><span><span class="save">Save</span></span></span>';dU+="</button>";dU+="</div>";dU+="</div>";dU+="</td>";dU+="<td>";dU+='<div id="progPX" style="text-align:left;padding-top:15px;visibility:hidden">';dU+='<div id="MPCprog" style="width:300px;background-color:'+theme.sbload+'">';dU+="<div></div>";dU+="</div>";dU+="</div>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+="</div>";Shadowbox.open({content:dU,title:"Nearby cities list builder"+M,player:"html",handleOversize:"none",height:459,width:725,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"proximity",animate:settings.anim,onFinish:u}})};function u(){co("init",bF)}function bF(dU){if(dU.substr(0,4)=="ERR:"){ca("ttlbusy");aw("pink",dU.substr(4));return}var M=jQuery("#px_country");M.empty().append(dU);M.val(pxsettings.country);setTimeout("MpcCpanel.initPXst()",10)}db.initPXst=function(){co("co",aa)};function aa(dU){var M=jQuery("#px_region");M.empty().append(dU);M.val(pxsettings.region);if(pxsettings.region!=""){setTimeout("MpcCpanel.initPXci()",10)}else{ck()}}db.initPXci=function(){co("st",bH)};function bH(dU){var M=jQuery("#px_city");M.empty().append(dU);M.removeClass("forced_none");M.val(pxsettings.city);ck()}function ck(){pbarObj=document.getElementById("MPCprog").firstChild;pbarObj.style.width=0;barcolor="0 0";jQuery("#wrap").css("opacity","1.0");jQuery("#px_city").val(pxsettings.city);jQuery("#px_radius").val(pxsettings.radius);jQuery("#px_mkm").val(pxsettings.mkm);jQuery("#px_dest").val(pxsettings.dest);jQuery("#px_popmm").val(pxsettings.popmm);jQuery("#px_poplim").val(pxsettings.poplim);jQuery("#px_fpath").val(pxsettings.fpath);jQuery("#px_alist").val(pxsettings.alist);jQuery(".gbtn").prop("disabled",false);for(x=0;x<pxarray.length;x++){jQuery("#px_"+pxarray[x]).prop("checked",(pxsettings[pxarray[x]]==1));jQuery("#lab_px_"+pxarray[x]).toggleClass("fsel",(pxsettings[pxarray[x]]==1))}if(pxsettings.pop==1){c3(false)}if(pxsettings.formula==1){i(false)}if(pxsettings.auto==1){Z(true)}ca("ttlbusy")}db.savePx=function(){if(av("ttlbusy")){return}dn();aw("gold","Dialog settings saved")};function dn(){pxsettings.city=jQuery("#px_city").val();pxsettings.region=jQuery("#px_region").val();pxsettings.country=jQuery("#px_country").val();pxsettings.radius=jQuery("#px_radius").val();pxsettings.mkm=jQuery("#px_mkm").val();pxsettings.dest=jQuery("#px_dest").val();pxsettings.popmm=jQuery("#px_popmm").val();pxsettings.poplim=jQuery("#px_poplim").val();pxsettings.fpath=jQuery("#px_fpath").val();pxsettings.alist=jQuery("#px_alist").val();for(x=0;x<pxarray.length;x++){pxsettings[pxarray[x]]=(jQuery("#px_"+pxarray[x]).prop("checked"))?1:0}var M=JSON.stringify(pxsettings);aN("ajax_writePxSettings",{parm_ajax:M},function(dU){})}db.acceptPX=function(dZ){var dV=jQuery("#px_city");var dY=jQuery("#px_region");var dU=jQuery("#px_radius");var d0=jQuery("#px_dest");var dW=jQuery("#px_poplim");var d1=jQuery("#px_fpath");var d2=jQuery("#px_alist");var d3;px_mem_vpx={};px_mem_vpx.ov_ap=dZ;for(d3=0;d3<pxarray.length;d3++){px_mem_vpx[pxarray[d3]]=(jQuery("#px_"+pxarray[d3]).prop("checked"))?1:0}px_mem_vpx.mkm=jQuery("#px_mkm").val();px_mem_vpx.country=jQuery("#px_country").val();px_mem_vpx.popmm=jQuery("#px_popmm").val();px_mem_vpx.lt=cp.lt;if(px_mem_vpx.auto==1){px_mem_vpx.region="";px_mem_vpx.city=""}else{d3=dY.val();if(d3==""){dY.css("background-color","pink");aw("pink","Target Region required");return}px_mem_vpx.region=d3;d3=dV.val();if(d3==""){dV.css("background-color","pink");aw("pink","Target City required");return}px_mem_vpx.city=d3}if(px_mem_vpx.pop==1){d3=dW.val();if(d3!=""){d3=d3.replace(/,/g,"")}if(d3==""){dW.css("background-color","pink");aw("pink","Population limit is required");return}px_mem_vpx.poplim=d3}d3=dU.val();if((d3=="")||(d3<1)||(d3>9999)){dU.css("background-color","pink");aw("pink","Radius out of range (1-9999)");return}px_mem_vpx.radius=d3;d3=d0.val();if(d3==0){d0.css("background-color","pink");aw("pink","Path for list required");return}px_mem_vpx.dest=d3;px_mem_vpx.fpath=d1.val();px_mem_vpx.fcust=ar_cust[px_mem_vpx.fpath-1];px_mem_vpx.fcompare="=";px_mem_vpx.fvalue=px_mem_vpx.region;if(px_mem_vpx.formula==1){if(px_mem_vpx.fpath==0){d1.css("background-color","pink");aw("pink","Path for Formula required");return}if(px_mem_vpx.fpath==px_mem_vpx.dest){d0.css("background-color","pink");d1.css("background-color","pink");aw("pink","Paths cannot be same");return}}if(px_mem_vpx.auto==1){if(d2.val()==""){d2.css("background-color","pink");aw("pink","Cannot automate an empty list");return}}aj("ttlbusy");jQuery("div.btnchk").css("opacity",0.3);i(true);jQuery(".gbtn").prop("disabled",true);jQuery(".epink").toggleClass("forced_none",true);jQuery(".px_au_avis").css("opacity",0.3);jQuery("#gmlink").css("visibility","hidden");px_mem_vpx.index=0;if(px_mem_vpx.auto==1){bK();px_mem_alist_index=0;var dX=a8(0);px_mem_vpx.city=dX[0];px_mem_vpx.region=dX[1];px_mem_vpx.radius=(dX.length>2)?dX[2]:px_mem_vpx.radius;px_mem_vpx.fcompare=(dX.length>3)?dX[3]:"=";px_mem_vpx.fvalue=(dX.length>4)?dX[4]:px_mem_vpx.region;pbarObj.style.width=0;jQuery("#progPX").css("visibility","visible")}var M=JSON.stringify(px_mem_vpx);aN("kFgX31XxX",{pxsett:M,testing:cp.testing},function(d4){rj=jQuery.parseJSON(d4);switch(rj.stat){case"ok":px_mem_city_total=rj.cnt;setTimeout("MpcCpanel.loadNearby()",20);return;break;case"err":aw("pink",rj.msg);break}dn();jQuery(".gbtn").prop("disabled",false);jQuery(".epink").toggleClass("forced_none",false);jQuery(".px_au_avis").css("opacity",1);jQuery("#gmlink").css("visibility","visible");jQuery("div.btnchk").css("opacity",1);i(!pxsettings.formula);ca("ttlbusy")})};db.loadNearby=function(){if(px_mem_vpx.auto==1){px_mem_alist_index++;var dV=px_mem_alist_index*px_mem_alist_pbar;pbarObj.style.width=dV+"%";px_mem_vpx.index=px_mem_alist_index;if(px_mem_alist_index<px_mem_alist_length){var M=a8(px_mem_alist_index);px_mem_vpx.city=M[0];px_mem_vpx.region=M[1];px_mem_vpx.radius=(M.length>2)?M[2]:px_mem_vpx.radius;px_mem_vpx.fcompare=(M.length>3)?M[3]:"=";px_mem_vpx.fvalue=(M.length>4)?M[4]:px_mem_vpx.region;px_mem_vpx.ov_ap="ap";var dW=JSON.stringify(px_mem_vpx);aN("kFgX31XxX",{pxsett:dW,testing:cp.testing},function(dX){rj=jQuery.parseJSON(dX);if(rj.stat=="ok"){px_mem_city_total+=rj.cnt;setTimeout("MpcCpanel.loadNearby()",20);return}else{dn();jQuery("#px_alist").css("background-color","pink");jQuery(".gbtn").prop("disabled",false);jQuery(".epink").toggleClass("forced_none",false);jQuery(".px_au_avis").css("opacity",1);jQuery("#gmlink").css("visibility","visible");jQuery("div.btnchk").css("opacity",1);i(!pxsettings.formula);ca("ttlbusy");aw("pink",rj.msg);return}});return}}var dU=(px_mem_vpx.auto==1)?"y32g58XX9":"y32g58xX9";aN(dU,{box:px_mem_vpx.dest,ov_ap:px_mem_vpx.ov_ap},function(dX){jQuery("#taPath"+px_mem_vpx.dest).val(dX);db.switchPageStat("bp"+px_mem_vpx.dest);aH();cL("taPath"+px_mem_vpx.dest);dn();jQuery(".gbtn").prop("disabled",false);jQuery(".epink").toggleClass("forced_none",false);jQuery(".px_au_avis").css("opacity",1);jQuery("#gmlink").css("visibility","visible");jQuery("div.btnchk").css("opacity",1);i(!pxsettings.formula);ca("ttlbusy");aw("lightgreen",bA(px_mem_city_total)+" total cities found")})};function bK(){px_mem_alist=[];var dU=jQuery("#px_alist").val();var M=dU.split("\n");px_mem_alist=M.filter(U);px_mem_alist_length=px_mem_alist.length;px_mem_alist_pbar=100/px_mem_alist_length}function U(M){return M.indexOf(",")>1}function a8(dU){var dV=px_mem_alist[dU];var M=dV.split(",");return M.map(dk)}function dk(M){return M.trim()}db.pxClean=function(){if(av("ttlbusy")){return}bK();var M=px_mem_alist.map(bz);jQuery("#px_alist").val(M.join("\n"));aw("gold","Auto Target list cleaned")};function bz(M){var dU=M.trim();dU=dU.replace(/ +,/g,",");return dU.replace(/, +/g,",")}db.btnchk_yn=function(dU,M){var dV=jQuery("#"+dU).prop("checked");jQuery("#"+M).prop("checked",!dV);jQuery("#lab_"+dU).toggleClass("fsel",dV);jQuery("#lab_"+M).toggleClass("fsel",!dV)};db.btnchk_click=function(dW){if(av("ttlbusy")){return}var M=jQuery("#"+dW);var dU=M.prop("checked");if(M.hasClass("solo_"+dW)){jQuery(".solo_"+dW).prop("checked",false);jQuery(".solo_"+dW).each(function(){var dX=jQuery(this).parent();dX.removeClass("fsel")})}M.prop("checked",dU);jQuery("#lab_"+dW).toggleClass("fsel",dU);if(dW=="px_formula"){i(!dU);return}if(dW=="px_pop"){c3(!dU);if(dU){jQuery("#px_poplim").focus()}return}if(dW=="px_auto"){if(!dU&&(jQuery("#px_full").html()=="SET NORMAL")){db.pxToggFull()}Z(dU);if(dU){jQuery("#px_alist").focus()}return}var dV=dW.substr(0,10);if((dV=="asu_marker")||(dV=="asu1_marke")){var M=jQuery("#tx_"+dW);M.prop("readonly",!dU);M.css("opacity",(dU)?"1.0":"0.3");jQuery("#btn_"+dW).prop("disabled",!dU);if(dU){jQuery("#tx_"+dW).focus()}return}};db.pxErase=function(){if(av("ttlbusy")){return}jQuery("#px_alist").val("");aw("gold","Target list erased")};db.pxToggFull=function(){if(av("ttlbusy")){return}var M=jQuery("#px_full");if(M.html()=="SET FULL"){jQuery(".px_left").css("display","none");jQuery("#pin_auto").css("width","683px");jQuery("#tbl_auto").css("width","673px");jQuery("#div_auto").css("width","663px");M.html("SET NORMAL")}else{jQuery("#div_auto").css("width","308px");jQuery("#tbl_auto").css("width","318px");jQuery("#pin_auto").css("width","328px");jQuery(".px_left").css("display","block");M.html("SET FULL")}};function i(dU){var M=jQuery(".px_opc");M.css("opacity",(dU)?"0.3":"1.0");M.prop("disabled",dU)}function c3(dU){var M=jQuery(".px_popopc");M.css("opacity",(dU)?"0.3":"1.0");M.prop("disabled",dU)}function Z(dU){var M=jQuery(".px_cs");M.css("opacity",(dU)?"0.3":"1.0");M.prop("disabled",dU);M=jQuery("#px_alist");M.css("visibility",(dU)?"visible":"hidden");jQuery(".px_au_avis").css("visibility",(dU)?"visible":"hidden")}function co(M,dW){var dU=jQuery("#px_country").val();var dV=jQuery("#px_region").val();aN("y32G58Xx9",{cmdpx:M,coval:dU,stval:dV,testing:cp.testing},function(dX){dW(dX)});return false}db.px_coChange=function(){co("co",L)};function L(dU){if(dU.substr(0,4)=="ERR:"){ca("ttlbusy");aw("pink",dU.substr(4));return}jQuery("#px_region").empty().append(dU);var M=jQuery("#px_city");M.empty().append('<option value=""></option>');M.toggleClass("forced_none",true)}db.px_stChange=function(){co("st",c1)};function c1(dU){if(dU.substr(0,4)=="ERR:"){ca("ttlbusy");aw("pink",dU.substr(4));return}var M=jQuery("#px_city");M.empty().append(dU);M.toggleClass("forced_none",false)}function aw(dU,M){jQuery("#progPX").css("visibility","hidden");ad(dU,M)}function bm(){var M='<div class="dia-content">';M+="Since your subscription has expired, Mpc is running in <b>DEMO</b> mode.<br />";M+=" The following restrictions are in place:";M+="<ul>";M+="<li>Limited Build cycle (10 page maximum).</li>";M+="<li>Limited access to the Mpc Editor.</li>";M+="<li>Spinning text disabled (except in Editor Preview).</li>";M+="<li>Wordpress Auto-Spinning disabled.</li>";M+="</ul>";M+="If you upgrade your license, previous payments will be credited toward the one-time purchase.";M+='<div class="centerbtn">';M+="<a href="+linkEXP+' class="sexybutton" title="Upgrade License Key"><span><span>';M+='<span class="cart">Upgrade License</span></span></span></a>&nbsp;&nbsp;&nbsp;&nbsp;';M+='<button class="sexybutton" onclick="Shadowbox.close()"><span><span>';M+='<span class="accept">Continue Demo</span></span></span></button>&nbsp;&nbsp;&nbsp;&nbsp;';M+='<button class="sexybutton" onclick="MpcCpanel.doNewCreds();return false">';M+='<span><span><span class="lock_edit">New Credentials</span></span></span></button>';M+="</div>";M+="</div>";M+="</div>";Shadowbox.open({content:M,title:"Commercial License Subsription Expired",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:cI},height:238,width:570})}db.diaEditMpc=function(){var M=(c4)?"":"htmlVsText";var dU='<div class="dia-content noselect" onmousedown="MpcCpanel.hideDiaStatus();return true;">';dU+="<table>";dU+="<tr>";dU+="<td>";dU+='<div style="overflow:auto;height:300px;width:630px;background-color:'+theme.sbload+";border:1px solid "+theme.inpBord+'">';dU+='<div id="agif">';dU+='<table id="loading">';dU+="<tr>";dU+='<td style="text-align:left"><div id="ttlbusy" class="busycss"></div></td>';dU+='<td style="text-align:left">Loading...</td>';dU+="</tr>";dU+="</table>";dU+="</div>";dU+='<ul id="browser" class="filetree treeview-black"></ul>';dU+="</div>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+='<table style="width:100%">';dU+='<tr><td><div style="height:10px"></div></td></tr>';dU+="<tr>";dU+='<td><span style="font-size:11px;padding-left:5px">Selected file</span></td>';dU+="</tr>";dU+="<tr>";dU+='<td style="text-align:left">';dU+='<div id="selectedA" style="width:620px">&nbsp;</div>';dU+="</td>";dU+="</tr>";dU+="</table>";dU+='<div style="position:relative;margin-top:14px;width:100%">';dU+='<div style="position:absolute;top:-60px;left:100px" class="dia-status"></div>';dU+='<table><tr style="white-space:nowrap">';dU+="<td>";if(!c4){dU+='<button class="sexybutton" title="Accept file for HTML editing."';dU+="onclick=\"MpcCpanel.acceptE('html');return false;\">";dU+='<span><span><span class="html">Edit HTML Page</span></span></span>';dU+="</button>&nbsp;&nbsp;"}if(settings.dowp==1){dU+='<button class="sexybutton" title="Accept file for TEXT editing."';dU+="onclick=\"MpcCpanel.acceptE('text');return false;\">";dU+='<span><span><span class="wordpress">Edit TEXT Article</span></span></span>';dU+="</button>&nbsp;&nbsp;"}if(!c4){dU+='<button class="sexybutton" title="Accept file for CODE editing."';dU+="onclick=\"MpcCpanel.acceptE('code');return false;\">";dU+='<span><span><span class="page_white_php">Edit CODE File</span></span></span>';dU+="</button>"}dU+="</td>";dU+='<td style="text-align:right;width:550px">';dU+='<label for="cbBackup">Save backup&nbsp;</label>';dU+="</td>";dU+='<td><input type="checkbox" id="cbBackup" checked />&nbsp;</td>';dU+="</tr></table>";dU+="</div>";dU+="</div>";Shadowbox.open({content:dU,title:'Edit <span class="ttlgold">Source</span> file',player:"html",handleOversize:"none",height:432,width:525+150,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:M,animate:settings.anim,onFinish:dH}})};function dH(){cI();b("editPage");return false}db.acceptE=function(M){var dW="";var dU=0;if(M=="code"){M="text";dU=1}var dV=jQuery("#selectedA").text();dV=dV.trim();if(dV==""){ad("pink","No selected file");return}if(jQuery("#cbBackup").prop("checked")&&(dV.substr(0,14)!=".Backup-Files/")){dW="backup"}setTimeout("Shadowbox.close()",200);bq("editPage",M,dU,dW);return false};function b2(M){if(c4){if(M==jQuery("#selectedA").text()){db.acceptE("text")}}jQuery("#selectedA").text(M);return false}db.quickEdit=function(dU){var dW=0;if(dU=="code"){dU="text";dW=1}var dV=jQuery("#taSource");var d0=dV.prop("selectionStart");var dX=dV.val();var dZ=dX.substring(0,d0).split("\n").length-1;var dY=dX.split("\n")[dZ];var M=false;p=dY.indexOf(">");if(p!=-1){dY=dY.substr(0,p)}p=dY.indexOf("]");if(p!=-1){M=(dY.search(/\[webroot\]/i)!=-1);dY=dY.substr(p+1)}dY=dY.trim();if(dY==""){return}if(M){treeSelFname=cp.dotdot+dY;bq("editPage",dU,dW,"")}else{treeSelFname=dY;bq("editPage",dU,dW,"backup")}return false};db.diaEditNew=function(){var M="file";var dU="New TEXT Article";if(c4){M="article";dU="New Article"}var dV="";dV+='<div class="dia-content noselect" onmousedown="MpcCpanel.clrTplateStatusM();return true">';dV+='<div class="pinstripe twrap1" style="position:relative;width:506px;margin-top:0;background-color:'+theme.sbload+'">';dV+='<div id="dia1" style="position:absolute;top:9px;right:12px" class="dia-status"></div>';dV+="<div>Open new file in Mpc Editor.</div>";dV+='<div style="margin-right:12px">';dV+='<table style="width:100%">';dV+="<tr>";dV+="<td>&nbsp;</td>";dV+='<td colspan="2"><div class="lab11">&nbsp;Project folder</div></td>';dV+='<td colspan="2"><div class="lab11">&nbsp;Filename or Subfolder/Filename</div></td>';dV+="</tr>";dV+="<tr>";dV+='<td class="tab_label" style="text-align:right;width:30px">'+cp.theFnameFld+"/</td>";dV+='<td style="text-align:left;width:170px"><input name="txGrabToAs" id="txGrabToAs" class="roundpad2024 gtxt epink" type="text" value="'+memProjectF+'" ';dV+='onkeyup="MpcCpanel.forceWord(this);MpcCpanel.clrTplateStatus(event);return false" style="width:160px" ';dV+='title="A-Z, 0-9, hyphens, and underscores only" />';dV+="</td>";dV+='<td style="width:6px"><div style="padding:0 3px 0 2px">/</td>';dV+='<td colspan="2" style="text-align:left;width:170px"><input name="txGrabToFn" id="txGrabToFn" class="roundpad2024 gtxt epink" type="text" value="" ';dV+='onkeyup="MpcCpanel.clrTplateStatus(event);return false"';dV+='title="A-Z, 0-9, hyphens, and underscores only" />';dV+="</td>";dV+="</tr>";dV+="</table>";dV+='<div style="margin-top:11px">';if(!c4){dV+="<button class=\"sexybutton\" onclick=\"MpcCpanel.submitNewPage('0','html');return false;\"";dV+='title="Create a new Html Web Page in the Mpc Editor.">';dV+='<span><span><span class="html">New HTML Page</span></span></span>';dV+="</button>&nbsp;&nbsp;"}if(settings.dowp==1){dV+="<button class=\"sexybutton\" onclick=\"MpcCpanel.submitNewPage('0','text');return false;\"";dV+='title="Create a new Text Article in the Mpc Editor.">';dV+='<span><span><span class="wordpress">'+dU+"</span></span></span>";dV+="</button>&nbsp;&nbsp;"}if(!c4){dV+="<button class=\"sexybutton\" onclick=\"MpcCpanel.submitNewPage('1','text');return false;\"";dV+='title="Create a new Text Code File in the Mpc Editor.">';dV+='<span><span><span class="page_white_php">New CODE File</span></span></span>';dV+="</button>"}dV+="</div>";dV+="</div>";dV+="</div>";dV+="</div>";Shadowbox.open({content:dV,title:'Create and Edit <span class="ttlgold">new</span> '+M,player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:ap},height:159,width:570})};function ap(){cI();if(jQuery("#txGrabToAs").val()==""){bn("txGrabToAs")}else{bn("txGrabToFn")}}db.submitNewPage=function(dX,M){var dV=jQuery("#txGrabToAs");grabDestAs=dV.val().trim();if(grabDestAs==""){a("dia1","pink","Project folder name required");dV.css("background-color","pink");bn("txGrabToAs");return false}var dY=grabDestAs.toLowerCase();var dZ=cp.auxdir.toLowerCase();var dU=[cp.theFname.toLowerCase(),dZ,cp.trimFname.toLowerCase()+"_ini.php",cp.trimFname.toLowerCase()+"_pclzip.php","mpc-asset.php","mpc_short_files","credentials.zip"];if(dU.indexOf(dY)!=-1){a("dia1","pink","Protected folder name");dV.css("background-color","pink");bn("txGrabToAs");return false}var dV=jQuery("#txGrabToFn");var dW=dV.val().trim();dW=dW.replace(/^\/*/,"");if(dW==""){a("dia1","pink","Filename required");dV.css("background-color","pink");bn("txGrabToFn");return false}if(dW.substr(-1)=="/"){a("dia1","pink","Filename cannot be a folder");dV.css("background-color","pink");bn("txGrabToFn");return false}treeSelFname=grabDestAs+"/"+dW;cq(grabDestAs,false);setTimeout("Shadowbox.close()",200);bq("newBlank",M,dX,"");return false};db.submitUpload=function(M){Shadowbox.close();browseFtype=M;db.browseFile("file",M);return false};function cM(M){setTimeout("Shadowbox.close()",200);bq("fileUpload",browseFtype,"",M);return false}db.diaEditWeb=function(){var M="";M+='<div class="dia-content noselect" style="padding-top:10px" onmousedown="MpcCpanel.hideDiaStatusPink();return true">';M+='<div id="ttlbusy" class="busycss" style="position:absolute;top:6px;right:15px"></div>';M+='<div id="dia1" class="dia-status" style="position:absolute;bottom:82px;right:190px"></div></td>';M+='<div style="padding-bottom:6px">';M+='<table style="width:100%">';M+="<tr>";M+='<td colspan="2"><div style="padding-left:0px" class="lab11">&nbsp;WebRoot filelist (click to select)</div></td>';M+="</tr>";M+="<tr>";M+='<td colspan="2"><div id="scrollbox3" style="background:none"></div></td>';M+="</tr>";M+="<tr>";M+='<td colspan="2"><div style="padding-left:0px" class="lab11">&nbsp;Enter webroot filename</div></td>';M+="</tr>";M+="<tr>";M+='<td style="text-align:left"><input name="inWebRoot" id="inWebRoot" disabled="disabled" class="epink forced_none" type="text" value=""';M+=' onkeyup="MpcCpanel.clrTplateStatus(event);return false" /></td>';M+='<td style="width:6px"><div style="width:6px"></div></td>';M+="</tr>";M+="</table>";M+='<div style="margin-top:14px">';M+='<button class="sexybutton disbtn" disabled="disabled" onclick="MpcCpanel.submitWebRoot(\'html\');return false;"';M+='title="Open HTML page in the Mpc Editor">';M+='<span><span><span class="html">Edit HTML Page</span></span></span>';M+="</button>&nbsp;&nbsp;";if(settings.dowp==1){M+='<button class="sexybutton disbtn" disabled="disabled" onclick="MpcCpanel.submitWebRoot(\'text\');return false;"';M+='title="Open TEXT article in the Mpc Editor">';M+='<span><span><span class="wordpress">Edit TEXT Article</span></span></span>';M+="</button>&nbsp;&nbsp;"}M+='<button class="sexybutton disbtn" disabled="disabled" onclick="MpcCpanel.submitWebRoot(\'code\');return false;"';M+='title="Open CODE file in the Mpc Editor">';M+='<span><span><span class="page_white_php">Edit CODE File</span></span></span>';M+="</button>";M+="</div>";M+="</div>";M+="</div>";Shadowbox.open({content:M,title:'Edit <span class="ttlgold">WebRoot</span> file',player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:bP},height:346,width:517})};function bP(){cI();aN("ajax_listWroot",{domroot:cp.dotdot+"../"},function(dY){var dX=jQuery("#scrollbox3");var dU=jQuery.parseJSON(dY);switch(dU.status){case"none":dX.html("No webroot files found");break;case"err":dX.html("Unable to read webroot");break;case"ok":var dV=dU.msg.split("/");var M=dV.length;var dZ="";for(x=0;x<M;x++){dZ+='<div id="z'+x+'" onclick="MpcCpanel.wrSel('+x+')">'+dV[x]+"</div>"}dX.html(dZ);break}dX.css("background-color","white");var dW=jQuery("#inWebRoot");dW.prop("disabled",false);dW.toggleClass("forced_none",false);jQuery(".disbtn").prop("disabled",false);ca("ttlbusy");bn("inWebRoot")})}db.wrSel=function(M){jQuery("#inWebRoot").val(jQuery("#z"+M).html())};db.submitWebRoot=function(M){var dV=jQuery("#inWebRoot");var dW=dV.val().trim();dW=dW.replace(/^\/*/,"");if(dW==""){a("dia1","pink","Filename required");dV.css("background-color","pink");bn("inWebRoot");return false}if(dW.substr(-1)=="/"){a("dia1","pink","Filename cannot be a folder");dV.css("background-color","pink");bn("inWebRoot");return false}var dU=0;if(M=="code"){M="text";dU=1}treeSelFname=cp.dotdot+dW;Shadowbox.close();bq("editPage",M,dU,"");return false};db.diaSettings=function(dU){mem_settings_caller=dU;var dW="Accept changes and close";var M="Cancel changes and close";var dY="";var dV="";if(mem_settings_caller=="project"){dW="Accept changes and return to Project utility";M="Cancel changes and return to Project utility";dY=' disabled="disabled"';dV="opacity:0.3;"}else{if(mem_settings_caller=="dynamic"){dW="Accept changes and return to Dynamic Includes controller";M="Cancel changes and return to Dynamic Includes controller";dY=' disabled="disabled"';dV="opacity:0.3;"}else{if(mem_settings_caller=="controller"){dW="Accept changes and return to Settings controller";M="Cancel changes and return to Settings controller"}}}var dX="";dX+='<div class="dia-content noselect" style="padding-top:24px"  spellcheck="false" onmousedown="MpcCpanel.hideDiaStatus()">';dX+="<table>";dX+="<tr>";dX+='<td style="vertical-align:top">';dX+='<div class="pinstripe twrap" style="width:340px;margin-bottom:14px;padding:6px 10px 9px 10px;white-space:nowrap;line-height:1.6em;background-color:'+theme.sbload+'">';dX+='<table style="width:100%">';dX+="<tr nowrap>";dX+='<td><input type="radio" name="init_ed_src" value="1" id="init_ed_src_y" style="margin:0 2px 0 0"></td>';dX+='<td><label for="init_ed_src_y"><span style="font-size:.9em">YES</span></label></td>';dX+="<td>&nbsp;&nbsp;</td>";dX+='<td><input type="radio" name="init_ed_src" value="0" id="init_ed_src_n" style="margin:0 2px 0 0"></td>';dX+='<td><label for="init_ed_src_n"><span style="font-size:.9em">NO</span></label></td>';dX+="<td>&nbsp;&nbsp;&nbsp;</td>";dX+='<td style="text-align:left;width:95%">Start Editor in Source mode</td>';dX+="</tr>";dX+="<tr nowrap>";dX+='<td><input type="radio" name="force_ssl" value="1" id="force_ssl_y" style="margin:0 2px 0 0"></td>';dX+='<td><label for="force_ssl_y"><span style="font-size:.9em">YES</span></label></td>';dX+="<td>&nbsp;&nbsp;</td>";dX+='<td><input type="radio" name="force_ssl" value="0" id="force_ssl_n" style="margin:0 2px 0 0"></td>';dX+='<td><label for="force_ssl_n"><span style="font-size:.9em">NO</span></label></td>';dX+="<td>&nbsp;&nbsp;&nbsp;</td>";dX+='<td style="text-align:left;width:95%">Force HTTPS:// in Sitemaps</td>';dX+="</tr>";dX+="<tr nowrap>";dX+='<td><input type="radio" name="legacy_prj" value="1" id="legacy_prj_y" style="margin:0 2px 0 0"></td>';dX+='<td><label for="legacy_prj_y"><span style="font-size:.9em">YES</span></label></td>';dX+="<td>&nbsp;&nbsp;</td>";dX+='<td><input type="radio" name="legacy_prj" value="0" id="legacy_prj_n" style="margin:0 2px 0 0"></td>';dX+='<td><label for="legacy_prj_n"><span style="font-size:.9em">NO</span></label></td>';dX+="<td>&nbsp;&nbsp;&nbsp;</td>";dX+='<td style="text-align:left;width:95%">Legacy Project save (.prj)</td>';dX+="</tr>";dX+="<tr nowrap>";dX+='<td><input type="radio" name="conf_del" value="1" id="conf_del_y" style="margin:0 2px 0 0"></td>';dX+='<td><label for="conf_del_y"><span style="font-size:.9em">YES</span></label></td>';dX+="<td>&nbsp;&nbsp;</td>";dX+='<td><input type="radio" name="conf_del" value="0" id="conf_del_n" style="margin:0 2px 0 0"></td>';dX+='<td><label for="conf_del_n"><span style="font-size:.9em">NO</span></label></td>';dX+="<td>&nbsp;&nbsp;&nbsp;</td>";dX+='<td style="text-align:left;width:95%">Confirm Source File Deletes</td>';dX+="</tr>";dX+="<tr nowrap>";dX+='<td><input type="radio" name="conf_ovr" value="1" id="conf_ovr_y" style="margin:0 2px 0 0"></td>';dX+='<td><label for="conf_ovr_y"><span style="font-size:.9em">YES</span></label></td>';dX+="<td>&nbsp;&nbsp;</td>";dX+='<td><input type="radio" name="conf_ovr" value="0" id="conf_ovr_n" style="margin:0 2px 0 0"></td>';dX+='<td><label for="conf_ovr_n"><span style="font-size:.9em">NO</span></label></td>';dX+="<td>&nbsp;&nbsp;&nbsp;</td>";dX+='<td style="text-align:left;width:95%">Confirm Editor File Overwrites</td>';dX+="</tr>";dX+="<tr nowrap>";dX+='<td><input type="radio" name="anim" value="1" id="anim_y" style="margin:0 2px 0 0"></td>';dX+='<td><label for="anim_y"><span style="font-size:.9em">YES</span></label></td>';dX+="<td>&nbsp;&nbsp;</td>";dX+='<td><input type="radio" name="anim" value="0" id="anim_n" style="margin:0 2px 0 0"></td>';dX+='<td><label for="anim_n"><span style="font-size:.9em">NO</span></label></td>';dX+="<td>&nbsp;&nbsp;&nbsp;</td>";dX+='<td style="text-align:left;width:95%">Animate Popup Openings</td>';dX+="</tr>";dX+="<tr nowrap>";dX+='<td><input type="radio" name="cb_ts" value="1" id="cb_ts_y" style="margin:0 2px 0 0"></td>';dX+='<td><label for="cb_ts_y"><span style="font-size:.9em">YES</span></label></td>';dX+="<td>&nbsp;&nbsp;</td>";dX+='<td><input type="radio" name="cb_ts" value="0" id="cb_ts_n" style="margin:0 2px 0 0"></td>';dX+='<td><label for="cb_ts_n"><span style="font-size:.9em">NO</span></label></td>';dX+="<td>&nbsp;&nbsp;&nbsp;</td>";dX+="<td style=\"text-align:left;width:95%\">Default 'New timestamp' checked</td>";dX+="</tr>";dX+="<tr nowrap>";dX+='<td><input type="radio" name="dosort" value="1" id="dosort_y" style="margin:0 2px 0 0"></td>';dX+='<td><label for="dosort_y"><span style="font-size:.9em">YES</span></label></td>';dX+="<td>&nbsp;&nbsp;</td>";dX+='<td><input type="radio" name="dosort" value="0" id="dosort_n" style="margin:0 2px 0 0"></td>';dX+='<td><label for="dosort_n"><span style="font-size:.9em">NO</span></label></td>';dX+="<td>&nbsp;&nbsp;&nbsp;</td>";dX+='<td style="text-align:left;width:95%">Automatically Sort [group] Sources</td>';dX+="</tr>";dX+="<tr nowrap>";dX+='<td><input type="radio" name="sepw" value="1" id="sepw_y" style="margin:0 2px 0 0"></td>';dX+='<td><label for="sepw_y"><span style="font-size:.9em">YES</span></label></td>';dX+="<td>&nbsp;&nbsp;</td>";dX+='<td><input type="radio" name="sepw" value="0" id="sepw_n" style="margin:0 2px 0 0"></td>';dX+='<td><label for="sepw_n"><span style="font-size:.9em">NO</span></label></td>';dX+="<td>&nbsp;&nbsp;&nbsp;</td>";dX+='<td style="text-align:left;width:95%">Open Blueprint in separate window</td>';dX+="</tr>";dX+="<tr nowrap>";dX+='<td><input type="radio" name="dowp" value="1" id="dowp_y" style="margin:0 2px 0 0"'+dY+"></td>";dX+='<td><label for="dowp_y"><span style="'+dV+'font-size:.9em">YES</span></label></td>';dX+="<td>&nbsp;&nbsp;</td>";dX+='<td><input type="radio" name="dowp" value="0" id="dowp_n" style="margin:0 2px 0 0"'+dY+"></td>";dX+='<td><label for="dowp_n"><span style="'+dV+'font-size:.9em">NO</span></label></td>';dX+="<td>&nbsp;&nbsp;&nbsp;</td>";dX+='<td style="'+dV+'text-align:left;width:95%">Enable Wordpress in UI</td>';dX+="</tr>";dX+="</table>";dX+="</div>";dX+="<div>";dX+="<table>";dX+="<tr>";dX+='<td colspan="2" style="'+dV+'width:80px">';dX+='<select id="qetrigger" class="settings"'+dY+">";dX+='<option value="double">Double click</option>';dX+='<option value="control">Control click</option>';dX+="</select>";dX+="</td>";dX+="<td>";dX+='<span style="'+dV+'">Quick Edit <span class="lab11">(Mac requires Double-click)</span></span>';dX+="</td>";dX+="</tr>";dX+='<tr><td colspan="3"><div style="height:4px"></div></td></tr>';dX+="<tr>";dX+='<td style="width:50px">';dX+='<select id="sel_perpage" class="settings">';dX+='<option value="30">30</option>';dX+='<option value="50">50</option>';dX+='<option value="100">100</option>';dX+='<option value="200">200</option>';dX+='<option value="500">500</option>';dX+='<option value="1000">1000</option>';dX+="</select>";dX+="</td>";dX+='<td colspan="2">Browser lines per page <span class="lab11">(Blueprint and Reports)</span></td>';dX+="</tr>";dX+='<tr><td colspan="3"><div style="height:4px"></div></td></tr>';dX+="<tr>";dX+='<td style="width:50px">';dX+='<select id="sel_culldays" class="settings" style="width:52px">';dX+='<option value="7">7</option>';dX+='<option value="14">14</option>';dX+='<option value="30">30</option>';dX+='<option value="60">60</option>';dX+='<option value="90">90</option>';dX+="</select>";dX+="</td>";dX+='<td colspan="2">Source backups aging <span class="lab11">(Days until removed)</span></td>';dX+="</tr>";dX+='<tr><td colspan="3"><div style="height:4px"></div></td></tr>';dX+="<tr>";dX+='<td style="width:50px">';dX+='<select id="sel_tzone" class="settings">';dX+='<option value="GMT">GMT</option>';dX+='<option value="-1">-1</option>';dX+='<option value="-2">-2</option>';dX+='<option value="-3">-3</option>';dX+='<option value="-4">-4</option>';dX+='<option value="-5">-5</option>';dX+='<option value="-6">-6</option>';dX+='<option value="-7">-7</option>';dX+='<option value="-8">-8</option>';dX+='<option value="-9">-9</option>';dX+='<option value="-10">-10</option>';dX+='<option value="-11">-11</option>';dX+='<option value="-12">-12</option>';dX+='<option value="+1">+1</option>';dX+='<option value="+2">+2</option>';dX+='<option value="+3">+3</option>';dX+='<option value="+4">+4</option>';dX+='<option value="+5">+5</option>';dX+='<option value="+6">+6</option>';dX+='<option value="+7">+7</option>';dX+='<option value="+8">+8</option>';dX+='<option value="+9">+9</option>';dX+='<option value="+10">+10</option>';dX+='<option value="+11">+11</option>';dX+='<option value="+12">+12</option>';dX+='<option value="+13">+13</option>';dX+='<option value="+14">+14</option>';dX+="</select>";dX+="</td>";dX+='<td colspan="2">Timezone <span class="lab11">(Hours offset from GMT)</span></td>';dX+="</tr>";dX+="</table>";dX+="</div>";dX+='<div class="pinstripe twrap" style="width:340px;visibility:hidden;margin-bottom:0px;padding:6px 10px 0px 10px;white-space:nowrap;line-height:1.4em;background-color:'+theme.sbload+'">';dX+='<table style="width:100%">';dX+="<tr nowrap>";dX+='<td><input type="text" name="txExlist" value="hello" id="txExlist" style="width:98%"></td>';dX+="</tr>";dX+="</table>";dX+="</div>";dX+="</td>";dX+='<td style="vertical-align:top">';dX+='<div class="pinstripe twrap5" style="background-color:'+theme.sbload+'">';dX+='<div style="text-align:center">Color Theme</div>';dX+='<div id="themediv" style="margin-top:4px">';dX+='<table style="border-collapse: separate; border-spacing: 6px;">';dX+="<tr>";dX+='<td><input type="radio" name="radTheme" id="radlegacy" value="legacy"></td>';dX+='<td><label for="radlegacy"><div class="boxthm boxLegacy"></label></div></td>';dX+='<td><label for="radlegacy">Legacy</label></td>';dX+="</tr><tr>";dX+='<td><input type="radio" name="radTheme" id="radgray" value="gray"></td>';dX+='<td><label for="radgray"><div class="boxthm boxGray"></label></div></td>';dX+='<td><label for="radgray">Gray</label></td>';dX+="</tr><tr>";dX+='<td><input type="radio" name="radTheme" id="radblue" value="blue"></td>';dX+='<td><label for="radblue"><div class="boxthm boxBlue"></label></div></td>';dX+='<td><label for="radblue">Blue</label></td>';dX+="</tr><tr>";dX+='<td><input type="radio" name="radTheme" id="radgold" value="gold"></td>';dX+='<td><label for="radgold"><div class="boxthm boxGold"></label></div></td>';dX+='<td><label for="radgold">Gold</label></td>';dX+="</tr><tr>";dX+='<td><input type="radio" name="radTheme" id="radrose" value="rose"></td>';dX+='<td><label for="radrose"><div class="boxthm boxRose"></label></div></td>';dX+='<td><label for="radrose">Rose</label></td>';dX+="</tr><tr>";dX+='<td><input type="radio" name="radTheme" id="radmagenta" value="magenta"></td>';dX+='<td><label for="radmagenta"><div class="boxthm boxMagenta"></label></div></td>';dX+='<td><label for="radmagenta">Magenta</label></td>';dX+="</tr><tr>";dX+='<td><input type="radio" name="radTheme" id="radgreen" value="green"></td>';dX+='<td><label for="radgreen"><div class="boxthm boxGreen"></label></div></td>';dX+='<td><label for="radgreen">Green</label></td>';dX+="</tr><tr>";dX+='<td><input type="radio" name="radTheme" id="radibm" value="ibm"></td>';dX+='<td><label for="radibm"><div class="boxthm boxIbm"></label></div></td>';dX+='<td><label for="radibm">IBM PC</label></td>';dX+="</tr>";dX+="</table>";dX+="</div>";dX+="</div>";dX+="</td>";dX+="</tr>";dX+="</table>";dX+='<div style="position:absolute;left:23px;bottom:20px">';dX+='<button class="sexybutton all_btns" onclick="MpcCpanel.submitSettings();return false;" title="'+dW+'"><span><span>';dX+='<span class="accept">Accept</span></span></span>';dX+="</button>&nbsp;&nbsp;";dX+='<button class="sexybutton all_btns" onclick="MpcCpanel.defaultSettings();return false;" title="Revert to default settings"'+dY+"><span><span>";dX+='<span class="accept_blue">Defaults</span></span></span>';dX+="</button>&nbsp;&nbsp;";dX+='<button class="sexybutton all_btns" onclick="MpcCpanel.exitSettings()" title="'+M+'"><span><span>';dX+='<span class="cancel">Cancel</span></span></span>';dX+="</button>";dX+="</div>";dX+='<div class="dia-status" style="position:absolute;bottom:22px;right:20px;text-align:center"></div>';dX+="</div>";Shadowbox.open({content:dX,title:'<span class="ttlgold">Edit</span> UI Configuration',player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"settings",onMyClose:db.exitSettings,animate:settings.anim,onFinish:a3},height:419,width:584})};function a3(){cI();jQuery("input[name=force_ssl][value="+settings.force_ssl+"]").prop("checked","checked");jQuery("input[name=legacy_prj][value="+settings.legacy_prj+"]").prop("checked","checked");jQuery("input[name=conf_del][value="+settings.conf_del+"]").prop("checked","checked");jQuery("input[name=conf_ovr][value="+settings.conf_ovr+"]").prop("checked","checked");jQuery("input[name=anim][value="+settings.anim+"]").prop("checked","checked");jQuery("input[name=cb_ts][value="+settings.cb_ts+"]").prop("checked","checked");jQuery("input[name=dosort][value="+settings.dosort+"]").prop("checked","checked");jQuery("input[name=sepw][value="+settings.sepw+"]").prop("checked","checked");jQuery("input[name=dowp][value="+settings.dowp+"]").prop("checked","checked");jQuery("input[name=init_ed_src][value="+settings.init_ed_src+"]").prop("checked","checked");jQuery("#qetrigger").val(settings.qetrigger);jQuery("#sel_perpage").val(settings.perpage);jQuery("#sel_culldays").val(settings.culldays);jQuery("#sel_tzone").val(settings.tzone.toUpperCase());jQuery("#txExlist").val(settings.exlist);jQuery("input[name=radTheme][value="+settings.theme+"]").prop("checked","checked");return false}db.exitSettings=function(){Shadowbox.close(((mem_settings_caller=="project")||(mem_settings_caller=="dynamic")||(mem_settings_caller=="controller")));if(mem_settings_caller=="project"){setTimeout(function(){MpcCpanel.mainProject("utility","none")},50)}else{if(mem_settings_caller=="dynamic"){setTimeout(function(){MpcCpanel.diaDynamic()},50)}else{if(mem_settings_caller=="controller"){setTimeout(function(){MpcCpanel.mainConfig(1,"settings")},50)}}}};db.submitSettings=function(){var dZ=jQuery("input:radio[name=force_ssl]:checked").val();var M=jQuery("input:radio[name=legacy_prj]:checked").val();var d7=jQuery("input:radio[name=conf_del]:checked").val();var dV=jQuery("input:radio[name=conf_ovr]:checked").val();var dX=jQuery("input:radio[name=anim]:checked").val();var dW=jQuery("input:radio[name=cb_ts]:checked").val();var d6=jQuery("input:radio[name=dosort]:checked").val();var d3=jQuery("input:radio[name=sepw]:checked").val();var d1=jQuery("input:radio[name=dowp]:checked").val();var d2=jQuery("input:radio[name=init_ed_src]:checked").val();var dY=jQuery("input:radio[name=radTheme]:checked").val();var d5=jQuery("#txExlist").val();var d0=jQuery("#qetrigger").val();var d4=jQuery("#sel_perpage").val();var dU=jQuery("#sel_culldays").val();var d8=jQuery("#sel_tzone").val();d5=d5.replace(/[,\.]+/g," ");d5=ce(d5);d5=d5.replace(/\s+/g," ");d5=d5.toLowerCase(d5);settings.perpage=d4;settings.culldays=dU;settings.tzone=d8;settings.force_ssl=dZ;settings.qetrigger=d0;settings.legacy_prj=M;settings.conf_del=d7;settings.conf_ovr=dV;settings.anim=dX;settings.cb_ts=dW;settings.dosort=d6;settings.sepw=d3;settings.dowp=d1;settings.init_ed_src=d2;settings.exlist=d5;settings.theme=dY;cY(dY);jstr=JSON.stringify(settings);mem_restart=((ht_qetrigger!=d0)||(ht_dowp!=d1));dM(jstr);return false};db.defaultSettings=function(){jQuery("input:radio[name=force_ssl]")[1].checked=true;jQuery("input:radio[name=legacy_prj]")[1].checked=true;jQuery("input:radio[name=conf_del]")[0].checked=true;jQuery("input:radio[name=conf_ovr]")[0].checked=true;jQuery("input:radio[name=anim]")[0].checked=true;jQuery("input:radio[name=cb_ts]")[0].checked=true;jQuery("input:radio[name=dosort]")[0].checked=true;jQuery("input:radio[name=sepw]")[1].checked=true;jQuery("input:radio[name=dowp]")[1].checked=true;jQuery("input:radio[name=init_ed_src]")[1].checked=true;jQuery("input:radio[name=radTheme]")[1].checked=true;jQuery("#qetrigger").val("double");jQuery("#sel_perpage").val("100");jQuery("#sel_culldays").val("14");jQuery("#sel_tzone").val("GMT");jQuery("#txExlist").val("css js jpg gif png")};function a2(M){aN("jfcf1cXxf",{},M);return false}function br(M){aN("jebF1dXC9",{},M);return false}function G(M){aN("ajax_readPxSettings",{},M);return false}function bp(M){c8("j0dE1fXCF",{},M);return false}function dM(M){aN("j21F21X2d",{parm_ajax:M},function(dU){db.exitSettings()});return false}function aE(dU){var M=dU.replace(/\+/g," ");var dV='<div class="dia-content">';dV+='<div style="font-size:16px">';dV+='<table style="width:100%"><tr>';dV+='<td style="text-align:left">'+M+"</td>";dV+="</tr></table>";dV+="<hr>";dV+="</div>";dV+='<div class="popup12">';dV+="While Mpc runs with an Evaluation license, all functions and tools are 100% operational.";dV+="<br /><br />A Full license has NO time limit, it never expires.";dV+="</div>";dV+='<div class="centerbtn">';dV+='<a href="https://masspagecreator.com/links.php?go=hasEval" target="_blank" class="sexybutton" title="Purchase Full License"><span><span>';dV+='<span class="cart">Buy Full License</span></span></span></a>&nbsp;&nbsp;';dV+='<button class="sexybutton" onclick="Shadowbox.close()" title="Continue With Current License"><span><span>';dV+='<span class="accept">Just Continue</span></span></span></button>&nbsp;&nbsp;';dV+='<button class="sexybutton" onclick="MpcCpanel.doNewCreds();return false" title="Enter license key into your credentials">';dV+='<span><span><span class="lock_edit">New Credentials</span></span></span></button>';dV+="</div>";dV+="</div>";Shadowbox.open({content:dV,title:"Evaluation license notice",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,displayNav:0,animate:settings.anim,onFinish:cI},height:191,width:520})}function bv(M){obj=jQuery.parseJSON(M);var dV=obj.domstr.replace(/,/g,"\r\n");var d1=obj.iudays+" day";if(obj.iudays!=1){d1+="s"}var dX=384;var d2=194;var dW=true;var dY="Confirm Personal Use";var dU="accept";var d0="MpcCpanel.ConfirmPersonal('"+obj.lmsg+"')";var dZ='<div class="dia-content">';dZ+='<div style="font-size:16px">';dZ+='<table style="width:100%"><tr>';dZ+='<td style="text-align:left">Licensed for Personal Use</td>';dZ+='<td style="text-align:right"><div><a href="#" onclick="window.open(\'https://masspagecreator.com/links.php?go=licensing\')">License Agreement</a></div></td>';dZ+="</tr></table>";dZ+="<hr>";dZ+="</div>";if(obj.dbid<122&&obj.dbid>1){dZ+='<div class="popup12">';dZ+="Your registered key has been associated with "+bA(obj.domcnt)+" domains.";dZ+="</div>";dZ+='<div class="popup12" style="margin-top:6px">';dZ+="If you do not own these domains or you are otherwise not in compliance with ";dZ+="the Personal Use license, you must upgrade to a Commercial license (removes all domain restrictions).";dZ+="</div>"}else{if(obj.iustat=="new"){dZ+='<div class="popup12">';dZ+="Your Registered Key has now been associated with "+obj.domcnt+" of the "+obj.trig+" domains allowed.";dZ+="</div>";dZ+='<div class="popup12" style="margin-top:6px">';dZ+="If you do not own these domains or you are otherwise not in compliance with ";dZ+="the Personal Use license, you must upgrade to a Commercial license (removes all domain restrictions).";dZ+="</div>"}else{if(obj.iudays>=30){d2=161;dY="Deactivate...";dU="erase";d0="MpcCpanel.Deactivate()";dZ+='<div class="popup12">';dZ+="MassPageCreator is already activated on "+obj.trig+" domains.";dZ+="</div>";dZ+='<div class="popup12" style="margin-top:6px">';dZ+="Under your license, MassPageCreator may only be activated on "+obj.trig+" domains. Upgrade to the Commercial license to remove this restriction.";dZ+="</div>";dZ+='<div class="popup12" style="margin-top:6px">';dZ+="If you are not using MassPageCreator commercially, you can deactivate installations every 30 days to allow space for new domains.";dZ+="</div>"}else{d2=121;dW=false;dZ+='<div class="popup12">';dZ+="Under your license, MassPageCreator may only be activated on "+obj.trig+" domains. Upgrade to the Commercial license to remove this restriction.";dZ+="</div>";dZ+='<div class="popup12" style="margin-top:6px">';dZ+="MassPageCreator is already activated on "+obj.trig+" domains.";dZ+="</div>";dZ+='<div class="popup12" style="margin-top:6px">';dZ+="If you are not using MassPageCreator commercially, you can deactivate installations every 30 days to allow space for new domains.";dZ+="</div>";dZ+='<div class="popup12" style="margin-top:6px">';dZ+="You deactivated installations "+d1+" ago.";dZ+="</div>";dZ+='<div class="popup12" style="margin-top:6px">';dZ+='Please <a href="mailto:support@masspagecreator.com">contact Support</a> if you need assistance.';dZ+="</div>"}}}dZ+='<div style="margin:10px 5px 0 0">';dZ+='<textarea class="domlistbox noselect" style="height:'+d2+'px" wrap="off" id="txDomList" readonly title="Domain usage with this license">'+dV+"</textarea></div>";dZ+="</div>";dZ+='<div style="position:relative;margin:20px auto 0;width:580px">';dZ+='<div id="ttlbusy" class="" style="position:absolute;top:0;right:0"></div>';dZ+='<table><tr style="white-space:nowrap">';dZ+='<td style="text-align:left">';dZ+='<button id="bnComm" class="sexybutton bdis" onclick="MpcCpanel.UpgradeCom()" title="Purchase Commercial Use license"><span><span>';dZ+='<span class="cart">Upgrade to Commercial License</span></span></span>';dZ+="</button>";if(dW){dZ+="&nbsp;&nbsp;&nbsp;";dZ+='<button id="bnAction" class="sexybutton bdis" onclick="'+d0+'" title="'+dY+' "><span><span>';dZ+='<span class="'+dU+'">'+dY+"</span></span></span>";dZ+="</button>"}dZ+="</td>";dZ+="</tr></table>";dZ+="</div>";dZ+="</div>";Shadowbox.open({content:dZ,title:"Licensing notice",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"deactive",animate:settings.anim,onClose:db.doRefresh,onFinish:cI},height:dX,width:620})}db.ConfirmPersonal=function(M){Shadowbox.close();if(M!="x"){aE(M)}return false};db.Deactivate=function(){aj("ttlbusy");jQuery(".bdis").prop("disabled",true);location.href=cp.theFnameUrl+"?logout=2";exit()};db.UpgradeCom=function(){Shadowbox.close();location.href=href="https://masspagecreator.com/links.php?go=purchaseComm";exit()};db.goSupport=function(){};db.ResetInUse=function(M,dU){c8("j0A522XX0",{});Shadowbox.close();if(M!="x"){aE(M)}return false};function h(){var M='<div class="dia-content noselect">';M+="Deactivating installations will allow you to activate MassPageCreator on new personally owned domains as defined in the Mpc License Agreement.";M+='<div class="popup12" style="margin-top:6px">';M+="Installations can be deactivated every 30 days.";M+="</div>";M+='<div style="margin:10px 0 0 0">';M+='<table id="login">';M+="<tr>";M+='<td style="text-align:right"><label for="txEmail">Email</label></td>';M+='<td style="text-align:center">&nbsp;&nbsp;<input type="text" name="txEmail" value="" id="txEmail" onkeyup="MpcCpanel.forceEmail(this);MpcCpanel.hideDiaStatusK(event);return false;"  />&nbsp;&nbsp;</td>';M+='<td style="text-align:left" class="smallNote">name@example.com</td>';M+="</tr>";M+="<tr>";M+='<td style="text-align:right"><label for="txPass">Password</label></td>';M+='<td style="text-align:center">&nbsp;&nbsp;<input type="password" name="txPass" id="txPass" onkeyup="MpcCpanel.hideDiaStatusK(event);return false" />&nbsp;&nbsp;</td>';M+='<td style="text-align:left" class="smallNote">password you created</td>';M+="</tr>";M+="<tr>";M+='<td style="text-align:right"><label for="txLicense">License Key</label></td>';M+='<td style="text-align:center"><input type="text" name="txLicense" id="txLicense" value="" onkeyup="MpcCpanel.forceKey(this);MpcCpanel.hideDiaStatusK(event);return false" /></td>';M+='<td style="text-align:left" class="smallNote">xxxx-xxxx-xxxx-xxxx</td>';M+="</tr>";M+="</table>";M+="</div>";M+='<div style="position:relative;width:100%;margin:10px 0 0 0">';M+='<div id="ttlbusy" class="" style="position:absolute;top:0;right:0"></div>';M+="<table><tr>";M+='<button id="bnDeact" class="sexybutton" onclick="MpcCpanel.doDeact()" title="Deactivate Installations"><span><span>';M+='<span class="lightning">Deactivate All Installations</span></span></span></button>&nbsp;';M+="</td>";M+="</tr></table>";M+='<div class="dia-status" style="position:absolute;top:4px;right:0;"></div>';M+="</div>";M+="</div>";Shadowbox.open({content:M,title:"Deactivate installations",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"deactive",animate:settings.anim,onClose:db.doRefresh,onFinish:cI},height:250,width:530})}db.doDeact=function(){db.hideDiaStatus();var M=jQuery("#txEmail").val();var dV=jQuery("#txPass").val();var dU=jQuery("#txLicense").val();if(!cs(M)){ad("pink","Invalid email");bn("txEmail");return false}if(dV.length<5){ad("pink","Invalid password");bn("txPass");return false}if(dU.length!=19){ad("pink","Invalid key");bn("txLicense");return false}aj("ttlbusy");c8("j0ca24XG9",{email_ajax:M,pass_ajax:dV,key_ajax:dU},function(dW){if(dW=="ok"){location.href=cp.theFnameUrl+"?logout=1";exit()}else{ca("ttlbusy");ad("pink",dW);bn("txLicense");return false}});return false};db.createFormula=function(){var dU=encodeURIComponent(theme.dbtnHov);var dW=encodeURIComponent(theme.dbtnSel);var dX;c8("kFFX30XxX",{caller_ajax:"formulaCr"},function(dY){dX=dY},true);var dV={"+":"-","/":"_","=":"."};var M=dw.encode(dX).replace(/[\+\/\=]/g,function(dY){return dV[dY]});Shadowbox.open({content:cp.auxdir+"/formula.php?cp="+bf+"&thm_dbtnHov="+dU+"&thm_dbtnSel="+dW+"&TESTING="+cp.testing+"&VER="+cp.ver+"&hov="+M,title:"Var Formula Creator",player:"iframe",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:cI},height:483,width:540})};db.pushVarbox=function(dU){var M=jQuery("#taVar"+bf).val();M=ce(M);if(M.length==0){jQuery("#taVar"+bf).val(M+dU+"\n")}else{jQuery("#taVar"+bf).val(M+"\n"+dU+"\n")}db.saveSnap("taVar"+bf);return false};db.popVarbox=function(){var dV=jQuery("#taVar"+bf).val();dV=ce(dV);var M=dV.split("\n");if(M.length<2){jQuery("#taVar"+bf).val("");return false}M.pop();var dU=M.join("\n")+"\n";jQuery("#taVar"+bf).val(dU);db.saveSnap("taVar"+bf);return false};db.getCurPageVar=function(){return bf};db.diaCopyPath=function(){D();var dX=(prjBaseName=="")?"Untitled":prjBaseName;var dW=[];var dV;for(x=1;x<6;x++){dV=jQuery("#txPath"+x).val();dW[x-1]=(dV=="")?"path"+x:jQuery("#txPath"+x).val()}var dU=["Path1","Path2","Path3","Path4","Path5"];var M=["","","","",""];M[cG-1]="fsel";var dY="";dY+='<div class="dia-content" onmousedown="MpcCpanel.hideStat()">';dY+='<div class="pinstripe twrap1" style="width:538px;margin-top:0;position:relative;background-color:'+theme.sbload+'">';dY+='<div style="padding-bottom:8px">Current Project: '+dX+"</div>";dY+='<div id="cpc-stat" class="dia-status" style="position:absolute;top:7px;right:15px;visibility:hidden"></div>';dY+='<div style="width:538px">';dY+='<table style="width:100%">';dY+="<tr>";dY+='<td ><div class="cpc tdcopy selok '+M[0]+'" onclick="MpcCpanel.tdSelect(\'cpc1\',\'cpc\',true);return false;" id="cpc1">'+dW[0]+"</div></td>";dY+='<td ><div class="cpc tdcopy selok '+M[1]+'" onclick="MpcCpanel.tdSelect(\'cpc2\',\'cpc\',true);return false;" id="cpc2">'+dW[1]+"</div></td>";dY+='<td ><div class="cpc tdcopy selok '+M[2]+'" onclick="MpcCpanel.tdSelect(\'cpc3\',\'cpc\',true);return false;" id="cpc3">'+dW[2]+"</div></td>";dY+='<td ><div class="cpc tdcopy selok '+M[3]+'" onclick="MpcCpanel.tdSelect(\'cpc4\',\'cpc\',true);return false;" id="cpc4">'+dW[3]+"</div></td>";dY+='<td ><div class="cpc tdcopy selok '+M[4]+'" onclick="MpcCpanel.tdSelect(\'cpc5\',\'cpc\',true);return false;" id="cpc5">'+dW[4]+"</div></td>";dY+="</tr>";dY+="</table>";dY+="</div>";dY+='<div style="margin:15px 0 0 4px">';dY+='<button class="sexybutton" onclick="MpcCpanel.copyPath(\'cpc\');return false;"';dY+='title="Copy Path from current Project to Var">';dY+='<span><span><span class="page_copy">Copy Path to Var '+bf+"</span></span></span>";dY+="</button>";dY+="&nbsp;&nbsp;";dY+='<button class="sexybutton" onclick="MpcCpanel.copySilo(\'cpc\');return false;"';dY+='title="Copy Silo Urls from current Project to Var">';dY+='<span><span><span class="silo">Copy Silos to Var '+bf+"</span></span></span>";dY+="</button>";dY+="</div>";dY+="</div>";dY+='<div class="pinstripe twrap1" style="width:538px;margin-top:15px;position:relative;background-color:'+theme.sbload+'">';dY+='<div style="padding-bottom:8px">External Project: <span id="xpName">(not loaded)</span></div>';dY+='<div id="cpx-stat" class="dia-status" style="position:absolute;top:7px;right:15px;visibility:hidden"></div>';dY+='<div style="width:538px">';dY+='<table style="width:100%">';dY+="<tr>";dY+='<td ><div class="cpx tdcopy selok sb-dis" onclick="MpcCpanel.cpxSelect(\'cpx1\',\'cpx\',true);return false;" id="cpx1">'+dU[0]+"</div></td>";dY+='<td ><div class="cpx tdcopy selok sb-dis" onclick="MpcCpanel.cpxSelect(\'cpx2\',\'cpx\',true);return false;" id="cpx2">'+dU[1]+"</div></td>";dY+='<td ><div class="cpx tdcopy selok sb-dis" onclick="MpcCpanel.cpxSelect(\'cpx3\',\'cpx\',true);return false;" id="cpx3">'+dU[2]+"</div></td>";dY+='<td ><div class="cpx tdcopy selok sb-dis" onclick="MpcCpanel.cpxSelect(\'cpx4\',\'cpx\',true);return false;" id="cpx4">'+dU[3]+"</div></td>";dY+='<td ><div class="cpx tdcopy selok sb-dis" onclick="MpcCpanel.cpxSelect(\'cpx5\',\'cpx\',true);return false;" id="cpx5">'+dU[4]+"</div></td>";dY+="</tr>";dY+="</table>";dY+="</div>";dY+='<div style="margin:15px 0 0 4px">';dY+='<button class="sexybutton" id="bnCopyPx" onclick="MpcCpanel.copyPath(\'cpx\');return false;"';dY+='title="Copy Path from external Project to Var" disabled="disabled">';dY+='<span><span><span class="page_copy">Copy Path to Var '+bf+"</span></span></span>";dY+="</button>";dY+="&nbsp;&nbsp;";dY+='<button class="sexybutton" id="bnCopySx" onclick="MpcCpanel.copySilo(\'cpx\');return false;"';dY+='title="Copy Silo Urls from external Project to Var" disabled="disabled">';dY+='<span><span><span class="silo">Copy Silos to Var '+bf+"</span></span></span>";dY+="</button>";dY+="&nbsp;&nbsp;";dY+='<button class="sexybutton" onclick="MpcCpanel.readProject();return false;"';dY+='title="Read external Project file" id="bnRead">';dY+='<span><span><span class="book">Read External Project</span></span></span>';dY+="</button>";dY+="</div>";dY+="</div>";dY+='<div style="position:relative;margin-top:16px">';dY+='<div id="ttlbusy" class="" style="position:absolute;top:0;right:2px"></div>';dY+="<table>";dY+='<tr style="white-space:nowrap">';dY+='<td><button class="sexybutton" onclick="MpcCpanel.switchPrevPage(\'bv\');MpcCpanel.setCopyBtn();return false;"';dY+='title="Target previous Var">';dY+='<span><span><span class="prev">Previous Var</span></span></span>';dY+="</button>&nbsp;&nbsp;";dY+='<td><button class="sexybutton" onclick="MpcCpanel.switchNextPage(\'bv\');MpcCpanel.setCopyBtn();return false;"';dY+='title="Target next Var">';dY+='<span><span><span class="next">Next Var</span></span></span>';dY+="</button>&nbsp;&nbsp;";dY+='<td><button class="sexybutton" title="Close this dialog." onclick="parent.Shadowbox.close();return false;"><span><span>';dY+='<span class="accept">Done</span></span></span></button></td>';dY+="</tr>";dY+="</table>";dY+="</div>";dY+='<input type="file" id="fileElem" style="display:none" onchange="MpcCpanel.handleFile(this.files)">';dY+="</div>";Shadowbox.open({content:dY,title:"Copy Path or Silo Urls to Var "+bf,player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:cW},height:321,width:600})};function cW(){cI()}function cJ(){aj("ttlbusy");jQuery("#bnRead").prop("disabled",true)}function T(){jQuery("#bnRead").prop("disabled",false);ca("ttlbusy")}db.readProject=function(){jQuery("#fileElem").click()};db.handleFile=function(dU){var M=dU[0];cJ();setTimeout(function(){MpcCpanel.handleRead(M)},1000)};db.handleRead=function(dU){var M=new FileReader();M.onloadstart=function(){};M.onabort=function(){T()};M.onerror=function(){db.showStat("cpx","error reading file");T()};M.onloadend=function(){try{var dX=jQuery.parseJSON(M.result)}catch(dW){db.showStat("cpx","error parsing file");T();return}if(dX.SIG!="MassPageCreator Project"){db.showStat("cpx","not a valid project");T();return}var dY=dU.name.replace(/\.prj$/,"");jQuery("#xpName").html(dY);for(x=1;x<6;x++){extProject["path"+x]=dX["PBOX"+x].replace(/\\n/g,"\n");if(dX["PLAB"+x]!=""){jQuery("#cpx"+x).html(dX["PLAB"+x])}}extProject.lowurl_yn="no";if(dX.JSET!=null){var dV=jQuery.parseJSON(dX.JSET);extProject.lowurl_yn=dV.lowurl_yn}jQuery(".cpx").toggleClass("sb-dis",false);jQuery("#bnCopySx").prop("disabled",false);T()};M.readAsBinaryString(dU)};db.copyPath=function(M){var dU=bi(M,5);var dV;if(M=="cpc"){dV=jQuery("#taPath"+dU).val()}else{dV=extProject["path"+dU]}dV=dV.trim()+"\n";dV=dV.replace(/\/*\n/g,"\n");jQuery("#taVar"+bf).val(dV);db.saveSnap("taVar"+bf)};db.copySilo=function(M){var dU;if(M=="cpc"){b4("cpc")}else{b4("cpx")}};db.setCopyBtn=function(){jQuery(".page_copy").html("Copy Path to Var "+bf);jQuery(".silo").html("Copy Silos to Var "+bf);jQuery("#sb-title-inner").html("Copy Path or Silo Urls to Var "+bf)};db.cpxSelect=function(dV,dU,M){if(jQuery("#cpx1").hasClass("sb-dis")){return}db.tdSelect(dV,dU,M);jQuery("#bnCopyPx").prop("disabled",false)};db.tdSelect=function(dW,dV,M){var dU=jQuery("#"+dW);if(dU.hasClass("selok")){tf=dU.hasClass("fsel");jQuery("."+dV).toggleClass("fsel",false);if(M){tf=false}if(!tf){dU.toggleClass("fsel",true)}}return false};function bi(dV,dW){var dU=0;var M;for(M=1;M<=dW;M++){if(jQuery("#"+dV+M).hasClass("fsel")){dU=M;break}}return dU}function b4(dU){arPbox=new Array();arSiloPaths=new Array();var d0=new Array("*");var d1,d2;var dX="no";if(dU=="cpc"){for(d1=1;d1<=5;d1++){d2=jQuery("#taPath"+d1).val().trim();if(d2==""){arPbox.push(d0)}else{arPbox.push(d2.split("\n"))}}dX=jsettings.lowurl_yn}else{for(d1=1;d1<=5;d1++){d2=extProject["path"+d1].trim();if(d2==""){arPbox.push(d0)}else{arPbox.push(d2.split("\n"))}}dX=extProject.lowurl_yn}var dV=0;lastx=0;for(d1=0;d1<5;d1++){if(arPbox[d1][0].substr(-2)=="//"){dV++;lastx=d1+1}}if(dV==0){db.showStat(dU,"no silos found");return false}c7("",0);if(dV>1){var dW={};var dY;var M;var dZ;arSiloPaths.forEach(function(d3){M=d3.split("//",dV-1);dZ="";for(d1=0;d1<dV-1;d1++){dZ+=M[d1]+"//";dW[dZ]=0}});M=Object.keys(dW);arSiloPaths=M.concat(arSiloPaths)}d2=arSiloPaths.join("\n")+"\n";d2=d2.replace(/\^\*\^/g,"-");d2=d2.replace(/\n[\^-]/g,"\n");d2=d2.replace(/^[\^-]/,"");d2=d2.replace(/[ ^]/g,"-");d2=d2.replace(/\/-/g,"/");d2=d2.replace(/\/\//g,"/");if(dX=="yes"){d2=d2.toLowerCase()}jQuery("#taVar"+bf).val(d2);db.saveSnap("taVar"+bf);return true}function c7(M,dU){if(dU>=lastx){arSiloPaths.push(M)}else{arPbox[dU].forEach(function(dV){c7(M+"^"+dV,dU+1)})}return true}function D(){aN("kFFX28XxX",{},function(M){jsettings=jQuery.parseJSON(M)});return false}db.showStat=function(dV,dU){var M=jQuery("#"+dV+"-stat");M.html(dU);M.css("visibility","visible")};db.hideStat=function(){jQuery(".dia-status").css("visibility","hidden")};db.diaPathFormula=function(){mem_red="normal";rangeF="";rangeL="";if(jQuery("#taPath"+cG).val()==""){cu("ERR:Path"+cG+" empty","Cannot add formulas to an empty Path list box.","center",117,400);return}for(x=1;x<6;x++){ar_pcust[x-1]=(jQuery("#txPath"+x).val()=="")?"Path"+x:jQuery("#txPath"+x).val();ar_pcustlo[x-1]=ar_pcust[x-1].toLowerCase()}arTd=new Array("selok","selok","selok","selok","selok");if(cG==1){arTd[0]="cpadim";arTd[1]="selok fsel"}else{arTd[0]="selok fsel";arTd[cG-1]="cpadim"}str="";str+='<div id="thecontent" class="dia-content noselect" style="padding:20px 0 0 20px;position:relative" onmousedown="MpcCpanel.hideStatPF()">';str+='<table style="margin-top:1px">';str+="<tr>";str+='<td style="width:294px;text-align:left;vertical-align:top">';str+='<div class="pinstripe twrap1" style="width:270px;background-color:'+theme.sbload+'">';str+='<div class="opac">';str+='<table style="width:100%">';str+="<tr>";str+='<td colspan="3" style="text-align:center;font-size:14px;font-weight:bold">Range</td>';str+="</tr>";str+="<tr>";str+='<td style="text-align:left"><div class="lab11 noselect">First Line</div></td>';str+="<td>&nbsp;</td>";str+='<td style="text-align:left"><div class="lab11 noselect">Last Line</div></td>';str+="</tr>";str+="<tr>";str+='<td style="text-align:left;width:90px"><input style="width:80px" id="txRangeFirst" value="" type="text" readonly title="Right-click Path lines to set range"></td>';str+='<td style="text-align:center;width:100%"><div id="boxR1"><div class="tdcPF1 selok cpadim fsel" title="Auto-select next single line" style="margin:0 10px 2px" onclick="MpcCpanel.autoNextClick();return false" id="cpa1">Auto Next</div></div></td>';str+='<td style="text-align:left;width:90px"><input style="width:80px" id="txRangeLast"  value="" type="text" readonly title="Right-click Path lines to set range"></td>';str+="</tr>";str+="<tr>";str+='<td><div style="height:15px"></div></td>';str+="</tr>";str+="<tr>";str+='<td colspan="3" style="text-align:center;white-space:nowrap">';str+='<div id="boxR">';str+='<button id="bnNext" disabled="disabled" class="sexybutton" title="Set range to next single line." onclick="MpcCpanel.nextRange();return false;"><span><span>';str+='<span class="next">Next</span></span></span></button>&nbsp';str+='<button id="bnAll" class="sexybutton btns" disabled="disabled" title="Set range to entire list." onclick="MpcCpanel.fullRange();return false;"><span><span>';str+='<span class="full">All</span></span></span></button>&nbsp';str+='<button id="bnNone" class="sexybutton btns" disabled="disabled" title="Clear range settings." onclick="MpcCpanel.clrRange();return false;"><span><span>';str+='<span class="empty">None</span></span></span></button>';str+="</div>";str+="</td>";str+="</tr>";str+="</table>";str+="</div>";str+="</div>";str+="</td>";str+='<td rowspan="2"><div style="width:18px"></div></td>';str+='<td rowspan="2" style="width:502px;vertical-align:top">';str+='<div class="pinstripe twrap1" style="position:relative;width:482px;height:395px;background-color:'+theme.sbload+'">';str+='<div id="prompt" style="padding:0 0 3px 4px;margin-right:4px;font-size:11px">';str+="Click to select line. Right-click to set range. Target path is <b>"+ar_pcustlo[cG-1]+"</b>";str+="</div>";str+='<div style="position:relative">';str+='<div id="scrollboxPF">';str+="</div>";str+='<div id="scrollboxPF1" style="visibility:hidden"></div>';str+="</div>";str+='<div style="position:absolute;left:10px;bottom:11px;width:502px">';str+="<table>";str+='<tr style="white-space:nowrap">';str+='<td style="text-align:left">';str+='<button id="bn_sel_top" class="sexybutton btns" disabled="disabled" onclick="MpcCpanel.selTop();return false;";';str+='title="Select and scroll to the first line">';str+='<span><span><span class="arrow_nw">Top Line</span></span></span>';str+="</button>";str+="</td>";str+='<td style="text-align:center;width:120px">';str+='&nbsp;&nbsp;<button id="bn_sel_bottom" class="sexybutton btns" disabled="disabled" onclick="MpcCpanel.selBottom(false);return false;"';str+='title="Select and scroll to the last line">';str+='<span><span><span class="arrow_sw">Bottom Line</span></span></span>';str+="</button>&nbsp;&nbsp;";str+="</td>";str+='<td style="text-align:left;">';str+='<button id="bn_sel_range_top" class="sexybutton btns" disabled="disabled" onclick="MpcCpanel.selRangeF();"';str+='title="Select FIRST contiguous range lacking formulas">';str+='<span><span><span class="arrow_up">First Range</span></span></span>';str+="</button>&nbsp;&nbsp;";str+="</td>";str+='<td style="text-align:left;">';str+='<button id="bn_sel_range_bottom" class="sexybutton btns" disabled="disabled" onclick="MpcCpanel.selRangeL();"';str+='title="Select LAST contiguous range lacking formulas">';str+='<span><span><span class="arrow_down">Last Range</span></span></span>';str+="</button>";str+="</td>";str+="</tr>";str+="</table>";str+="</div>";str+="</div>";str+="</td>";str+="</tr>";str+="<tr>";str+='<td style="vertical-align:bottom">';str+='<div class="pinstripe twrap1" style="position:relative;width:270px;margin-top:15px;background-color:'+theme.sbload+'">';str+='<div id="boxF" style="opacity:0.3">';str+='<table style="width:100%">';str+="<tr>";str+='<td colspan="3" style="text-align:center;font-size:14px;font-weight:bold"><div class="opac">Formula</div></td>';str+="</tr>";str+="<tr>";str+='<td style="text-align:left"><div class="lab11 noselect opac">Selected Path</div></td>';str+="<td>&nbsp;</td>";str+='<td style="text-align:left"><div class="lab11 noselect opac">Compare</div></td>';str+="</tr>";str+='<tr style="white-space:nowrap">';str+='<td style="text-align:left;width:100px"><div class="cpc tdcPF1 opac '+arTd[0]+'" onclick="MpcCpanel.tdSelect(\'cpc1\',\'cpc\',true);return false" id="cpc1">'+ar_pcust[0]+"</div></td>";str+="<td>&nbsp;</td>";str+='<td style="text-align:right;width:77px"><div class="cpx tdcPF1 opac selok fsel" onclick="MpcCpanel.tdSelect(\'cpx1\',\'cpx\',true);return false" id="cpx1">Equal</div></td>';str+="</tr>";str+='<tr style="white-space:nowrap">';str+='<td style="text-align:left;width:100px"><div class="cpc tdcPF1 opac '+arTd[1]+'" onclick="MpcCpanel.tdSelect(\'cpc2\',\'cpc\',true);return false" id="cpc2">'+ar_pcust[1]+"</div></td>";str+="<td>&nbsp;</td>";str+='<td style="text-align:right;width:77px"><div class="cpx tdcPF1 opac selok     " onclick="MpcCpanel.tdSelect(\'cpx2\',\'cpx\',true);return false" id="cpx2">Not Equal</div></td>';str+="</tr>";str+='<tr style="white-space:nowrap">';str+='<td style="text-align:left;width:100px"><div class="cpc tdcPF1 opac '+arTd[2]+'" onclick="MpcCpanel.tdSelect(\'cpc3\',\'cpc\',true);return false" id="cpc3">'+ar_pcust[2]+"</div></td>";str+="<td>&nbsp;</td>";str+='<td style="text-align:right;width:77px"><div class="cpx tdcPF1 opac selok     " onclick="MpcCpanel.tdSelect(\'cpx3\',\'cpx\',true);return false" id="cpx3">Contains</div></td>';str+="</tr>";str+='<tr style="white-space:nowrap">';str+='<td style="text-align:left;width:100px"><div class="cpc tdcPF1 opac '+arTd[3]+'" onclick="MpcCpanel.tdSelect(\'cpc4\',\'cpc\',true);return false" id="cpc4">'+ar_pcust[3]+"</div></td>";str+="<td>&nbsp;</td>";str+='<td style="text-align:right;width:77px"><div class="cpx tdcPF1 opac selok     " onclick="MpcCpanel.matchClick();return false" id="cpx4"';str+='title="">Regex Url</div></td>';str+="</tr>";str+='<tr style="white-space:nowrap">';str+='<td style="text-align:left;width:100px"><div class="cpc tdcPF1 opac '+arTd[4]+'" onclick="MpcCpanel.tdSelect(\'cpc5\',\'cpc\',true);return false" id="cpc5">'+ar_pcust[4]+"</div></td>";str+="<td>&nbsp;</td>";str+="<td>&nbsp;</td>";str+="</tr>";str+="</table>";str+='<table style="width:100%">';str+="<tr>";str+='<td colspan="4" style="text-align:left"><div class="noselect" id="csprompt" style="padding:5px 0 3px 4px;font-size:11px">Comparison Value</div></td>';str+="</tr>";str+="<tr>";str+='<td colspan="2"><input style="width:210px;margin:0 0 0 2px" id="cString" value="" type="text" /></td>';str+="<td>&nbsp;</td>";str+='<td style="text-align:right"><div class="tdcPF1 selok browse_show" style="margin-bottom:0px;height:23px;width:37px" title="View and set Comparison Value from Selected Path list box"';str+='onclick="MpcCpanel.showPathClick();return false" id="cbShowPath">&nbsp;</div></td>';str+="</tr>";str+="<tr>";str+='<td colspan="4">';str+='<table style="width:100%">';str+="<tr>";str+='<td style="width:77px"><div style="margin-top:2px" class="tdcPF1 opac selok aub" title="Automate formulas per each Path item"';str+="onclick=\"MpcCpanel.autoSyncClick('Path', 'Group', 'Marked');return false\" id=\"cbAutoPath\">Auto Path</div></td>";str+='<td style="width:2px"><div style="width:2px"></div></td>';str+='<td style="width:87px"><div style="margin-top:2px" class="tdcPF1 opac selok aub" title="Automate formulas per alpha sorted Groups"';str+="onclick=\"MpcCpanel.autoSyncClick('Group', 'Path', 'Marked');return false\" id=\"cbAutoGroup\">Auto Group</div></td>";str+='<td style="width:2px"><div style="width:2px"></div></td>';str+='<td style="width:97px"><div style="margin-top:2px" class="tdcPF1 opac selok aub" title="Automate formulas per marked Groups"';str+="onclick=\"MpcCpanel.autoSyncClick('Marked', 'Path', 'Group');return false\" id=\"cbAutoMarked\">Marked Group</div></td>";str+="</tr>";str+="</table>";str+="</td>";str+="</tr>";str+="</table>";str+="</div>";str+="</div>";str+="<td>";str+="</tr>";str+="</table>";str+='<div style="position:relative;margin-top:20px;text-align:left">';str+='<table style="width:100%;text-align:left">';str+='<tr style="white-space:nowrap">';str+='<td style="text-align:left;width:350px">';str+='<button id="bnAddF" class="sexybutton btns" disabled="disabled" onclick="MpcCpanel.doAddFormula(true);return false;"';str+='title="Add formulas to lines in range">';str+='<span><span><span class="add">Add Formula</span></span></span>';str+="</button>&nbsp;&nbsp;";str+='<button id="bnAccF" class="sexybutton btns" disabled="disabled" onclick="MpcCpanel.doAcceptPF();"';str+='title="Accept changes and close dialog">';str+='<span><span><span class="accept">Accept and Close</span></span></span>';str+="</button>&nbsp;&nbsp;";str+='<button id="bnRemF" class="sexybutton btns" disabled="disabled" onclick="MpcCpanel.doAddFormula(false);return false;"';str+='title="Remove formulas from lines in range.">';str+='<span><span><span class="delete">Remove Formula</span></span></span>';str+="</button>";str+="</td>";str+='<td style="text-align:right">';str+='<div id="busyPF" class="busycss" style="position:absolute;top:0;right:20px"></div>';str+="</td>";str+="</tr>";str+="</table>";str+='<div class="dia-status" style="position:absolute;top:2px;right:20px"></div>';str+="</div>";str+="</div>";Shadowbox.open({content:str,title:"Path Formula Creator",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"pathForm",animate:settings.anim,onFinish:N},height:504,width:900})};function N(){cI();arCmp[0]="=";arCmp[1]="!";arCmp[2]="~";arCmp[3]="x";c8("ajax_prePathForm",{curpath:cG},function(dV){var M;try{M=jQuery.parseJSON(dV);jQuery("#cpx4").prop("title",M.asisurl);ar_snapcnt=M.ar_snapcnt;totalcount=M.totalcount;gtotal=M.gtotal;ar_gbeg=M.ar_gbeg;ar_snapstr=M.ar_snapstr;jQuery("#scrollboxPF").html(M.boxstr);setTimeout("MpcCpanel._bindPF()",20)}catch(dU){jQuery("#scrollboxPF").html("Error reading listbox");K()}})}db._bindPF=function(){jQuery(".zx").bind("click",function(){MpcCpanel.set_globalzz(this.id.substr(2));MpcCpanel.setRangeSolo()});jQuery(".zx").bind("dblclick",function(){var M=this.id;jQuery("#"+M).toggleClass("marker");if(mem_red=="mark"){MpcCpanel.selMarkers()}});jQuery("#cString").bind("keypress",function(dU){var M=dU.keyCode?dU.keyCode:dU.which;if(M==13){MpcCpanel.enterPressed();dU.preventDefault()}});jQuery("#scrollboxPF").contextMenu("menu",menu_PF,{triggerOn:"click",mouseClick:"right",horAdjust:6,verAdjust:6,onOpen:MpcCpanel.cmenuOpen});K()};db.cmenuOpen=function(dU,M){MpcCpanel.set_globalzz(M.target.id.substr(2))};db.set_globalzz=function(M){globalzz=M};db.clrMarkers=function(){jQuery(".zx").toggleClass("marker",false);if(mem_red=="mark"){jQuery(".nu").toggleClass("rednum",false)}};db.enterPressed=function(){if(!bStopButtons){MpcCpanel.doAddFormula(true);if(!jQuery("#cpa1").hasClass("fsel")){jQuery("#cString").val("")}}};function K(){ca("busyPF");if(!jQuery("#cbShowPath").hasClass("ssel")){jQuery(".btns").prop("disabled",false);jQuery("#boxF").css("opacity","1.0")}}function cy(){aj("busyPF");jQuery(".btns").prop("disabled",true);jQuery("#boxF").css("opacity","0.3")}db.autoNextClick=function(){if(bStopButtons){return false}var M=jQuery("#cpa1");if(M.hasClass("cpadim")){return}M.toggleClass("fsel")};db.matchClick=function(){if(bStopButtons){return}if(jQuery("#cpx4").hasClass("cpadim")){return}db.tdSelect("cpx4","cpx",true)};db.autoSyncClick=function(dX,dW,dV){if(bStopButtons){return false}jthis=jQuery("#cbAuto"+dX);jthat1=jQuery("#cbAuto"+dW);jthat2=jQuery("#cbAuto"+dV);jthis.toggleClass("fsel");if(jthis.hasClass("fsel")){jthat1.toggleClass("fsel",false);jthat2.toggleClass("fsel",false)}var dY=false;mem_red="normal";if(jQuery("#cbAutoPath").hasClass("fsel")){dY=true}if(jQuery("#cbAutoGroup").hasClass("fsel")){dY=true;mem_red="all"}if(jQuery("#cbAutoMarked").hasClass("fsel")){dY=true;mem_red="mark"}jQuery(".mfl").toggleClass("iw-mDisable",(mem_red!="normal"));a9((mem_red!="normal"));dv();cS();var dU=jQuery("#cString");dU.val("");dU.toggleClass("dimBgnd",dY);dU.prop("disabled",dY);var M=jQuery("#cpx4");M.toggleClass("cpadim",dY);M.toggleClass("fsel",false);jQuery(".cpc").toggleClass("spdim",false);jQuery("#csprompt").html("Comparison Value")};function a9(dU){var M=[{name:"First line of range",disable:dU},{name:"Last line of range",disable:dU}];jQuery("#scrollboxPF").contextMenu("update",M)}function cS(){switch(mem_red){case"normal":if(!jQuery("#cbAutoPath").hasClass("fsel")){db.clrRange()}jQuery("#boxR").css("opacity","1.0");jQuery("#boxR1").css("opacity","1.0");break;case"all":jQuery("#boxR").css("opacity","0.3");jQuery("#boxR1").css("opacity","0.3");jQuery(".nu").toggleClass("rednum",true);dB(1,totalcount);break;case"mark":jQuery("#boxR").css("opacity","0.3");jQuery("#boxR1").css("opacity","0.3");dB("","");db.selMarkers();break}}db.selMarkers=function(){var M=jQuery(".marker")[0];if(M){var dU=M.id;dU=parseInt(dU.substr(2));jQuery(".nu").each(function(){var dV=(parseInt(this.id.substr(2))<dU);jQuery(this).toggleClass("rednum",!dV)});dB(dU,totalcount)}else{jQuery(".nu").toggleClass("rednum",false)}};db.tdSelect=function(dW,dV,M){if(bStopButtons){return false}var dU=jQuery("#"+dW);if(!dU.hasClass("selok")){return false}tf=dU.hasClass("fsel");jQuery("."+dV).toggleClass("fsel",false);if(M){tf=false}if(!tf){dU.toggleClass("fsel",true)}if(dV=="cpx"){if(dW=="cpx4"){jQuery("#csprompt").html("Comparison Value - /regex/");jQuery(".cpc").toggleClass("spdim",true)}else{jQuery("#csprompt").html("Comparison Value");jQuery(".cpc").toggleClass("spdim",false)}}return false};function bi(dV,dW){var dU=0;var M;for(M=1;M<=dW;M++){if(jQuery("#"+dV+M).hasClass("fsel")){dU=M;break}}return dU}db.doAddFormula=function(dV){if(bStopButtons){return false}if(mem_red=="normal"){if((rangeF=="")&&(rangeL=="")){jQuery("#prompt").css("background-color","pink");ad("pink","Line or Range required");return false}}if(dV){cnum=bi("cpx",4);if(cnum==0){ad("pink","Compare required");jQuery(".cpx").toggleClass("pinkBgnd",true);return false}if(jQuery("#cbAutoPath").hasClass("fsel")){if(bi("cpx",4)==4){ad("pink","Cannot use 'Regex' with Auto Path");return false}var dW=bi("cpc",5);if(ar_snapcnt[dW-1]!=totalcount){ad("gold","Selected and target Path counts differ");return false}cy();setTimeout(function(){MpcCpanel.loopRangeAP(dW)},100);return false}if(jQuery("#cbAutoGroup").hasClass("fsel")){if(bi("cpx",4)==4){ad("pink","Cannot use 'Regex' with Auto Group");return false}ar_markers=[];mcount=0;jQuery(".marker").each(function(){m=parseInt(this.id.substr(2));if(ar_gbeg.indexOf(m)==-1){ar_markers.push(m);mcount++}});var dW=bi("cpc",5);var M=parseInt(gtotal)+mcount;if(ar_snapcnt[dW-1]!=M){ad("gold","Counts differ. Path: "+ao(ar_snapcnt[dW-1])+"&nbsp;&nbsp;Groups: "+ao(M));return false}cy();setTimeout(function(){MpcCpanel.loopRangeAG(dW,mcount,false)},100);return false}if(jQuery("#cbAutoMarked").hasClass("fsel")){if(bi("cpx",4)==4){ad("pink","Cannot use 'Regex' with Marked Group");return false}ar_markers=[];mcount=0;jQuery(".marker").each(function(){m=parseInt(this.id.substr(2));ar_markers.push(m);mcount++});ar_markers.push(parseInt(totalcount)+1);var dW=bi("cpc",5);if((ar_snapcnt[dW-1]!=mcount)||(mcount==0)){ad("gold","Counts differ. Path: "+ao(ar_snapcnt[dW-1])+"&nbsp;&nbsp;Groups: "+ao(mcount));return false}cy();setTimeout(function(){MpcCpanel.loopRangeAG(dW,mcount,true)},100);return false}var dU=jQuery("#cString");var dX=dU.val();dX=dX.trim();dU.val(dX);if(dX==""){dU.toggleClass("pinkBgnd",true);jQuery(".aub").toggleClass("pinkBgnd",true);ad("pink","Comparison Value or [Auto] required");return false}if(bi("cpx",4)==4){if(!dX.match(/^\/.+?\//)){dU.toggleClass("pinkBgnd",true);ad("pink","Pattern missing '/' delimiters");return false}}}cy();setTimeout(function(){MpcCpanel.loopRange(dV,dX)},100);return false};db.loopRangeAP=function(d0){var M=ar_snapstr[d0-1].split("\t");var dV=bi("cpx",4);var dW=arCmp[dV-1];var dZ=ar_pcustlo[d0-1];var dU=rangeF-0;var dY=rangeL-0;if(dY<dU){dU=rangeL-0;dY=rangeF-0}for(x=dU;x<=dY;x++){fstr='<span id="ff'+x+'" class="frm">['+dZ+dW+M[x-1]+"]</span> ";j=jQuery("#zz"+x);s=j.html();p=s.indexOf("</b>");dstr=s.substr(p+4);j.html('<span class="nu rednum ff" id="nn'+x+'">'+x+"</span> "+fstr+"<b></b>"+dstr)}var dX=jQuery("#cpa1");if((!dX.hasClass("cpadim"))&&(dX.hasClass("fsel"))){db.nextRange()}K()};db.loopRangeAG=function(dY,dZ,dV){var M=ar_snapstr[dY-1].split("\t");var dU=bi("cpx",4);var dW=arCmp[dU-1];var dX=ar_pcustlo[dY-1];var d0;if(dV){d0=ar_markers;gtotal=0}else{if(dZ==0){d0=ar_gbeg}else{d0=ar_gbeg.concat(ar_markers);d0.sort(function(d2,d1){return d2-d1})}}for(x=0;x<gtotal+dZ;x++){for(y=d0[x];y<d0[x+1];y++){fstr='<span id="ff'+y+'" class="frm">['+dX+dW+M[x]+"]</span> ";j=jQuery("#zz"+y);s=j.html();p=s.indexOf("</b>");dstr=s.substr(p+4);j.html('<span class="nu rednum ff" id="nn'+y+'">'+y+"</span> "+fstr+"<b></b>"+dstr)}}K()};db.loopRange=function(dY,d5){if(mem_red=="all"){rangeF=1;rangeL=totalcount}if(mem_red=="mark"){var dX=jQuery(".marker")[0];if(!dX){K();return}var dU=dX.id;rangeF=parseInt(dU.substr(2));rangeL=totalcount}var d2="";var d1="";if(dY){var dV=bi("cpc",5);var d3=bi("cpx",4);var dZ=ar_pcustlo[dV-1];var d6=arCmp[d3-1];if(d3!=4){d1='class="frm">['+dZ+d6+d5+"]</span> "}else{d1='class="frm">['+d5+"]</span> "}}var d0=(d1=="")?"":"ff";var dW=rangeF-0;var M=rangeL-0;if(M<dW){dW=rangeL-0;M=rangeF-0}for(x=dW;x<=M;x++){if(d1!=""){d2='<span id="ff'+x+'" '}dX=jQuery("#zz"+x);s=dX.html();p=s.indexOf("</b>");dstr=s.substr(p+4);dX.html('<span class="nu rednum '+d0+'" id="nn'+x+'">'+x+"</span> "+d2+d1+"<b></b>"+dstr)}var d4=jQuery("#cpa1");if((!d4.hasClass("cpadim"))&&(d4.hasClass("fsel"))){db.nextRange()}K()};db.doAcceptPF=function(){if(bStopButtons){return false}cy();setTimeout("MpcCpanel._doAcceptPF()",10)};db._doAcceptPF=function(){var dU;var dW;var dV;var M="";for(x=1;x<=totalcount;x++){dU=jQuery("#zz"+x).html();dW=dU.indexOf("[");if(dW!=-1){dV=dU.indexOf("]",dW);M+=dU.substring(dW,dV+1)+" "}dW=dU.indexOf("</b>");M+=dU.substr(dW+4).trim()+"\n"}bS(M)};function bS(M){jQuery("#taPath"+cG).val(M);db.saveSnap("taPath"+cG);Shadowbox.close();bX("taPath"+cG,0,0);return false}db.doCancel=function(){Shadowbox.close()};function dB(dU,M){rangeF=dU;rangeL=M;jQuery("#txRangeFirst").val(ao(rangeF));jQuery("#txRangeLast").val(ao(rangeL));bM()}db.setRangeFirst=function(){if((rangeL=="")||(parseInt(globalzz)>=parseInt(rangeL))){dB(globalzz,globalzz)}else{dB(globalzz,rangeL)}};db.setRangeLast=function(){if((rangeF=="")||(parseInt(globalzz)<parseInt(rangeF))){dB(globalzz,globalzz)}else{dB(rangeF,globalzz)}};db.setRangeSolo=function(){if((mem_red!="normal")||(bStopButtons)){return false}dB(globalzz,globalzz)};db.fullRange=function(){if((mem_red!="normal")||(bStopButtons)){return false}cy();setTimeout("MpcCpanel._fullRange()",10)};db._fullRange=function(){rangeF=1;rangeL=totalcount;jQuery("#txRangeFirst").val("1");jQuery("#txRangeLast").val(ao(totalcount));bM();K()};db.clrRange=function(){if((mem_red!="normal")||(bStopButtons)){return false}cy();setTimeout("MpcCpanel._clrRange()",10)};db._clrRange=function(){rangeF="";rangeL="";jQuery("#txRangeFirst").val("");jQuery("#txRangeLast").val("");bM();K()};db.hideStatPF=function(){jQuery(".dia-status").css("visibility","hidden");jQuery("#prompt").css("background-color","transparent");jQuery("#cString").toggleClass("pinkBgnd",false);jQuery(".aub").toggleClass("pinkBgnd",false);jQuery(".cpx").toggleClass("pinkBgnd",false);return true};function bM(){if(mem_red!="normal"){return}if((rangeF=="")||(rangeL=="")){jQuery("#bnNext").prop("disabled",true);jQuery("#cpa1").toggleClass("cpadim",true);jQuery(".nu").toggleClass("rednum",false);return}if(rangeF==rangeL){jQuery("#bnNext").prop("disabled",false);jQuery("#cpa1").toggleClass("cpadim",false);jQuery(".nu").toggleClass("rednum",false);jQuery("#nn"+rangeF).toggleClass("rednum",true);return}jQuery("#bnNext").prop("disabled",true);jQuery("#cpa1").toggleClass("cpadim",true);var M=rangeF-0;var dU=rangeL-0;if(dU<M){M=rangeL-0;dU=rangeF-0}jQuery(".nu").each(function(){id=this.id.substr(2);tf=((id<M)||(id>dU));jQuery(this).toggleClass("rednum",!tf)})}db.nextRange=function(){if((mem_red!="normal")||(bStopButtons)){return false}if(rangeF-0<totalcount-0){jQuery("#nn"+rangeF).toggleClass("rednum",false);rangeF++;rangeL++;jQuery("#nn"+rangeF).toggleClass("rednum",true);jQuery("#txRangeFirst").val(ao(rangeF));jQuery("#txRangeLast").val(ao(rangeL))}};function ao(dX){dX+="";var M=dX.split(".");var dW=M[0];var dU=M.length>1?"."+M[1]:"";var dV=/(\d+)(\d{3})/;while(dV.test(dW)){dW=dW.replace(dV,"$1,$2")}return dW+dU}db.showPathClick=function(){if(jQuery("#cbShowPath").hasClass("ssel")){bt(false);ba(false);jQuery("#bnNone").prop("disabled",mem_bnNone);jQuery("#bnAll").prop("disabled",mem_bnAll);if(mem_auto!=""){var dV=jQuery("#cString");if(dV.val()==""){mem_auto.toggleClass("fsel",true);dV.toggleClass("dimBgnd",true);dV.prop("disabled",true)}}}else{mem_bnNone=jQuery("#bnNone").prop("disabled");mem_bnAll=jQuery("#bnAll").prop("disabled");ba(true);bt(true);var dU=false;var M=jQuery("#cbAutoPath");var dX=jQuery("#cbAutoGroup");var dW=jQuery("#cbAutoMarked");if(M.hasClass("fsel")){j=M;dU=true}else{if(dX.hasClass("fsel")){j=dX;dU=true}else{if(dW.hasClass("fsel")){j=dW;dU=true}}}if(dU){mem_auto=j;j.toggleClass("fsel",false);var dV=jQuery("#cString")}else{mem_auto=""}jQuery(".opac").css("opacity","0.3");setTimeout(function(){MpcCpanel.loopShowPath()},100)}return false};function ba(M){jQuery("#bn_sel_top").prop("disabled",M);jQuery("#bn_sel_bottom").prop("disabled",M);jQuery("#bn_sel_range_top").prop("disabled",M);jQuery("#bn_sel_range_bottom").prop("disabled",M);jQuery("#bnAddF").prop("disabled",M);jQuery("#bnRemF").prop("disabled",M);jQuery("#bnAccF").prop("disabled",M)}db.loopShowPath=function(){var dV=bi("cpc",5);ar_showPath=ar_snapstr[dV-1].split("\t");var dU=ar_snapcnt[dV-1];var M;var dW="";if(jQuery("#cString").hasClass("dimBgnd")){for(M=1;M<=dU;M++){dW+='<div class="zr">'+ar_showPath[M-1]+"</div>"}}else{for(M=1;M<=dU;M++){dW+='<div class="zp" onclick="MpcCpanel.spClick(\''+M+"')\">"+ar_showPath[M-1]+"</div>"}}jQuery("#scrollboxPF1").html(dW);K()};db.spClick=function(M){jQuery("#cString").val(ar_showPath[M-1]);jQuery(".cpc").toggleClass("spdim",false);jQuery("#cpx4").toggleClass("cpadim",false);bt(false);ba(false);jQuery("#bnNone").prop("disabled",mem_bnNone);jQuery("#bnAll").prop("disabled",mem_bnAll)};function bt(M){var dV=jQuery("#cbShowPath");var dU=jQuery("#scrollboxPF1");if(M){dV.toggleClass("browse_show",false);dV.toggleClass("browse_hide",true);dV.html('<div style="padding-top:5px">Hide</div>');dV.toggleClass("ssel",true);dU.css("visibility","visible");bQ();if(!jQuery("#cpx4").hasClass("cpadim")){jQuery("#cString").toggleClass("bggold",true)}jQuery(".opac").css("opacity","0.3");jQuery(".btns").prop("diabled",true);bStopButtons=true}else{dV.html("");dV.toggleClass("browse_hide",false);dV.toggleClass("browse_show",true);dV.toggleClass("ssel",false);dU.css("visibility","hidden");dU.html("");dv();jQuery("#cString").toggleClass("bggold",false);jQuery(".btns").prop("diabled",false);jQuery(".opac").css("opacity","1.0");bStopButtons=false}}function dv(){var M=ar_pcustlo[cG-1];switch(mem_red){case"normal":jQuery("#prompt").html("Click to select line. Right-click to set range. Target path is <b>"+M+"</b>");break;case"all":jQuery("#prompt").html("Auto and Marked Groups. Target path is <b>"+M+"</b>");break;case"mark":jQuery("#prompt").html("Double-click to Mark Groups. Target path is <b>"+M+"</b>");break}}function bQ(){var M=bi("cpc",5);var dU=ar_pcustlo[M-1];switch(mem_red){case"normal":if(jQuery("#cbAutoPath").hasClass("fsel")){jQuery("#prompt").html('<span class="reado">Read only</span> (Auto Path). Viewing path <b>'+dU+"</b>")}else{jQuery("#prompt").html("Select <b>"+dU+"</b> entry for Comparison Value.")}break;case"all":jQuery("#prompt").html('<span class="reado">Read only</span> (Auto Groups). Viewing path <b>'+dU+"</b>");break;case"mark":jQuery("#prompt").html('<span class="reado">Read only</span> (Marked Groups). Viewing path <b>'+dU+"</b>");break}}db.selTop=function(){jQuery("#scrollboxPF").scrollTop(0);db.set_globalzz(1);db.setRangeSolo()};db.selBottom=function(){if(totalcount>20){jQuery("#scrollboxPF").scrollTop((totalcount-20)*17)}db.set_globalzz(totalcount);db.setRangeSolo()};db.selRangeF=function(){var dV=0;var dU=0;for(x=1;x<totalcount;x++){if(jQuery("#nn"+x).hasClass("ff")){continue}dV=x;break}if(dV==0){ad("pink","Cannot find a range lacking formulas");return false}dU=dV;x++;while(x<=totalcount){if(jQuery("#nn"+x).hasClass("ff")){break}dU=x;x++}db.set_globalzz(dV);db.setRangeFirst();db.set_globalzz(dU);db.setRangeLast();if(totalcount>20){var M=dV-2;if(M<0){M=0}jQuery("#scrollboxPF").scrollTop(M*17)}};db.selRangeL=function(){var dV=0;var dU=0;for(x=totalcount;x>1;x--){if(jQuery("#nn"+x).hasClass("ff")){continue}dU=x;break}if(dU==0){ad("pink","Cannot find a range lacking formulas");return false}dV=dU;x--;while(x>0){if(jQuery("#nn"+x).hasClass("ff")){break}dV=x;x--}db.set_globalzz(dV);db.setRangeFirst();db.set_globalzz(dU);db.setRangeLast();if(totalcount>20){var M=dV-2;if(M<0){M=0}jQuery("#scrollboxPF").scrollTop(M*17)}};db.diaQuickPathFormula=function(){var dU=dG("path");mem_qp.beg=dU.beg;mem_qp.end=dU.end;if(dU.beg==-2){return}if((dU.beg==-1)||(dU.end==-1)){aZ("Path");return false}var M,dV;for(M=1;M<6;M++){ar_cust[M-1]=(jQuery("#txPath"+M).val()=="")?"Path"+M:jQuery("#txPath"+M).val()}var dW="";dW+='<div class="dia-content noselect" spellcheck="false" style="padding:15px 0 0 15px" onmousedown="MpcCpanel.hideDiaStatusPink();return true;">';dW+='<div class="pinstripe twrap" style="width:495px;padding:6px 10px 10px">';dW+='<table style="width:100%">';dW+='<tr style="white-space:nowrap">';dW+='<td colspan="4" style="text-align:left><span class="prompt"><b>Formula Settings</b></span></td>';dW+="<td></td>";dW+="</tr>";dW+="<tr>";dW+='<td style="width:100px"><div class="lab11">Target Path</div></td>';dW+="<td></td>";dW+='<td style="text-align:left"><div class="lab11">Compare Type</div></td>';dW+="<td></td>";dW+="<td></td>";dW+="</tr>";dW+="<tr>";dW+='<td style="width:100px">';dW+='<select id="sel_qp_path" class="mono epink" onchange="MpcCpanel.qpPathChange()">';dW+='<option value="-1">----------</option>';dW+='<option value="0">Entire Url</option>';for(M=1;M<6;M++){if(M==cG){continue}dW+='<option value="'+M+'">'+ar_cust[M-1]+"</option>"}dW+="</select>";dW+="</td>";dW+='<td style="width:10px"><div style="width:10px"></div></td>';dW+='<td style="text-align:left" onchange="MpcCpanel.qpTypeChange()">';dW+='<select id="sel_qp_type" class="mono epink">';dW+='<option value="=">Equal</option>';dW+='<option value="!">Not Equal</option>';dW+='<option value="~">Contains</option>';dW+='<option value="/">Regex</option>';dW+="</select>";dW+="</td>";dW+="<td></td>";dW+="<td></td>";dW+="</tr>";dW+="<tr>";dW+='<td colspan="4"><div class="lab11">Comparison String<span id="qp_regex"></span</div></td>';dW+="<td></td>";dW+="</tr>";dW+="<tr>";dW+='<td colspan="4"><input type="text" id="inp_qp_cstr" style="width:100%" class="mono epink"></td>';dW+='<td style="width:10px"><div style="width:10px"></div></td>';dW+="</tr>";dW+="</table>";dW+="</div>";dW+='<div class="pinstripe twrap" style="width:495px;padding:6px 10px 10px;margin:15px 0">';dW+='<table style="width:100%">';dW+='<tr style="white-space:nowrap">';dW+='<td style="text-align:left><span class="prompt"><b>Path Values</b> (click to copy into Comparison String)</span></td>';dW+="</tr>";dW+='<tr><td><div id="scrollbox5" class="epink forced_none" style="margin:10px 0 3px;width:484px"></div></td></tr>';dW+="</table>";dW+="</div>";dW+='<div style="position:relative;margin:15px 15px 0 0;">';dW+='<div id="ttlbusy" class="busycss" style="position:absolute;top:0;right:2px"></div>';dW+='<table style="white-space:nowrap">';dW+="<tr>";dW+='<td style="text-align:left;width:70px">';dW+='<button class="sexybutton allbtns" title="Accept formulas"';dW+='onclick="MpcCpanel.acceptQPATH();return false;" disabled="disabled">';dW+='<span><span><span class="accept">Accept</span></span></span>';dW+="</button>&nbsp;&nbsp;";dW+='<td style="text-align:left;width:70px">';dW+='<button class="sexybutton allbtns" title="Remove formulas"';dW+='onclick="MpcCpanel.removeQPATH();return false;" disabled="disabled">';dW+='<span><span><span class="delete">Remove</span></span></span>';dW+="</button>&nbsp;&nbsp;";dW+="</td>";dW+='<td style="text-align:left;width:70px">';dW+='<button class="sexybutton allbtns" title=""';dW+='onclick="MpcCpanel.cancelQP();return false;" disabled="disabled">';dW+='<span><span><span class="cancel">Cancel</span></span></span>';dW+="</button>";dW+="</td>";dW+="</tr>";dW+="</table>";dW+='<div class="dia-status" style="position:absolute;bottom:2px;right:0;"></div>';dW+="</div>";dW+="</div>";Shadowbox.open({content:dW,title:"Quick Path formulas",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,onMyClose:db.cancelQP,qmarkTarget:"diaQpath",animate:settings.anim,onFinish:aU},height:472,width:547})};function aU(){cI();if(mem_qp.path==cG){mem_qp.path=-1}jQuery("#sel_qp_path").val(mem_qp.path);jQuery("#sel_qp_type").val(mem_qp.type);var M=jQuery("#taPath"+cG);var dU=M.val();ar=dU.split("\n");for(x=mem_qp.beg;x<=mem_qp.end;x++){ar[x]="--> "+ar[x]}M.val(ar.join("\n"));ah(mem_qp.path)}db.cancelQP=function(){jQuery(".allbtns").prop("disabled",true);aj("ttlbusy");var M=jQuery("#taPath"+cG);var dU=M.val();M.val(dU.replace(/--> /g,""));Shadowbox.close()};db.acceptQPATH=function(){var dV=jQuery("#sel_qp_path");var M=dV.val();var d0=jQuery("#sel_qp_type");var dY=d0.val();var dW=jQuery("#inp_qp_cstr");var dU=dW.val().trim();var dX;var dZ="";if(M==-1){dX=dV;dZ="Target Path required"}else{if((M==0)&&(dY!="/")){dX=d0;dZ="Entire Url requires Regex type"}else{if((M!=0)&&(dY=="/")){dX=dV;dZ="Regex requires Entire Url"}else{if(dU==""){dX=dW;dZ="Comparison String required"}}}}if(dZ!=""){dX.css("background-color","pink");ad("pink",dZ);return}dZ="[";if(dY=="/"){dZ+=dU+"] "}else{dZ+=ar_cust[M-1]+dY+dU+"] "}jQuery(".allbtns").prop("disabled",true);aj("ttlbusy");aN("ajax_qpath",{boxnum:cG,beg:mem_qp.beg,end:mem_qp.end,formula:dZ},function(d1){jQuery("#taPath"+cG).val(d1);Shadowbox.close()})};db.removeQPATH=function(){jQuery(".allbtns").prop("disabled",true);aj("ttlbusy");aN("ajax_qpath",{boxnum:cG,beg:mem_qp.beg,end:mem_qp.end,formula:""},function(M){jQuery("#taPath"+cG).val(M);Shadowbox.close()})};db.qpPathChange=function(){mem_qp.path=jQuery("#sel_qp_path").val();ah(mem_qp.path)};db.qpTypeChange=function(){mem_qp.type=jQuery("#sel_qp_type").val();var M=(mem_qp.type=="/")?" - /Regex/":"";jQuery("span#qp_regex").html(M)};function ah(dW){jQuery(".allbtns").prop("disabled",true);aj("ttlbusy");j_box=jQuery("#scrollbox5");var dV;var dX="";if(dW>0){var dU=jQuery("#taPath"+dW).val().split("\n");var M=dU.length;for(x=0;x<M;x++){dV=dU[x].replace(/\/*$/,"");dV=dV.replace(/\[.+?\] */,"");dX+='<div id="b'+x+'" onclick="MpcCpanel.qp_put(\''+dV+"')\">"+dV+"</div>"}}j_box.toggleClass("forced_none",(dX==""));j_box.html(dX);jQuery(".allbtns").prop("disabled",false);ca("ttlbusy")}db.qp_put=function(M){jQuery("#inp_qp_cstr").val(M)};function aZ(M){var dU="";dU+='<div class="dia-content noselect" spellcheck="false" style="padding:15px 0 0 15px">';dU+="<div>";dU+="To use list box line selecting, empty lines must be removed.";dU+="</div>";dU+='<div style="position:relative;margin:15px 15px 0 0;">';dU+='<div id="ttlbusy" style="position:absolute;top:0;right:2px"></div>';dU+='<table style="white-space:nowrap">';dU+="<tr>";dU+='<td style="text-align:left;width:70px">';dU+='<button class="sexybutton allbtns" title="Remove empty lines from listbox"';dU+="onclick=\"MpcCpanel.cleanBoxSolo('"+M+"','"+cG+"');return false;\">";dU+='<span><span><span class="broom">Remove Empty Lines</span></span></span>';dU+="</button>&nbsp;&nbsp;";dU+="</td>";dU+='<td style="text-align:left;width:70px">';dU+='<button class="sexybutton allbtns" title=""';dU+='onclick="Shadowbox.close();return false;">';dU+='<span><span><span class="cancel">Cancel</span></span></span>';dU+="</button>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+="</div>";Shadowbox.open({content:dU,title:"Empty lines found",player:"html",handleOversize:"none",options:{loadingColor:theme.sberrBgnd,bodyColor:theme.sberrBgnd,animate:settings.anim,onFinish:aY},height:90,width:430})}function aY(){cI()}db.cleanBoxSolo=function(M,dU){jQuery(".allbtns").prop("disabled",true);aj("ttlbusy");aN("ajax_readSnapSolo",{boxtype:M,boxnum:dU},function(dV){jQuery("#ta"+M+dU).val(dV);Shadowbox.close()})};function dG(dW){var dX,dZ={},dV,M;dZ.beg=-1;dZ.end=-1;if(dW=="path"){dX=jQuery("#taPath"+cG)}else{if(dW=="var"){dX=jQuery("#taVar"+bf)}else{dX=jQuery("#taSource")}}var dU=dX.val();var dY=dU.length;var d1=dX.prop("selectionStart");var d0=dX.prop("selectionEnd");if(d1>=dY){dZ.beg=-2;return dZ}dV=dU.substring(0,d1);M=dV.charAt(0);if((M=="\r")||(M=="\n")){return dZ}if(dV.search(/^ +[\r\n]/)!=-1){return dZ}if(dV.search(/[\r\n]\s*[\r\n]/)!=-1){return dZ}dZ.beg=(dV.match(/[\r\n]/g)||[]).length;dV=dU.substring(d1,d0);if(dV.search(/[\r\n]\s*[\r\n]/)!=-1){return dZ}dV=dV.trim();dZ.end=(dV.match(/[\r\n]/g)||[]).length;dZ.end+=dZ.beg;return dZ}db.diaGrab=function(){var M="";M+='<div class="dia-content noselect" style="padding:15px 0 0 15px">';M+='<div style="font-size:12.8px">';M+='<div class="pinstripe twrap" style="width:222px;padding:6px 10px 10px;margin-bottom:10px">';M+="<table>";M+='<tr style="white-space:nowrap">';M+='<td colspan="2" style="text-align:left"><div style="margin-bottom:2px" class="prompt"><b>Grab From</b></div></td>';M+="</tr>";M+="<tr>";M+='<td style="width:84px">';M+='<div class="btnchk">';M+='<label for="gf_int" id="lab_gf_int" class="btnchk selok fsel"';M+=">Internet";M+='<input id="gf_int" type="checkbox" class="btnchk gbtn" onchange="MpcCpanel.btnchk_yn(\'gf_int\',\'gf_comp\')" checked />';M+="</label>";M+="</div>";M+="</td>";M+='<td style="width:138px">';M+='<div style="margin-left:10px" class="btnchk">';M+='<label for="gf_comp" id="lab_gf_comp" class="btnchk selok"';M+=">Local Computer";M+='<input id="gf_comp" type="checkbox" class="btnchk gbtn" onchange="MpcCpanel.btnchk_yn(\'gf_comp\',\'gf_int\')" />';M+="</label>";M+="</div>";M+="</td>";M+="<tr>";M+="</table>";M+="</div>";M+='<div class="pinstripe twrap" style="width:222px;padding:6px 10px 10px;margin-bottom:15px">';M+="<table>";M+='<tr style="white-space:nowrap">';M+='<td colspan="2" style="text-align:left"><div style="margin-bottom:2px" class="prompt"><b>Save Into</b></div></td>';M+="</tr>";M+="<tr>";M+='<td style="width:84px">';M+='<div class="btnchk">';M+='<label for="gt_web" id="lab_gt_web" class="btnchk selok fsel"';M+=">Webroot";M+='<input id="gt_web" type="checkbox" class="btnchk gbtn" onchange="MpcCpanel.btnchk_yn(\'gt_web\',\'gt_pf\')" checked />';M+="</label>";M+="</div>";M+="</td>";M+='<td style="width:138px">';M+='<div style="margin-left:10px" class="btnchk">';M+='<label for="gt_pf" id="lab_gt_pf" class="btnchk selok"';M+=">Project Folder";M+='<input id="gt_pf" type="checkbox" class="btnchk gbtn" onchange="MpcCpanel.btnchk_yn(\'gt_pf\',\'gt_web\')" />';M+="</label>";M+="</div>";M+="</td>";M+="</tr>";M+="</table>";M+="</div>";M+='<div style="width:244px;text-align:center">';M+='<button class="sexybutton gbtn" onclick="MpcCpanel.nextGrab();return false;">';M+='<span><span><span class="accept">Continue</span></span></span>';M+="</button>";M+="</div>";M+="</div>";M+="</div>";Shadowbox.open({content:M,title:"Setup Grab New",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"grab_help",animate:settings.anim,onFinish:cx},height:210,width:274})};function cx(){cI();jQuery(".gtxt").val("")}db.nextGrab=function(){mem_grab_dest=(jQuery("#gt_web").prop("checked"))?"webroot":"project";if(jQuery("#gf_int").prop("checked")){dF()}else{dm()}};function dF(){Shadowbox.close();var dU;var M;var dV="";dV+='<div class="dia-content noselect" style="padding:9px 0 0 20px" spellcheck="false" onmousedown="MpcCpanel.clrTplateStatusM();return true">';dV+='<table style="width:473px">';if(mem_grab_dest=="project"){dU="Project folder";M=154;dV+="<tr>";dV+='<td colspan="4"><div class="lab11">&nbsp;Internet Url (http://example.com)</div></td>';dV+="</tr>";dV+='<td colspan="4" style="text-align:left;width:170px"><input id="txGrabUrl" class="roundpad2024 gtxt epink inp12" type="text" value="" ';dV+='onkeyup="MpcCpanel.clrTplateStatus(event);return false">';dV+="</td>";dV+="<tr>";dV+='<td colspan="2"><div class="lab11">&nbsp;Project Folder</div></td>';dV+='<td colspan="2"><div class="lab11">&nbsp;Filename for Save in Project Folder</div></td>';dV+="</tr>";dV+="<tr>";dV+='<td style="text-align:left;width:170px"><input id="txGrabWP1" class="roundpad2024 gtxt epink txPF inp12" type="text" value="'+memProjectF+'" ';dV+='onkeyup="MpcCpanel.forceWord(this);MpcCpanel.clrTplateStatus(event);return false" style="width:160px" ';dV+='title="A-Z, 0-9, hyphens, and underscores only" />';dV+="</td>";dV+='<td style="width:6px"><div style="padding:0 3px 0 2px">/</div></td>';dV+='<td colspan="2" style="text-align:left;width:170px"><input id="txGrabWP2" class="roundpad2024 gtxt epink inp12" type="text" value="" ';dV+='onkeyup="MpcCpanel.clrTplateStatus(event);return false">';dV+="</td>";dV+="</tr>"}else{dU="Webroot";M=155;dV+='<td colspan="4">';dV+='<table style="width:100%">';dV+="<tr>";dV+='<td><div class="lab11">&nbsp;Internet Url (http://example.com)</div></td>';dV+="<td></td>";dV+='<td><div class="lab11">&nbsp;Linked files</div></td>';dV+="</tr>";dV+="<tr>";dV+='<td style="text-align:left;width:343px"><input id="txGrabUrl" class="roundpad2024 gtxt epink inp12" type="text" value="" ';dV+='onkeyup="MpcCpanel.clrTplateStatus(event);return false">';dV+="</td>";dV+="<td></td>";if(cp.ixd==0){dV+='<td style="width:112px;text-align:right">';dV+='<div class="btnchk" style="margin-right:0" title="If page refers to images etc, grab them too">';dV+='<label for="cbGall" id="lab_cbGall" class="btnchk btnchk21 selok"';dV+=">Grab All Files";dV+='<input id="cbGall" type="checkbox" class="btnchk" onchange="MpcCpanel.cbGallClicked()" />';dV+="</label>";dV+="</div>";dV+="</td>"}else{dV+='<td style="width:112px;text-align:right">';dV+='<div class="btnchk forced_none" style="margin-right:0" title="Not available in Demo mode">';dV+='<label for="cbGall" id="lab_cbGall" class="btnchk btnchk21"';dV+=">Grab All Files";dV+='<input id="cbGall" type="checkbox" class="btnchk" disabled="disabled" />';dV+="</label>";dV+="</div>";dV+="</td>"}dV+="</tr>";dV+="</table>";dV+="</td>";dV+="<tr>";dV+='<td colspan="2"><div class="lab11">&nbsp;Linked Files Folder</div></td>';dV+='<td colspan="2"><div class="lab11">&nbsp;Filename for Save in Webroot</div></td>';dV+="</tr>";dV+="<tr>";dV+='<td style="text-align:left;width:170px"><input id="txGrabWW1" class="roundpad2024 gtxt epink inp12 forced_none" type="text" value="'+memWebAssetF+'" ';dV+=' disabled="disabled" onkeyup="MpcCpanel.forceWord(this);MpcCpanel.clrTplateStatus(event);return false" style="width:160px" ';dV+='title="A-Z, 0-9, hyphens, and underscores only" />';dV+="</td>";dV+='<td style="width:6px"><div style="padding:0 3px 0 2px"></div></td>';dV+='<td colspan="2" style="text-align:left;width:170px"><input id="txGrabWW2" class="roundpad2024 gtxt epink inp12" type="text" value="" ';dV+='onkeyup="MpcCpanel.clrTplateStatus(event);return false">';dV+="</td>";dV+="</tr>"}dV+="</table>";dV+='<div style="width:479px;margin:15px 0 0;position:relative">';dV+='<div id="dia" style="position:absolute;top:0;right:0px" class="dia-status"></div>';dV+='<div id="ttlbusy" class="" style="position:absolute;top:0;right:0"></div>';dV+='<table style="width:473px">';dV+='<tr style="white-space:nowrap">';dV+='<td style="text-align:left;width:140px">';dV+='<button id="bnGrab" class="sexybutton gbtn" onclick="MpcCpanel.submitGrabW();return false;" title="Upload computer file into Mpc folder">';dV+='<span><span><span class="page_world">Grab from Internet</span></span></span>';dV+="</button>&nbsp;&nbsp;";dV+="</td>";dV+="</tr>";dV+="</table>";dV+="</div>";Shadowbox.open({content:dV,title:'Grab from <span class="ttlgold">Internet</span> to <span class="ttlgold">'+dU+"</span>",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"grab_help",animate:settings.anim,onFinish:z},height:M,width:517})}function z(){cI();bn("txGrabUrl")}function dm(){Shadowbox.close();var M;var dU="";dU+='<div class="dia-content noselect" style="padding:9px 0 0 20px" spellcheck="false" onmousedown="MpcCpanel.clrTplateStatusM();return true">';dU+='<table style="width:473px">';if(mem_grab_dest=="project"){M="Project folder";dU+="<tr>";dU+='<td colspan="2"><div class="lab11">&nbsp;Project Folder</div></td>';dU+='<td colspan="2"><div class="lab11">&nbsp;Project Subfolder (optional)</div></td>';dU+="</tr>";dU+="<tr>";dU+='<td style="text-align:left;width:170px"><input id="txGrabCP1" class="roundpad2024 gtxt epink txPF inp12" type="text" value="'+memProjectF+'" ';dU+='onkeyup="MpcCpanel.forceWord(this);MpcCpanel.clrTplateStatus(event);return false" style="width:160px" ';dU+='title="A-Z, 0-9, hyphens, and underscores only" />';dU+="</td>";dU+='<td style="width:6px"><div style="padding:0 3px 0 2px">/</div></td>';dU+='<td colspan="2" style="text-align:left;width:170px"><input id="txGrabCP2" class="roundpad2024 gtxt inp12" type="text" value="" ';dU+='onkeyup="MpcCpanel.clrTplateStatus(event);return false"';dU+='placeholder="(optional input)" />';dU+="</td>";dU+="</tr>"}else{M="Webroot";dU+="<tr>";dU+='<td colspan="4"><div class="lab11">&nbsp;Webroot Subfolder (optional)</div></td>';dU+="</tr>";dU+="<tr>";dU+='<td colspan="4" style="text-align:left;width:100%"><input id="txWebSub" class="roundpad2024 gtxt inp12" type="text" value="" ';dU+='placeholder="(optional input)" />';dU+="</td>";dU+="</tr>"}dU+="</table>";dU+='<div style="width:479px;margin:15px 0 0;position:relative">';dU+='<div id="dia" style="position:absolute;top:0;right:0px" class="dia-status"></div>';dU+='<table style="width:473px">';dU+='<tr style="white-space:nowrap">';dU+='<td style="text-align:left;width:140px">';dU+='<button class="sexybutton gbtn" onclick="MpcCpanel.submitGrabC();return false;" title="Upload computer file into Mpc folder">';dU+='<span><span><span class="computer">Grab from Computer</span></span></span>';dU+="</button>&nbsp;&nbsp;";dU+="</td>";dU+='<td style="width:113px;text-align:left">';dU+='<div class="btnchk" style="margin-right:0" title="Unzip Zip files">';dU+='<label for="cbExZip" id="lab_cbExZip" class="btnchk btnchk21 selok fsel"';dU+=">Extract if Zip";dU+='<input id="cbExZip" type="checkbox" class="btnchk" onchange="MpcCpanel.cbExZipClicked()" checked />';dU+="</label>";dU+="</div>";dU+="</td>";dU+="<td></td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+="</div>";Shadowbox.open({content:dU,title:'Upload from <span class="ttlgold">Computer</span> to <span class="ttlgold">'+M+"</span>",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"grab_help",animate:settings.anim,onFinish:C},height:111,width:517})}function C(){cI();var M=(mem_grab_dest=="project")?"txGrabCP2":"txWebSub";bn(M)}function cq(dU,M){memProjectF=dU;if(M){jQuery(".txPF").val(dU)}}function dg(M){memWebAssetF=M}db.submitGrabC=function(){bExZip=(jQuery("#cbExZip").prop("checked"))?1:0;if(mem_grab_dest=="project"){bWebRoot=0;dA();return false}bWebRoot=1;var M=jQuery("#txWebSub").val();M=M.replace(/^[ \/]*/,"");M=M.replace(/[ \/]*$/,"");grabDestAs=M;Shadowbox.close();db.browseFile("grabwr","none");return false};function dA(){var dV=jQuery("#txGrabCP1");var M=jQuery("#txGrabCP2").val();M=M.replace(/^[ \/]*/,"");M=M.replace(/[ \/]*$/,"");if(M!=""){M="/"+M}grabDestAs=dV.val()+M;if(dV.val()==""){a("dia","pink","Project folder required");dV.css("background-color","pink");bn("txGrabCP1");return false}var dW=grabDestAs.toLowerCase();var dX=cp.auxdir.toLowerCase();var dU=[cp.theFname.toLowerCase(),dX,cp.trimFname.toLowerCase()+"_ini.php",cp.trimFname.toLowerCase()+"_pclzip.php","mpc-asset.php","mpc_short_files","credentials.zip"];if(dU.indexOf(dW)!=-1){a("dia","pink","Protected folder name");dV.css("background-color","pink");bn("txGrabCP1");return false}cq(dV.val(),false);Shadowbox.close();db.browseFile("grab","none");return false}function cU(dW,dV,dU){var M=dU.toLowerCase();if((M==cp.auxdir.toLowerCase())||(M==cp.theFnameFld.toLowerCase())||(M=="mpc_short_files")){a(dV,"pink","Protected folder name");jQuery("#"+dW).css("background-color","pink");bn(dW);return true}return false}function aK(M){aN("yXC950Xaa",{fname:M,theZname:cp.theZname,subfolder:grabDestAs,theWebRoot:cp.theWebRoot,bWebRoot:bWebRoot,bExZip:bExZip},function(dV){Shadowbox.close();rj=jQuery.parseJSON(dV);var dU=(grabDestAs=="")?"":"/"+grabDestAs;switch(rj.stat){case"fileok":if(bWebRoot==1){url=dU+"/"+M;vis=cp.theDomainP+dU+"/"+M;cu("Grab file successful",'<a href="'+url+'" target="_blank">'+vis+"</a>","center",117,540)}else{url=cp.theDirname+dU+"/"+M;cu("Grab file successful",'<a href="'+url+'" target="_blank">'+url+"</a>","center",117,540)}break;case"zipok":if(bWebRoot==1){cu("Grab file successful","Zip extracted to "+cp.theDomainP+dU+"/","center",117,540)}else{cu("Grab file successful","Zip extracted to /"+cp.theFnameFld+dU+"/","center",117,540)}break;case"ziperr":cu("ERR:Grab file error",rj.msg,"center",132,540);break;case"mkdir_err":cu("ERR:Grab file error","Could not create folder.","center",117,540);break;case"file_dir_err":cu("ERR:Grab file error","A <b>file</b> with project folder name exists.","center",117,540);break;default:cu("ERR:Grab file write error","Check website write permissions","center",117,540);break}});return false}db.cbExZipClicked=function(){if(jQuery("#ttlbusy").hasClass("busycss")){return}var M=jQuery("#cbExZip").prop("checked");jQuery("#lab_cbExZip").toggleClass("fsel",M)};db.cbGallClicked=function(){if(jQuery("#ttlbusy").hasClass("busycss")){return}var dU=jQuery("#cbGall").prop("checked");jQuery("#lab_cbGall").toggleClass("fsel",dU);var M=jQuery("#txGrabWW1");M.prop("disabled",!dU);M.toggleClass("forced_none",!dU);bn((dU)?"txGrabWW1":"txGrabWW2")};db.submitGrabW=function(){var d2=jQuery("#txGrabUrl");var dU=d2.val();if(!cv(dU)){a("dia","pink","Invalid Web URL entered");d2.css("background-color","pink");bn("txGrabUrl");return false}dU=a6(dU);var M=(mem_grab_dest=="project");var d0=jQuery("#cbGall").prop("checked");var dX=(M)?jQuery("#txGrabWP1"):jQuery("#txGrabWW1");grabDestAs=dX.val().trim();if(M){d0=false;if(grabDestAs==""){a("dia","pink","Project folder required");dX.css("background-color","pink");bn("txGrabWP1");return false}if(cU("txGrabWP1","dia",grabDestAs)){return false}}else{if(d0){if(grabDestAs==""){a("dia","pink","Linked Files folder required");dX.css("background-color","pink");bn("txGrabWW1");return false}if(cU("txGrabWW1","dia",grabDestAs)){return false}}}var dX=(M)?jQuery("#txGrabWP2"):jQuery("#txGrabWW2");var dW=(M)?"txGrabWP2":"txGrabWW2";var dY=dX.val().trim();dY=dY.replace(/^\/*/,"");if(dY==""){a("dia","pink","Filename required");dX.css("background-color","pink");bn(dW);return false}if(dY.substr(-1)=="/"){a("dia","pink","Filename cannot be a folder");dX.css("background-color","pink");bn(dW);return false}jQuery(".gtxt").toggleClass("forced_none",true);jQuery(".gtxt").prop("disabled",true);jQuery(".gbtn").prop("disabled",true);jQuery(".selok").css("opacity","0.3");aj("ttlbusy");var dV=(d0)?1:0;var dZ=(M)?1:0;if(M){dV=0}var d1=dU.replace(/\./g,"^");c8("j9AE26Xc0",{grabUrl:d1,grabFolder:grabDestAs,grabDest:dY,iProject:dZ,iGall:dV},function(d5){var d4;rj=jQuery.parseJSON(d5);switch(rj.status){case"read_error":a("dia","pink",rj.msg);ca("ttlbusy");jQuery(".gtxt").toggleClass("forced_none",false);jQuery(".gtxt").prop("disabled",false);jQuery(".gbtn").prop("disabled",false);jQuery(".selok").css("opacity","1.0");bn("txGrabUrl");return false;case"write_error":Shadowbox.close();cu("ERR:Grab file write error",rj.msg,"center",117,540);return false;case"ok":Shadowbox.close();if(M){cq(grabDestAs,false);d4="/"+cp.theFnameFld+"/"+grabDestAs+"/"+dY;cu("Grab to Project Folder successful",'<a href="'+d4+'" target="_blank">'+d4+"</a>","center",117,540)}else{dg(grabDestAs);d4="/"+dY;if(rj.linked==0){cu("Grab to WebRoot successful",'<a href="'+d4+'" target="_blank">'+d4+"</a>","center",117,540)}else{var d3=(rj.linked==1)?"":"s";cu("Grab to WebRoot successful",'<a href="'+d4+'" target="_blank">'+d4+"</a><br>Also grabbed "+bA(rj.linked)+" linked file"+d3,"center",132,540)}}return false}});return false};db.diaImportList=function(){str='<div class="dia-content" style="font-size:12.8px;padding-bottom:0">';str+="<table>";str+="<tr>";str+="<td>";str+='<div style="overflow:auto;height:300px;width:380px;background-color:'+theme.sbload+";border:1px solid "+theme.inpBord+'">';str+='<div id="agif">';str+='<table id="loading">';str+="<tr>";str+='<td style="text-align:left"><div id="ttlbusy" class="busycss"></div></td>';str+='<td style="text-align:left">Loading...</td>';str+="</tr>";str+="</table>";str+="</div>";str+='<ul id="browser" class="filetree treeview-black"></ul>';str+="</div>";str+="</td>";str+="</tr>";str+='<tr><td><div style="height:10px"></div></td></tr>';str+="<tr>";str+='<td style="vertical-align:bottom"><span style="font-size:11px;padding-left:5px">Selected list</span></td>';str+="</tr>";str+="<tr>";str+='<td><div id="divImp">&nbsp;</div></td>';str+="</tr>";str+='<tr><td><div style="height:13px"></div></td></tr>';str+="<tr>";str+='<td style="text-align:left">';str+='<button class="sexybutton" id="acceptO" title="Accept for overwriting path list." disabled="disabled"';str+='onclick="MpcCpanel.acceptI('+1+');return false;">';str+='<span><span><span class="accept">Overwrite Path'+cG+"</span></span></span>";str+="</button>&nbsp;&nbsp;";str+='<button class="sexybutton" id="acceptA" title="Accept for appending to path list." disabled="disabled"';str+='onclick="MpcCpanel.acceptI('+0+');return false;">';str+='<span><span><span class="accept_blue">Append Path'+cG+"</span></span></span>";str+="</button>";str+="</td>";str+="</tr>";str+="</table>";str+="</div>";Shadowbox.open({content:str,title:"Import wordlist into Path"+cG+" list box",player:"html",handleOversize:"none",height:430,width:430,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:cm}})};function cm(){cI();b("importList");return false}db.acceptI=function(M){c8("jFFX28XxX",{fname:jQuery("#divImp").text(),snapbox:"cp_taPath"+cG,overw:M},function(dU){jQuery("#taPath"+cG).val(dU);Shadowbox.close();db.statBtnEmpty();return false});return false};function bW(M){if(M.charAt(0)=="/"){M=M.substr(1)}jQuery("#acceptO").prop("disabled",false);jQuery("#acceptA").prop("disabled",false);jQuery("#divImp").text(M);return false}db.diaGeotarget=function(){var dV="";var dU=["","","","",""];var M;for(x=1;x<6;x++){M=jQuery("#txPath"+x).val();ar_cust[x-1]=(M=="")?"Path"+x:M}dV+='<div class="dia-content" align="center" style="padding:22px 0 0" spellcheck="false" onmousedown="MpcCpanel.hideStat()">';dV+='<div class="dia-status" style="position:absolute;top:2px;left:11px;"></div>';dV+="<table>";dV+="<tr>";dV+='<td style="vertical-align:top">';dV+='<div class="pinstripe twrapz noselect" style="padding:5px 4px 8px;margin-top:0;position:relative">';dV+='<table style="width:100%;border-collapse: separate; border-spacing: 2px;">';dV+="<tr>";dV+='<td colspan="2" style="text-align:left;font-weight:normal;font-size:12.8px"><div style="margin:0 0 3px 3px">Set destination for these lists:</div></td>';dV+="</tr>";dV+="<tr>";dV+='<td style="text-align:center"><div style="padding:0;font-size:11px">STATES</div></td>';dV+='<td style="text-align:center"><div style="padding:0;font-size:11px">CITIES</div></td>';dV+="</tr>";dV+="<tr>";dV+='<td style="text-align:left;width:100px"><div class="cpc tdcopy1 selok w100" onclick="MpcCpanel.tdSelect(\'cpc1\',\'cpc\',true);return false" id="cpc1">'+ar_cust[0]+"</div></td>";dV+='<td style="text-align:left;width:100px"><div class="cpx tdcopy1 selok w100" onclick="MpcCpanel.tdSelect(\'cpx1\',\'cpx\',true);return false" id="cpx1">'+ar_cust[0]+"</div></td>";dV+="</tr>";dV+="<tr>";dV+='<td style="text-align:left;width:100px"><div class="cpc tdcopy1 selok w100" onclick="MpcCpanel.tdSelect(\'cpc2\',\'cpc\',true);return false" id="cpc2">'+ar_cust[1]+"</div></td>";dV+='<td style="text-align:left;width:100px"><div class="cpx tdcopy1 selok w100" onclick="MpcCpanel.tdSelect(\'cpx2\',\'cpx\',true);return false" id="cpx2">'+ar_cust[1]+"</div></td>";dV+="</tr>";dV+="<tr>";dV+='<td style="text-align:left;width:100px"><div class="cpc tdcopy1 selok w100" onclick="MpcCpanel.tdSelect(\'cpc3\',\'cpc\',true);return false" id="cpc3">'+ar_cust[2]+"</div></td>";dV+='<td style="text-align:left;width:100px"><div class="cpx tdcopy1 selok w100" onclick="MpcCpanel.tdSelect(\'cpx3\',\'cpx\',true);return false" id="cpx3">'+ar_cust[2]+"</div></td>";dV+="</tr>";dV+="<tr>";dV+='<td style="text-align:left;width:100px"><div class="cpc tdcopy1 selok w100" onclick="MpcCpanel.tdSelect(\'cpc4\',\'cpc\',true);return false" id="cpc4">'+ar_cust[3]+"</div></td>";dV+='<td style="text-align:left;width:100px"><div class="cpx tdcopy1 selok w100" onclick="MpcCpanel.tdSelect(\'cpx4\',\'cpx\',true);return false" id="cpx4">'+ar_cust[3]+"</div></td>";dV+="</tr>";dV+="<tr>";dV+='<td style="text-align:left;width:100px"><div class="cpc tdcopy1 selok w100" onclick="MpcCpanel.tdSelect(\'cpc5\',\'cpc\',true);return false" id="cpc5">'+ar_cust[4]+"</div></td>";dV+='<td style="text-align:left;width:100px"><div class="cpx tdcopy1 selok w100" onclick="MpcCpanel.tdSelect(\'cpx5\',\'cpx\',true);return false" id="cpx5">'+ar_cust[4]+"</div></td>";dV+="</tr>";dV+="<tr>";dV+='<td><div style="height:1px;margin:6px 5px 4px;background-color:#808080"></div></td>';dV+='<td><div style="height:1px;margin:6px 5px 4px;background-color:#808080"></div></td>';dV+="</tr>";dV+="<tr>";dV+="<td>";dV+="<table>";dV+="<tr>";dV+='<td style="text-align:left">';dV+='<div class="cst tdcopy1 selok w40" title="Write STATES as Silos"';dV+="onclick=\"MpcCpanel.tdSelect('cst1','cst',false);return false\" id=\"cst1\">Silos</div></td>";dV+="</td>";dV+='<td style="text-align:right">';dV+='<div class="cst tdcopy1 selok w40" title="Write STATES as Folders"';dV+="onclick=\"MpcCpanel.tdSelect('cst2','cst',false);return false\" id=\"cst2\">Folders</div></td>";dV+="</td>";dV+="</tr>";dV+="</table>";dV+="</td>";dV+="<td>";dV+="<table>";dV+="<tr>";dV+='<td style="text-align:left">';dV+='<div class="cci tdcopy1 selok w40" title="Write CITIES as Silos"';dV+="onclick=\"MpcCpanel.tdSelect('cci1','cci',false);return false\" id=\"cci1\">Silos</div></td>";dV+="</td>";dV+='<td style="text-align:right">';dV+='<div class="cci tdcopy1 selok w40" title="Write CITIES as Folders"';dV+="onclick=\"MpcCpanel.tdSelect('cci2','cci',false);return false\" id=\"cci2\">Folders</div></td>";dV+="</td>";dV+="</tr>";dV+="</table>";dV+="</td>";dV+="</tr>";dV+="</table>";dV+="</div>";dV+="</td>";dV+='<td rowspan="2" style="width:15px">&nbsp;</td>';dV+='<td rowspan="2" style="vertical-align:top">';dV+='<div class="pinstripe twrapz noselect" style="padding-top:5px;margin-top:0;position:relative">';dV+='<table style="width:100%">';dV+="<tr>";dV+='<td style="text-align:left;font-weight:normal;font-size:12.8px"><div style="margin:0 0 3px 3px">Select one or more States:</div></td>';dV+="<td></td>";dV+='<td style="width:34px"><div id="geoscr1" class="geoscr" onclick="MpcCpanel.scrChange(\'1\');">SINGLE</div></td>';dV+='<td style="width:10px">&nbsp;|&nbsp;</td>';dV+='<td style="width:34px"><div id="geoscr2" class="geoscr" onclick="MpcCpanel.scrChange(\'2\');">COLUMNS</div></td>';dV+='<td style="width:10px">&nbsp;|&nbsp;</td>';dV+='<td style="width:34px"><div id="geoscr3" class="geoscr" onclick="MpcCpanel.scrChange(\'3\');">ROWS</div></td>';dV+="</tr>";dV+="</table>";dV+="<table>";dV+='<tr style="white-space:nowrap">';dV+='<td style="width:78px"><div  class="scn c0 r0 tdgeo tdgeol tdgeot tdgeotl selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us0">Alabama</div></td>';dV+='<td style="width:64px"><div  class="scn c1 r0 tdgeo tdgeot selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us10">Hawaii</div></td>';dV+='<td style="width:100px"><div class="scn c2 r0 tdgeo tdgeot selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us20">Massachusetts</div></td>';dV+='<td style="width:95px"><div  class="scn c3 r0 tdgeo tdgeot selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us30">New Mexico</div></td>';dV+='<td style="width:88px"><div  class="scn c4 r0 tdgeo tdgeot tdgeotr selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us40">South Dakota</div></td>';dV+="</tr>";dV+='<tr style="white-space:nowrap">';dV+='<td><div class="scn c0 r1 tdgeo tdgeol selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us1">Alaska</div></td>';dV+='<td><div class="scn c1 r1 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us11">Idaho</div></td>';dV+='<td><div class="scn c2 r1 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us21">Michigan</div></td>';dV+='<td><div class="scn c3 r1 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us31">New York</div></td>';dV+='<td><div class="scn c4 r1 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us41">Tennessee</div></td>';dV+="</tr>";dV+='<tr style="white-space:nowrap">';dV+='<td><div class="scn c0 r2 tdgeo tdgeol selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us2">Arizona</div></td>';dV+='<td><div class="scn c1 r2 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us12">Illinois</div></td>';dV+='<td><div class="scn c2 r2 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us22">Minnesota</div></td>';dV+='<td><div class="scn c3 r2 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us32">North Carolina</div></td>';dV+='<td><div class="scn c4 r2 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us42">Texas</div></td>';dV+="</tr>";dV+='<tr style="white-space:nowrap">';dV+='<td><div class="scn c0 r3 tdgeo tdgeol selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us3">Arkansas</div></td>';dV+='<td><div class="scn c1 r3 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us13">Indiana</div></td>';dV+='<td><div class="scn c2 r3 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us23">Mississippi</div></td>';dV+='<td><div class="scn c3 r3 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us33">North Dakota</div></td>';dV+='<td><div class="scn c4 r3 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us43">Utah</div></td>';dV+="</tr>";dV+='<tr style="white-space:nowrap">';dV+='<td><div class="scn c0 r4 tdgeo tdgeol selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us4">California</div></td>';dV+='<td><div class="scn c1 r4 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us14">Iowa</div></td>';dV+='<td><div class="scn c2 r4 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us24">Missouri</div></td>';dV+='<td><div class="scn c3 r4 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us34">Ohio</div></td>';dV+='<td><div class="scn c4 r4 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us44">Vermont</div></td>';dV+="</tr>";dV+='<tr style="white-space:nowrap">';dV+='<td><div class="scn c0 r5 tdgeo tdgeol selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us5">Colorado</div></td>';dV+='<td><div class="scn c1 r5 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us15">Kansas</div></td>';dV+='<td><div class="scn c2 r5 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us25">Montana</div></td>';dV+='<td><div class="scn c3 r5 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us35">Oklahoma</div></td>';dV+='<td><div class="scn c4 r5 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us45">Virginia</div></td>';dV+="</tr>";dV+='<tr style="white-space:nowrap">';dV+='<td><div class="scn c0 r6 tdgeo tdgeol selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us6">Connecticut</div></td>';dV+='<td><div class="scn c1 r6 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us16">Kentucky</div></td>';dV+='<td><div class="scn c2 r6 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us26">Nebraska</div></td>';dV+='<td><div class="scn c3 r6 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us36">Oregon</div></td>';dV+='<td><div class="scn c4 r6 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us46">Washington</div></td>';dV+="</tr>";dV+='<tr style="white-space:nowrap">';dV+='<td><div class="scn c0 r7 tdgeo tdgeol selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us7">Delaware</div></td>';dV+='<td><div class="scn c1 r7 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us17">Louisiana</div></td>';dV+='<td><div class="scn c2 r7 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us27">Nevada</div></td>';dV+='<td><div class="scn c3 r7 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us37">Pennsylvania</div></td>';dV+='<td><div class="scn c4 r7 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us47">West Virginia</div></td>';dV+="</tr>";dV+='<tr style="white-space:nowrap">';dV+='<td><div class="scn c0 r8 tdgeo tdgeol selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us8">Florida</div></td>';dV+='<td><div class="scn c1 r8 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us18">Maine</div></td>';dV+='<td><div class="scn c2 r8 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us28">New Hampshire</div></td>';dV+='<td><div class="scn c3 r8 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us38">Rhode Island</div></td>';dV+='<td><div class="scn c4 r8 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us48">Wisconsin</div></td>';dV+="</tr>";dV+='<tr style="white-space:nowrap">';dV+='<td><div class="scn c0 r9 tdgeo tdgeol tdgeobl selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us9">Georgia</div></td>';dV+='<td><div class="scn c1 r9 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us19">Maryland</div></td>';dV+='<td><div class="scn c2 r9 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us29">New Jersey</div></td>';dV+='<td><div class="scn c3 r9 tdgeo selok" onclick="MpcCpanel.geoSelect(this);return false;" id="us39">South Carolina</div></td>';dV+='<td><div class="scn c4 r9 tdgeo selok tdgeobr" onclick="MpcCpanel.geoSelect(this);return false;" id="us49">Wyoming</div></td>';dV+="</tr>";dV+="</table>";dV+='<table style="width:100%">';dV+="<tr>";dV+="<td>";dV+='<div style="margin-top:10px">';dV+='<table style="width:100%">';dV+='<tr style="white-space:nowrap">';dV+='<td style="width:90px">';dV+='<button class="sexybutton allbtns" onclick="MpcCpanel.geoAll(true);return false;"';dV+='title="Select all 50 states">';dV+='<span><span><span class="add">Select All</span></span></span>';dV+="</button>&nbsp;&nbsp;";dV+="</td>";dV+='<td style="text-align:left">';dV+='<button class="sexybutton allbtns" onclick="MpcCpanel.geoAll(false);return false;"';dV+='title="Clear all 50 states">';dV+='<span><span><span class="delete">Clear All</span></span></span>';dV+="</button>";dV+="</td>";dV+='<td style="text-align:right">';dV+='<input id="cbabb" type="checkbox" onchange="MpcCpanel.cbabbChange();return false;">';dV+="</td>";dV+='<td style="text-align:right;width:100px">';dV+='<label for="cbabb">State abbreviations&nbsp;</label>';dV+="</td>";dV+="</tr>";dV+="</table>";dV+="</div>";dV+="</td>";dV+="</tr>";dV+="</table>";dV+="</div>";dV+="</td>";dV+="</tr>";dV+="<tr>";dV+='<td style="vertical-align:bottom">';dV+='<div class="pinstripe twrapz noselect" style="padding:5px 4px 8px;margin-top:0">';dV+='<table style="width:100%;border-collapse: separate; border-spacing: 2px;">';dV+="<tr>";dV+='<td colspan="3" style="text-align:left;font-weight:normal;font-size:12.8px"><div style="margin:0 0 3px 3px">Set City list size:</div></td>';dV+="</tr>";dV+="<tr>";dV+='<td style="text-align:left;width:70px"><div class="cpz tdcopy1 selok w60" title="2,475 cities when all 50 states"';dV+="onclick=\"MpcCpanel.tdSelect('cpz1','cpz',true);return false\" id=\"cpz1\">small</div></td>";dV+='<td style="text-align:center;width:70px"><div class="cpz tdcopy1 selok w60" title="16,239 cities when all 50 states"';dV+="onclick=\"MpcCpanel.tdSelect('cpz2','cpz',true);return false\" id=\"cpz2\">medium</div></td>";dV+='<td style="text-align:right;width:70px"><div class="cpz tdcopy1 selok w60" title="34,535 cities when all 50 states"';dV+="onclick=\"MpcCpanel.tdSelect('cpz3','cpz',true);return false\" id=\"cpz3\">large</div></td>";dV+="</tr>";dV+="</table>";dV+="</div>";dV+="</td>";dV+="</tr>";dV+="</table>";dV+='<div style="position:relative;text-align:left;margin:15px 0 0 15px">';dV+='<div id="ttlbusy" class="" style="position:absolute;top:0;right:17px"></div>';dV+='<button class="sexybutton allbtns" onclick="MpcCpanel.geoAccept();return false;"';dV+='title="Create and store State and Cities lists into Paths">';dV+='<span><span><span class="accept">Accept</span></span></span>';dV+="</button>&nbsp;&nbsp;";dV+='<button class="sexybutton allbtns" onclick="MpcCpanel.closeGeo();"';dV+='title="Cancel and close dialog">';dV+='<span><span><span class="cancel">Cancel</span></span></span>';dV+="</button>";dV+="</div>";dV+="</div>";Shadowbox.open({content:dV,title:"Geotarget U.S. States and Cities",player:"html",handleOversize:"none",height:394,width:742+12,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,onMyClose:db.closeGeo,animate:settings.anim,animateFade:0,onFinish:dD}})};function dD(){cI();var M;for(M=0;M<50;M++){if(usStates[M]!=1){continue}jQuery("#us"+M).toggleClass("fsel",true)}if(us_mem_cpc>0){jQuery("#cpc"+us_mem_cpc).toggleClass("fsel",true)}if(us_mem_cpx>0){jQuery("#cpx"+us_mem_cpx).toggleClass("fsel",true)}if(us_mem_cst>0){jQuery("#cst"+us_mem_cst).toggleClass("fsel",true)}if(us_mem_cci>0){jQuery("#cci"+us_mem_cci).toggleClass("fsel",true)}jQuery("#cpz"+us_mem_cpz).toggleClass("fsel",true);jQuery("#cbabb").prop("checked",us_mem_cbabb);db.scrChange(us_mem_scr);db.cbabbChange();return false}db.saveGeo=function(){us_mem_cpc=bi("cpc",5);us_mem_cpx=bi("cpx",5);us_mem_cpz=bi("cpz",3);us_mem_cst=bi("cst",2);us_mem_cci=bi("cci",2);us_mem_cbabb=jQuery("#cbabb").prop("checked")?1:0};db.closeGeo=function(){db.saveGeo();Shadowbox.close()};db.geoAccept=function(){var dY=bi("cpc",5);var dU=bi("cpx",5);var d0=bi("cpz",3);if((dY==0)||(dU==0)){ad("gold","Paths need to be selected to receive the State and Cities lists");return}if(dY==dU){ad("gold","Cannot use same Path for both lists");return}var M;var dZ="";for(M=0;M<50;M++){if(usStates[M]!=1){continue}dZ+=","+M}if(dZ==""){ad("gold","At least one State needs to be selected");return}aj("ttlbusy");jQuery(".allbtns").prop("disabled",true);var dV=bi("cst",2);var dW=bi("cci",2);var dX=(jQuery("#cbabb").prop("checked"))?50:0;db.saveGeo();aN("y6b643Xc0",{pathS:dY,pathC:dU,sizeC:d0,custS:ar_cust[dY-1],strSS:dZ.substr(1),stateSF:dV,citySF:dW,abb:dX},function(d2){try{obj=jQuery.parseJSON(d2)}catch(d1){Shadowbox.close();JsonError("Unable to parse city list");return false}if(obj.stat!="ok"){Shadowbox.close();return false}jQuery("#taPath"+dY).val(obj.states);jQuery("#taPath"+dU).val(obj.cities);db.statBtnEmpty();Shadowbox.close()})};db.geoSelect=function(dX){var dW=jQuery("#"+dX.id);var dU=dW.hasClass("fsel");var dY=(dU)?0:1;var d1=dX.id.substr(2);var dV,d0,M,dZ;switch(us_mem_scr){case"1":dW.toggleClass("fsel",!dU);usStates[d1]=dY;break;case"2":if(d1<10){dV=0;jQuery(".c"+dV).toggleClass("fsel",!dU);for(dZ=0;dZ<10;dZ++){usStates[dV++]=dY}}else{dV=d1.substr(0,1);jQuery(".c"+dV).toggleClass("fsel",!dU);dV*=10;for(dZ=0;dZ<10;dZ++){usStates[dV++]=dY}}break;case"3":if(d1<10){d0=d1}else{d0=d1.substr(1)}jQuery(".r"+d0).toggleClass("fsel",!dU);M=Number(d0);for(dZ=0;dZ<5;dZ++){usStates[M]=dY;M+=10}break}};db.geoAll=function(dV){var M,dU;jQuery(".tdgeo").toggleClass("fsel",dV);dU=(dV)?1:0;for(M=0;M<50;M++){usStates[M]=dU}};db.scrChange=function(dU){var M=new Array("default","ns-resize","ew-resize");jQuery(".geoscr").toggleClass("geoscr_sel",false);jQuery("#geoscr"+dU).toggleClass("geoscr_sel",true);us_mem_scr=dU;jQuery(".scn").css("cursor",M[dU-1])};db.cbabbChange=function(){var M=new Array("Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming","AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY");var dU=(jQuery("#cbabb").prop("checked"))?50:0;for(x=0;x<50;x++){jQuery("#us"+x).html(M[x+dU])}};db.diaLoadTemplate=function(){str='<div class="dia-content noselect" style="text-align:left;white-space:nowrap">';str+='<div class="dia-status" style="position:absolute;top:4px;left:6px;"></div>';str+='<div style="white-space:normal;margin:4px 0 10px">';str+="A template is a partial Mpc Project containing Source and Asset files.<br />";str+="Importing a template places these files into your mpc folder and sets<br />";str+="entries in the Source Files list box.";str+="</div>";str+='<div class="pinstripe twrap" style="position:relative;margin-bottom:10px;background-color:'+theme.sbload+'">';str+='<div id="ttlbusy" class="" style="position:absolute;bottom:10px;right:15px"></div>';str+='<div style="padding-bottom:4px">We\'ve made numerous <b>free</b> templates available:</div>';str+='<table style="width:100%">';str+='<tr style="white-space:nowrap">';str+='<td class="lbl" style="text-align:right">mpc_</td>';str+='<td style="text-align:left"><input name="mpcTname" id="mpcTname" class="disi epink" type="text" value="" ';str+='title="Enter the 3 digit number of an MPC Template." onkeyup="MpcCpanel.setDest();MpcCpanel.clrTplateStatus(event);return false;" ';str+='onclick="MpcCpanel.clrTplateStatusM();return false" />';str+="</td>";str+='<td style="text-align:left">&nbsp;&nbsp;&nbsp;&nbsp;<button class="sexybutton disi" id="bnLoadMPC" onclick="MpcCpanel.submitLT(\'loadTemplate\',0);return false;" ';str+='title="Import a pre-made MPC Template."><span><span><span class="accept">Import Template</span></span></span></button></td>';str+="<td></td>";str+='<td style="text-align:right;width:95%"><button class="sexybutton disi" id="bnViewMPC" title="View the available MPC Templates."';str+="onClick=\"window.open('http://masspagecreator.com/templates/free.php','_blank'); return false;\">";str+='<span><span><span class="search">View Free Templates</span></span></span></button>';str+="</td>";str+="</tr>";str+="</table>";str+='<div style="padding:10px 0 2px">Destination Folder:</div>';str+='<table style="width:100%">';str+="<tr>";str+='<td><div style="padding-right:2px">'+cp.theFnameFld+"/</div></td>";str+='<td><input type="text" id="mpcTdest" class="disi epink" name="mpcTdest" value="mpc_" onkeyup="MpcCpanel.clrTplateStatus(event);return false" ';str+='onclick="MpcCpanel.clrTplateStatusM();return false" />';str+="</td>";str+='<td style="text-align:right"><div class="tplate_yn" style="visibility:hidden">Folder exists. Overwrite?</div></td>';str+='<td style="text-align:right">';str+='<div class="tplate_yn" style="visibility:hidden">';str+='<button class="sexybutton" onclick="MpcCpanel.submitLT(\'loadTemplate\',1);return false;"><span><span>';str+='<span class="accept">Yes</span></span></span>';str+="</button>&nbsp;";str+='<button class="sexybutton" onclick="MpcCpanel.tplateNo()"><span><span>';str+='<span class="cancel">No</span></span></span>';str+="</button>";str+="</div>";str+="</td>";str+="</tr>";str+="</table>";str+="</div>";str+="</div>";Shadowbox.open({content:str,title:"Import template into Mpc folder",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:cR},height:230,width:550})};function cR(){cI();jQuery("#mpcTname").focus();return false}db.submitLT=function(dV,dY){var dU;var dW;var M;db.clrTplateStatusM();if(dV=="loadTemplate"){if(dY==1){jQuery(".tplate_yn").css("visibility","hidden")}obj_tnum=jQuery("#mpcTname");var dX=obj_tnum.val();if((dX.length!=3)||(isNaN(dX))){ad("pink","Invalid number entered. (Must be 3 digits)");obj_tnum.css("background-color","pink");return false}M=jQuery("#mpcTdest");dW=M.val();dW=dW.trim();if(dW==""){ad("pink","Destination folder required");M.css("background-color","pink");return false}jQuery(".disi").prop("disabled",true);jQuery(".epink").css("background-color","#c4c4c4");aj("ttlbusy");c8("kea919XDx",{parm_tnum:dX,parm_tdest:dW,parm_yesf:dY},function(dZ){rj=jQuery.parseJSON(dZ);switch(rj.stat){case"dia":ca("ttlbusy");jQuery(".disi").prop("disabled",false);jQuery(".epink").css("background-color","white");ad("pink",rj.msg);break;case"exists":ca("ttlbusy");jQuery(".tplate_yn").css("visibility","visible");break;default:Shadowbox.close();cu(rj.msg1,rj.msg2,"center",117,500);jQuery("#taSource").val(cg(rj.sbox));break}});return false}};db.setDest=function(){var M=jQuery("#mpcTname").val();jQuery("#mpcTdest").val("mpc_"+M)};db.tplateNo=function(){jQuery(".tplate_yn").css("visibility","hidden");jQuery(".disi").prop("disabled",false);jQuery(".epink").css("background-color","white")};db.tplateNoOwn=function(){jQuery(".tplate_ynOwn").css("visibility","hidden");jQuery(".disi").prop("disabled",false);jQuery(".epink").css("background-color","white")};db.clrTplateStatus=function(M){db.hideDiaStatusK(M);jQuery(".epink").css("background-color","white")};db.clrTplateStatusM=function(){db.hideDiaStatus();jQuery(".epink").css("background-color","white")};function ai(){var M=cp.theDomainP.toUpperCase();var dU='<div class="dia-content noselect">';dU+='<form name="blah">';dU+='<div class="dia-status" style="position:absolute;top:4px;left:6px;"></div>';dU+='<div id="ttlbusy" class="" style="position:absolute;top:10px;right:15px"></div>';dU+='<table id="login">';dU+="<tr>";dU+='<td style="text-align:right"><label for="txEmail">Email</label></td>';dU+='<td style="text-align:center">&nbsp;&nbsp;<input type="text" name="email" value="" id="txEmail" onkeyup="MpcCpanel.hideDiaStatusK(event);return false" />&nbsp;&nbsp;</td>';dU+="</tr>";dU+="<tr>";dU+='<td style="text-align:right"><label for="txPass">Password</label></td>';dU+='<td style="text-align:center">&nbsp;&nbsp;<input type="password" name="password" id="txPass" onkeyup="MpcCpanel.hideDiaStatusK(event);return false" />&nbsp;&nbsp;</td>';dU+="</tr></table>";dU+='<div style="margin:15px 0;width:100%">';dU+='<table style="width:100%"><tr>';dU+='<td style="text-align:center">';dU+='<button class="sexybutton bndis" onclick="MpcCpanel.doLogin();return false"><span>';dU+='<span><span class="lock_open">Login</span></span></span></button>';dU+="&nbsp;&nbsp;";dU+='<button class="sexybutton bndis" onclick="MpcCpanel.doNewCreds();return false">';dU+='<span><span><span class="lock_edit">New Credentials</span></span></span></button>';dU+="&nbsp;&nbsp;";dU+='<button class="sexybutton bndis" onclick="MpcCpanel.loginHelp();return false" title="Login help"><span><span>';dU+='<span class="help">Help</span></span></span></button>';dU+="</td>";dU+="</tr></table>";dU+="</div>";dU+='<div class="footNote" style="text-align:left;white-space:normal">';dU+='Forgot your password or want to re-enter the license key?<br>Click "New Credentials" to rebuild login credentials.';dU+="</div>";dU+="</form>";dU+="</div>";dU+="<hr>";dU+='<div style="position:absolute;bottom:2px;left:4px;width:365px;cursor:default;overflow:hidden;font-size:9px" title="'+M+'">'+M+"</div>";dU+='<div style="position:absolute;bottom:2px;right:4px;font-size:9px;cursor:default">'+cp.memlimit+"</div>";Shadowbox.open({content:dU,title:"Login to MPC",player:"html",handleOversize:"none",height:201,width:420,options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,displayNav:0,animateFade:1,animate:settings.anim,onFinish:au}})}function au(){cI();bn("txEmail")}db.loginHelp=function(){help=cK.open("https://masspagecreator.com/links.php?go=credHelp");return false};db.doLogin=function(){db.hideDiaStatus();var dV=jQuery("#txEmail").val();var M=jQuery("#txPass");var dU=M.val();if(!cs(dV)){ad("pink","Invalid email address");bn("txEmail");return false}if(dU.length<5){ad("pink","Password must be at least 5 characters");bn("txPass");return false}if(dU.indexOf(" ")!=-1){ad("pink","Password cannot contain spaces");M.val("");bn("txPass");return false}aj("ttlbusy");jQuery(".bndis").prop("disabled",true);c8("kbG41bX7E",{email_ajax:dV,pw_ajax:dU},function(dW){if(dW!=""){ca("ttlbusy");jQuery(".bndis").prop("disabled",false);ad("pink",dW);bn("txEmail");return false}db.doRefresh()})};db.doNewCreds=function(){Shadowbox.close();aj("ttlbusy");jQuery(".bndis").prop("disabled",true);db.hideDiaStatus();c8("k9ad1eXdD",{},function(M){db.doRefresh()})};function dC(dW,dY,M){var dU={QS:"doUpdate",nv:M};var dX={"+":"-","/":"_","=":"."};var dV=dw.encode(JSON.stringify(dU)).replace(/[\+\/\=]/g,function(dZ){return dX[dZ]});str="";str+='<div class="dia-content">';str+='<form method="post" action="'+cp.theFnameUrl+'">';str+="A new version of MassPageCreator is now available.";str+="<p><b>"+dW+"</b> version <b>"+dY+"</b> will update to <b>"+M+"</b>.</p>";str+="Note: Updating will NOT affect logins and licensing.";str+='<div class="centerbtn">';str+='<button class="sexybutton" type="submit"><span><span>';str+='<span class="sync">Update</span></span></span>';str+="</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";str+='<a href="https://masspagecreator.com/ck/history.php?ver='+dY+'" target="_blank">Version History</a>';str+="</div>";str+='<input name="Q64" type="hidden" value="'+dV+'">';str+="</form>";str+="</div>";Shadowbox.open({content:str,title:"Mpc update notice",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,displayNav:0,animate:settings.anim,onFinish:cI},height:159,width:400})}db.mainProject=function(dV,d0){mem_tab=dV;db.setCancel(0);bPermu=false;var dX=(settings.force_ssl==1)?"https":cp.ssl;var dW=dX+"://"+cp.theDomain+cp.theSubdirTrim;var dZ=(prjBaseName=="")?"Untitled":prjBaseName;cn(prjBaseName);var M=(settings.cb_ts==1)?"checked":"";var d1=(settings.tzone.toUpperCase()=="GMT")?"":settings.tzone;var dU;if((settings.legacy_prj==1)||(cp.iPhar!=1)){dU=".prj"}else{dU=".tgz"}var dY="";dY+='<div class="dia-content noselect" style="padding:10px 0 0 15px" onmousedown="MpcCpanel.pnKeyup();return true;">';dY+='<div id="ttlbusy" class="busycss" style="position:absolute;top:7px;right:15px"></div>';dY+='<div style="width:648px;margin-bottom:10px">';dY+='<table style="width:100%">';dY+="<tr>";dY+='<td style="text-align:left"><div id="jndiv">'+dZ+"</div></td>";dY+='<td style="text-align:right">';dY+='<div id="uslinks" style="visibility:hidden">';dY+="<a href=\"javascript:MpcCpanel.genset('utility', false)\">Utility</a> | ";dY+="<a href=\"javascript:MpcCpanel.genset('settings', false)\">Settings</a>";dY+="</div>";dY+="</td>";dY+="</tr>";dY+="</table>";dY+="</div>";dY+='<div style="position:relative">';dY+='<div id="utility" style="position:absolute;visible:hidden">';dY+='<div class="pinstripe twrapz" style="width:633px;margin-bottom:14px;margin-right:0;padding:5px 10px 5px 5px;white-space:normal;font-size:11px;line-height:1.3em">';dY+='<div class="dimm_ne dimm_ns">';dY+='<div style="font-size:11.8px;border-bottom:1px solid #808080;padding-bottom:1px;margin-bottom:4px">';dY+='<table style="width:100%">';dY+='<tr style="white-space:nowrap">';dY+='<td style="width:60px;text-align=:left"><div style="padding-left:4px">List counts</div></td>';dY+='<td style="text-align:center"><div id="dupes" style="font-weight:bold;color:#d00000;visibility:hidden">Duplicates found</div></td>';dY+='<td style="width:60px;text-align:right"><div id="px" style="padding-right:4px">Paths</div></td>';dY+="</tr>";dY+="</table>";dY+="</div>";dY+='<table id="boxcount" style="width:100%">';dY+="<tr>";dY+='<td style="width:36%;align:left;vertical-align:top">';dY+="<table>";for(x=1;x<6;x++){dY+="<tr>";dY+='<td style="text-align:right"><div id="txp'+x+'" style="padding:0 7px 0 6px">&nbsp;</div></td>';dY+='<td style="text-align:left" ><div id="pc'+x+'" class="zc"></div></td>';dY+='<td style="text-align:left" ><div id="pd'+x+'" class="zd"></div></td>';dY+="</tr>"}dY+='<tr><td colspan="2">&nbsp</td></td></tr>';dY+="</table>";dY+="</td>";dY+='<td style="width:32%;text-align:left;vertical-align:top">';dY+="<table>";for(x=1;x<6;x++){dY+="<tr>";dY+='<td style="text-align:right"><div id="txv'+x+'" style="padding-right:7px"></div></td>';dY+='<td style="text-align:left" ><div id="vc'+x+'" class="zc"></div></td>';dY+="</tr>"}dY+='<tr><td colspan="2">&nbsp</td></td></tr>';dY+="</table>";dY+="</td>";dY+='<td style="width:32%;text-align:right">';dY+='<table style="width:100%">';for(x=6;x<10;x++){dY+="<tr>";dY+='<td style="text-align:right"><div id="txv'+x+'" style="padding-right:4px"></div></td>';dY+='<td style="text-align:left" ><div id="vc'+x+'" class="zc"></div></td>';dY+="</tr>"}dY+="</tr>";dY+='<td style="text-align:right"><div id="src" style="padding-right:4px"></div></td>';dY+='<td style="text-align:left" ><div id="sc" class="zc"></div></td>';dY+="</tr>";dY+="<tr>";dY+='<td style="text-align:right"><div id="web" style="padding-right:4px"></div></td>';dY+='<td style="text-align:left" ><div id="wc" class="zc"></div></td>';dY+="</tr>";dY+="</table>";dY+="</td>";dY+="</tr>";dY+="</table>";dY+='<div style="margin:0 0 5px">';dY+="<table>";dY+="<tr>";dY+='<td><button id="bnClean" class="sexybutton somebtn" disabled="disabled"';dY+='title="Remove improper Path characters and duplicates" onclick="MpcCpanel.gen_cleanProject();return false;">';dY+='<span><span><span class="broom">Clean Project</span></span></span></button></td>';dY+='<td class="projInfo">Remove improper characters and duplicates.</td>';dY+="</tr>";dY+="</table>";dY+="</div>";dY+="</div>";dY+="</div>";dY+='<div id="eraseConfirm" class="pinstripe twrapz" style="width:633px;margin-bottom:14px;padding:10px 10px 10px 5px;white-space:normal">';dY+='<div class="dimm_ns">';dY+='<table style="width:100%">';dY+="<tr>";dY+='<td style="width:100px"><button id="bnErase" class="sexybutton sexyredtext allbtn somebtn" disabled="disabled"';dY+='title="Start a new Project" onclick="MpcCpanel.eraseProject();return false;">';dY+='<span><span><span class="erase">New Project</span></span></span></button></td>';dY+='<td class="projInfo">';dY+="<table>";dY+="<tr>";dY+='<td style="text-align:left"><span id="eraMsg">Empty all list boxes and set Project defaults.</span>&nbsp;&nbsp;&nbsp;</td>';dY+='<td style="text-align:left">';dY+='<div id="ynButtons" style="text-align:left;display:none">';dY+='<button class="sexybutton" onclick="MpcCpanel.eraseYes();return false;"';dY+='id="bnYes"><span><span><span class="accept">Yes</span></span></span>';dY+="</button>&nbsp;";dY+='<button class="sexybutton" onclick="MpcCpanel.eraseNo();return false;"';dY+='id="bnNo"><span><span><span class="cancel">No</span></span></span>';dY+="</button>";dY+="</div>";dY+="</td>";dY+="</tr>";dY+="</table>";dY+="</td>";dY+="</tr>";dY+="</table>";dY+="</div>";dY+="</div>";dY+='<div class="pinstripe twrapz" style="width:633px;margin-bottom:14px;padding:10px 10px 10px 5px;white-space:normal">';dY+='<div class="dimm_ne dimm_ns">';dY+='<div style="position:relative">';dY+='<table style="width:100%">';dY+='<tr style="white-space:nowrap">';dY+='<td colspan="5">';dY+='<button id="bnLoad" class="sexybutton allbtn somebtn" disabled="disabled" title="Load previously saved project from computer."';dY+='onclick="MpcCpanel.browseProject();return false;">';dY+='<span><span><span class="loadprj">Load Project</span></span></span>';dY+="</button>";dY+='<span class="projInfo">Load previously saved project from computer.&nbsp;</span>';dY+="</td>";dY+="</tr>";dY+='<tr style="white-space:nowrap">';dY+='<td><div class="lab11">Protect Src</div></td>';dY+="<td></td>";dY+='<td><div class="lab11">Protected Paths</div></td>';dY+="<td></td>";dY+='<td><div class="lab11">Protected Vars</div></td>';dY+="</tr>";dY+='<tr style="white-space:nowrap">';dY+='<td style="width:59px"><div class="tdadd selok" style="margin:0;width:59px"';dY+='onclick="MpcCpanel.sidClicked();return false;" id="sid">Source</div></td>';dY+='<td style="width:32px">&nbsp;</td>';dY+='<td style="width:60px">';dY+="<table>";dY+="<tr>";dY+='<td style="width:15px"><div class="v15 tdadd_left selok ppro" style="width:15px"';dY+="onmouseover=\"MpcCpanel.togOver('pid1');return false;\" onmouseout=\"MpcCpanel.togOut('pid1');return false;\"";dY+='onclick="MpcCpanel.p15Clicked(\'1\');return false;" id="pid1">1</div></td>';dY+='<td style="width:15px"><div class="v15 tdadd_center selok ppro" style="width:15px"';dY+="onmouseover=\"MpcCpanel.togOver('pid2');return false;\" onmouseout=\"MpcCpanel.togOut('pid2');return false;\"";dY+='onclick="MpcCpanel.p15Clicked(\'2\');return false;" id="pid2">2</div></td>';dY+='<td style="width:15px"><div class="v15 tdadd_center selok ppro" style="width:15px"';dY+="onmouseover=\"MpcCpanel.togOver('pid3');return false;\" onmouseout=\"MpcCpanel.togOut('pid3');return false;\"";dY+='onclick="MpcCpanel.p15Clicked(\'3\');return false;" id="pid3">3</div></td>';dY+='<td style="width:15px"><div class="v15 tdadd_center selok ppro" style="width:15px"';dY+="onmouseover=\"MpcCpanel.togOver('pid4');return false;\" onmouseout=\"MpcCpanel.togOut('pid4');return false;\"";dY+='onclick="MpcCpanel.p15Clicked(\'4\');return false;" id="pid4">4</div></td>';dY+='<td style="width:15px"><div class="v15 tdadd_right selok ppro" style="width:15px"';dY+="onmouseover=\"MpcCpanel.togOver('pid5');return false;\" onmouseout=\"MpcCpanel.togOut('pid5');return false;\"";dY+='onclick="MpcCpanel.p15Clicked(\'5\');return false;" id="pid5">5</div></td>';dY+='<td style="width:15px"><div class="avis" onclick="MpcCpanel.togp15()" style="margin-left:7px">TOGGLE</div></td>';dY+="</tr>";dY+="</table>";dY+="</td>";dY+='<td style="width:32px">&nbsp;</td>';dY+="<td>";dY+="<table>";dY+="<tr>";dY+='<td style="width:15px"><div class="v19 tdadd_left selok vpro" style="width:15px"';dY+="onmouseover=\"MpcCpanel.togOver('vid1');return false;\" onmouseout=\"MpcCpanel.togOut('vid1');return false;\"";dY+='onclick="MpcCpanel.v19Clicked(\'1\');return false;" id="vid1">1</div></td>';dY+='<td style="width:15px"><div class="v19 tdadd_center selok vpro" style="width:15px"';dY+="onmouseover=\"MpcCpanel.togOver('vid2');return false;\" onmouseout=\"MpcCpanel.togOut('vid2');return false;\"";dY+='onclick="MpcCpanel.v19Clicked(\'2\');return false;" id="vid2">2</div></td>';dY+='<td style="width:15px"><div class="v19 tdadd_center selok vpro" style="width:15px"';dY+="onmouseover=\"MpcCpanel.togOver('vid3');return false;\" onmouseout=\"MpcCpanel.togOut('vid3');return false;\"";dY+='onclick="MpcCpanel.v19Clicked(\'3\');return false;" id="vid3">3</div></td>';dY+='<td style="width:15px"><div class="v19 tdadd_center selok vpro" style="width:15px"';dY+="onmouseover=\"MpcCpanel.togOver('vid4');return false;\" onmouseout=\"MpcCpanel.togOut('vid4');return false;\"";dY+='onclick="MpcCpanel.v19Clicked(\'4\');return false;" id="vid4">4</div></td>';dY+='<td style="width:15px"><div class="v19 tdadd_center selok vpro" style="width:15px"';dY+="onmouseover=\"MpcCpanel.togOver('vid5');return false;\" onmouseout=\"MpcCpanel.togOut('vid5');return false;\"";dY+='onclick="MpcCpanel.v19Clicked(\'5\');return false;" id="vid5">5</div></td>';dY+='<td style="width:15px"><div class="v19 tdadd_center selok vpro" style="width:15px"';dY+="onmouseover=\"MpcCpanel.togOver('vid6');return false;\" onmouseout=\"MpcCpanel.togOut('vid6');return false;\"";dY+='onclick="MpcCpanel.v19Clicked(\'6\');return false;" id="vid6">6</div></td>';dY+='<td style="width:15px"><div class="v19 tdadd_center selok vpro" style="width:15px"';dY+="onmouseover=\"MpcCpanel.togOver('vid7');return false;\" onmouseout=\"MpcCpanel.togOut('vid7');return false;\"";dY+='onclick="MpcCpanel.v19Clicked(\'7\');return false;" id="vid7">7</div></td>';dY+='<td style="width:15px"><div class="v19 tdadd_center selok vpro" style="width:15px"';dY+="onmouseover=\"MpcCpanel.togOver('vid8');return false;\" onmouseout=\"MpcCpanel.togOut('vid8');return false;\"";dY+='onclick="MpcCpanel.v19Clicked(\'8\');return false;" id="vid8">8</div></td>';dY+='<td style="width:15px"><div class="v19 tdadd_right selok vpro" style="width:15px"';dY+="onmouseover=\"MpcCpanel.togOver('vid9');return false;\" onmouseout=\"MpcCpanel.togOut('vid9');return false;\"";dY+='onclick="MpcCpanel.v19Clicked(\'9\');return false;" id="vid9">9</div></td>';dY+='<td style="width:15px"><div class="avis" onclick="MpcCpanel.togv19()" style="margin-left:7px">TOGGLE</div></td>';dY+="</tr>";dY+="</table>";dY+="</td>";dY+="</tr>";dY+="</table>";dY+="</div>";dY+="</div>";dY+="</div>";dY+='<div class="pinstripe twrapz" style="width:633px;margin-bottom:10px;padding:5px 10px 10px 5px;white-space:normal">';dY+='<div class="dimm_ne">';dY+='<table style="width:100%">';dY+='<tr style="white-space:nowrap">';dY+='<td colspan="4">';dY+='<table style="width:100%">';dY+="<tr>";dY+='<td style="text-align:left"><b>Save Project</b> ';dY+="(does <b>not</b> save Dynamic Include data file) ";dY+="</td>";dY+='<td style="text-align:right"><span class="hide_ns"><a href="javascript:MpcCpanel.gosett(\'project\')">Set timezone</a></span>';dY+="</tr>";dY+="</table>";dY+="<td>";dY+="</tr>";dY+='<tr style="white-space:nowrap">';dY+='<td colspan="2"><div class="lab11">Project name</div></td>';dY+='<td colspan="2"><div class="lab11">Timestamp (optional)</div></td>';dY+="</tr>";dY+="<tr>";dY+='<td style="text-align:left">';dY+='<input type="text" style="width:100%;margin:0;padding:2px 4px;font-size:14px;font-family:monospace"';dY+='value="'+parseN+'" id="txProjName" placeholder="name required"';dY+='class="round" onkeyup="MpcCpanel.pnKeyup();return false"></td>';dY+='<td style="width:10px"><div style="width:10px"></div></td>';dY+='<td style="width:125px">';dY+='<input type="text" style="width:117px;text-align:left;margin:0 4px;padding:2px 4px;font-size:14px;font-family:monospace" ';dY+='title="GMT'+d1+'" ';dY+='value="'+parseT+'" id="txProjTime" class="round" readonly></td>';dY+='<td style="width:25px;text-align:left;font-weight:bold">'+dU+"</td>";dY+="</tr>";dY+='<tr><td colspan="4"><div style="height:10px"></div></td></tr>';dY+="<tr>";dY+='<td colspan="2">';dY+='<div id="selvis" style="visibility:hidden;padding-top:1px" class="noselect">';dY+="<table>";dY+='<tr style="white-space:nowrap">';dY+="<td>";dY+='<button id="bnSave" class="sexybutton allbtn" disabled="disabled"';dY+='title="Save current Project to a file on your comptuer" onclick="MpcCpanel.submitSaveProject();return false;">';dY+='<span><span><span id="spbtn" class="save">Save Project</span></span></span>';dY+="</button>";dY+="</td>";dY+='<td style="text-align:right"><div style="margin:0 5px 0 15px"><span class="dimm_ns">Also save [webroot] files:</span></div></td>';dY+='<td style="width:30px"><div class="tdadd_left selok sb-dis cbtn dimm_ns" style="width:30px" title="Save Webroot files in Project file y/n"';dY+="onmouseover=\"MpcCpanel.togOver('wr_n');return false;\" onmouseout=\"MpcCpanel.togOut('wr_n');return false;\"";dY+='onclick="MpcCpanel.wynClicked(\'wr_y\');return false;" id="wr_y">Yes</div></td>';dY+='<td style="width:30px"><div class="tdadd_right  selok sb-dis cbtn dimm_ns" style="width:30px" title="Save Webroot files in Project file y/n"';dY+="onmouseover=\"MpcCpanel.togOver('wr_y');return false;\" onmouseout=\"MpcCpanel.togOut('wr_y');return false;\"";dY+='onclick="MpcCpanel.wynClicked(\'wr_n\');return false;" id="wr_n">No</div></td>';dY+="</tr>";dY+="</table>";dY+="</div>";dY+="</td>";dY+='<td colspan="2">';dY+='<div id="chkvis" style="visibility:hidden" class="hide_ns">';dY+="<table>";dY+='<tr style="white-space:nowrap">';dY+='<td style="width:5px"><input id="cb_time" type="checkbox" '+M+' onchange="MpcCpanel.cbtimeClicked();"></td>';dY+='<td><label for="cb_time">New timestamp</label></td>';dY+="</tr>";dY+="</table>";dY+="</div>";dY+="</td>";dY+="</tr>";dY+="</table>";dY+="</div>";dY+="</div>";dY+='<div style="text-align:left">';dY+='<div id="MPCprog" style="background-color:'+theme.sbload+'">';dY+="<div></div>";dY+="</div>";dY+="</div>";dY+='<div id="LABprog" style="font-size:11px"></div>';dY+='<div id="pass" style="display:none"></div>';dY+="</div>";dY+="</div>";dY+='<div id="settings_top" style="position:absolute;visible:hidden">';dY+='<div style="margin-bottom:14px">';dY+='<hr style="width:652px;margin:0 0 10px;height:2px">';dY+="<table>";dY+="<tr>";dY+='<td><input type="checkbox" class="diff" id="cb_lowurl_yn" onchange="MpcCpanel.cbLowUrlClicked();return false;"></td>';dY+='<td><label class="noselect" for="cb_lowurl_yn">Paths always create lowercase Urls.</label></td>';dY+="</tr>";dY+='<tr><td><div style="height:8px"></div></td></tr>';dY+="<tr>";dY+='<td><input type="checkbox" class="diff" onchange="MpcCpanel.cbSmapClicked();return false;" id="cb_smap_yn"></td>';dY+='<td><label class="noselect" for="cb_smap_yn">Create Html Sitemaps (for web crawlers) when Project is built.</label></td>';dY+="</tr>";dY+='<tr><td><div style="height:8px"></div></td></tr>';dY+="<tr>";dY+='<td><input type="checkbox" class="diff" onchange="MpcCpanel.cbSmapClicked();return false;" id="cb_smap_follow_yn"></td>';dY+='<td><label class="noselect" for="cb_smap_follow_yn">NO INDEX, FOLLOW, NO ARCHIVE header in sitemaps.</label></td>';dY+="</tr>";dY+="</table>";dY+='<hr style="width:652px;margin:10px 0 0;height:2px">';dY+="</div>";dY+="</div>";dY+='<div id="settings_bottom" style="position:absolute;left:15px;bottom:20px">';dY+='<div id="wrapdiv">';dY+='<div class="pinstripe twrapz" style="width:633px;margin-bottom:14px;padding:10px 10px 10px 5px;white-space:normal">';dY+="<table>";dY+="<tr>";dY+="<td>";dY+='<td style="width:5%;white-space:nowrap">&nbsp;Root html sitemap:</td>';dY+='<td style="width:5%"><div style="position:relative">';dY+='<input type="text" class="diff diffk" id="tx_smap_prefix" value="" onkeydown="MpcCpanel.prefixKeydown(event)">';dY+='<div id="smap_prefix_warning" style="position:absolute;bottom:2px;left:55px;color:#d00000;font-weight:bold;visibility:hidden">Cannot be blank</div>';dY+="</td>";dY+='<td style="width:90%;text-align:left">-sitemap.html</td>';dY+="</td>";dY+="</tr>";dY+="</table>";dY+="</div>";dY+='<div class="pinstripe twrapz" style="position:relative;width:633px;margin-bottom:14px;padding:10px 10px 10px 5px;white-space:normal">';dY+="<table>";dY+="<tr>";dY+='<td colspan="2"><div style="margin-bottom:4px">Domain for html sitemaps</div></td>';dY+="</tr>";dY+="<tr>";dY+='<td style="vertical-align:top"><input type="radio" name="sm_remote_yn" class="sm_rad diff" id="sm_local" value="no"></td>';dY+="<td>";dY+="<div>";dY+='<label for="sm_local">If Mpc is running in the target website, select this default.</label><br>';dY+='<input type="text" onclick="MpcCpanel.setLocalRad();return false" value="'+dW+'" id="txSmDefault" readonly>';dY+="</div>";dY+="</td>";dY+="</tr>";dY+='<tr><td><div style="height:10px"></div></td></tr>';dY+="<tr>";dY+='<td style="vertical-align:top"><input type="radio" name="sm_remote_yn" class="sm_rad diff" id="sm_remote" value="yes"></td>';dY+="<td>";dY+='<div style="position:relative">';dY+='<label for="sm_remote">If NOT running in the target website, enter the target domain.</label><br>';dY+='<input type="text" class="diff diffk" id="tx_smap_remote_url" value="" onclick="MpcCpanel.setRemoteRad(this);return false;"';dY+='onkeyup="MpcCpanel.setRemoteRad(event);return false" spellcheck="false">';dY+='<div id="smap_url_warning" style="position:absolute;bottom:2px;left:100px;color:#d00000;font-weight:bold;visibility:hidden">';dY+="This selection requires a target url";dY+="</div>";dY+="</div>";dY+="</td>";dY+="</tr>";dY+="</table>";dY+="</div>";dY+="</div>";dY+='<div style="">';dY+='<table style="width:100%">';dY+='<tr style="white-space:nowrap">';dY+='<td style="width:280px">';if((mem_tab=="settings")&&(d0=="build")){dY+='<button class="sexybutton" title="Save settings and return to Build dialog" id="bnApply"';dY+="onclick=\"MpcCpanel.saveProjectSettings('build');return false;\">";dY+='<span><span><span class="accept">Accept and Return to Build</span></span></span>';dY+="</button>&nbsp;&nbsp;&nbsp;"}else{if((mem_tab=="settings")&&(d0=="urlpreview")){dY+='<button class="sexybutton" title="Save settings and return to Url Preview" id="bnApply"';dY+="onclick=\"MpcCpanel.saveProjectSettings('urlpreview');return false;\">";dY+='<span><span><span class="accept">Accept and Return to Url Preview</span></span></span>';dY+="</button>&nbsp;&nbsp;&nbsp;"}else{dY+='<button class="sexybutton" title="Save project settings" id="bnApply"';dY+="onclick=\"MpcCpanel.saveProjectSettings('none');return false;\">";dY+='<span><span><span class="accept">Accept</span></span></span>';dY+="</button>&nbsp;&nbsp;&nbsp;"}}dY+='<button class="sexybutton" title="Set to default settings" onclick="MpcCpanel.smapDefaults();return false;">';dY+='<span><span><span class="accept_blue">Defaults</span></span></span>';dY+="</button>&nbsp;&nbsp;&nbsp;";dY+='<button class="sexybutton" title="Revert to saved settings" onclick="MpcCpanel.resetSitemap();return false;">';dY+='<span><span><span class="reload">Revert</span></span></span>';dY+="</button>";dY+="</td>";dY+='<td style="text-align:right">';if((mem_tab=="settings")&&(d0=="build")){dY+='<button class="sexybutton" title="Cancel and return to Build dialog" onclick="MpcCpanel.return2build(\'project\');return false;">';dY+='<span><span><span class="cancel">Close</span></span></span>';dY+="</button>"}else{if((mem_tab=="settings")&&(d0=="urlpreview")){dY+='<button class="sexybutton" title="Cancel and return to Url Preview dialog" onclick="MpcCpanel.return2urlpreview();return false;">';dY+='<span><span><span class="cancel">Close</span></span></span>';dY+="</button>"}else{dY+='<button class="sexybutton" title="Close dialog" onclick="Shadowbox.close();return false;">';dY+='<span><span><span class="cancel">Close</span></span></span>';dY+="</button>"}}dY+="</td>";dY+="</tr>";dY+="</table>";dY+="</div>";dY+="</div>";dY+="</div>";dY+="</div>";Shadowbox.open({content:dY,title:'Project <span id="sb_ttl" class="ttlgold">Utility</span>',player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkFunction:db.helpProject,onMyClose:db.cancelSaveProject,animate:settings.anim,onFinish:bJ},height:532,width:680})};function bJ(){cI();MpcCpanel.genset(mem_tab,true);var M;c8("kfcf1cXxf",{tzone:settings.tzone},function(dZ){try{var dX=jQuery.parseJSON(dZ)}catch(dY){alert("JSON error: preProject \n"+dZ)}jsettings=jQuery.parseJSON(dX.jsstr);mem_tstamp=dX.tstamp;if(dX.dtf==1){jQuery("#px").html("Paths uncounted")}else{jQuery("#px").html('<a href="javascript:MpcCpanel.doPermu()">Click to count Urls</a>')}for(x=1;x<6;x++){jQuery("#txp"+x).html(dX["txp"+x]+":");jQuery("#pc"+x).html(dX["pc"+x]);jQuery("#pd"+x).html(dX["pd"+x])}for(x=1;x<10;x++){jQuery("#txv"+x).html(dX["txv"+x]+":");jQuery("#vc"+x).html(dX["vc"+x])}jQuery("#src").html("Source Files:");jQuery("#sc").html(dX.sc);iWebRoot=(dX.wc=="")?0:dX.wc;if(cp.iPhar==1){jQuery("#web").html("WebRoot:");jQuery("#wc").html(dX.wc)}var dV=jQuery("#wr_y");var dU=jQuery("#wr_n");var dW=jQuery(".cbtn");if((cp.iPhar==0)||(settings.legacy_prj==1)){dU.toggleClass("fsel",true);dU.toggleClass("sb-dis",false);dW.attr("title","Cannot save Webroot files in a Legacy (prj) Project type")}else{if(iWebRoot==0){dU.toggleClass("fsel",true);dU.toggleClass("sb-dis",false);dW.attr("title","No files marked [webroot] in Source list box")}else{dV.toggleClass("fsel",true);dV.toggleClass("sb-dis",false);dU.toggleClass("sb-dis",false)}}if(dX.dtf==1){jQuery("#dupes").css("visibility","visible")}if(mem_tab=="utility"){jQuery("#selvis").css("visibility","visible");jQuery("#chkvis").css("visibility","visible");db.cbtimeClicked()}dE(false);db.resetSitemap();aV()},false)}db.sidClicked=function(){jQuery("#sid").toggleClass("fsel")};db.p15Clicked=function(M){jQuery("#pid"+M).toggleClass("fsel")};db.v19Clicked=function(M){jQuery("#vid"+M).toggleClass("fsel")};db.togp15=function(){var M=jQuery("#pid1").hasClass("fsel");jQuery(".ppro").toggleClass("fsel",!M)};db.togv19=function(){var M=jQuery("#vid1").hasClass("fsel");jQuery(".vpro").toggleClass("fsel",!M)};function dE(M){jQuery(".allbtn").prop("disabled",M);jQuery("#bnClean").prop("disabled",M)}db.gosett=function(M){Shadowbox.close(true);setTimeout(function(){MpcCpanel.diaSettings(M)},50)};db.browseProject=function(){mem_protected_source=(jQuery("#sid").hasClass("fsel"))?1:0;var M;for(M=1;M<6;M++){mem_protected_paths["pid"+M]=(jQuery("#pid"+M).hasClass("fsel"))?1:0}for(M=1;M<10;M++){mem_protected_vars["vid"+M]=(jQuery("#vid"+M).hasClass("fsel"))?1:0}setTimeout("MpcCpanel._loadProject()",100)};db._loadProject=function(){Shadowbox.close();db.browseFile((aLawSelect=="L")?"project_leg":"project_adv","none")};db.helpProject=function(){var M=(jQuery("#sb_ttl").html()=="Utility")?"pjlinkU":"pjlinkS";pjh=cK.open("https://masspagecreator.com/links.php?go="+M)};db.wynClicked=function(M){if(jQuery("#spbtn").hasClass("cancel")){return false}if((iWebRoot==0)||(cp.iPhar==0)||(settings.legacy_prj==1)){return false}jQuery("#wr_y").toggleClass("fsel");jQuery("#wr_n").toggleClass("fsel")};db.genset=function(M,dU){if(M=="settings"){if(!dU){jQuery("#selvis").css("visibility","hidden")}if(!dU){jQuery("#chkvis").css("visibility","hidden")}jQuery("#dupes").toggleClass("forceHidden",true);jQuery("#sb_ttl").html("Settings");jQuery("#utility").css("visibility","hidden");jQuery("#settings_top").css("visibility","visible");jQuery("#settings_bottom").css("visibility","visible")}else{jQuery("#sb_ttl").html("Utility");jQuery("#settings_top").css("visibility","hidden");jQuery("#settings_bottom").css("visibility","hidden");jQuery("#utility").css("visibility","visible");jQuery("#dupes").toggleClass("forceHidden",false);if(!dU){jQuery("#selvis").css("visibility","visible")}if(!dU){jQuery("#chkvis").css("visibility","visible")}}};db.gen_cleanProject=function(){F();dE(true);MpcCpanel.cleanProject(function(M){for(x=1;x<6;x++){jQuery("#pd"+x).html("");jQuery("#pc"+x).html(M["pc"+x])}jQuery("#dupes").css("visibility","hidden");dE(false);jQuery("#px").html('<a href="javascript:MpcCpanel.doPermu()">Click to count Urls</a>');aV()})};db.doPermu=function(){F();dE(true);jQuery("#px").html("Counting...");bPermu=true;n("kFFX29XxX",{},function(M){bPermu=false;if(dc>0){return}jQuery("#px").html(M+"&nbsp;Urls");dE(false);aV()})};db.cbLowUrlClicked=function(){jQuery("#bnApply").prop("disabled",false)};db.cbSmapClicked=function(){if(jQuery("#cb_smap_yn").prop("checked")){op="1.0";tf=false}else{op="0.3";tf=true}jQuery("#wrapdiv").css("opacity",op);jQuery("#tx_smap_prefix").prop("disabled",tf);jQuery(".sm_rad").prop("disabled",tf);jQuery("#tx_smap_remote_url").prop("disabled",tf);jQuery("#bnApply").prop("disabled",false)};db.cbtimeClicked=function(){cn(prjBaseName);var M=(jQuery("#cb_time").prop("checked"))?mem_tstamp:parseT;jQuery("#txProjTime").val(M)};function cn(dU){parseN="";parseT="";if(dU==""){return}if(dU.length<16){parseN=dU;return}var M=dU.match(/-\d{8}-\d{2}h\d{2}/);if((M!=null)&&(M[0].length==15)){parseT=M[0];parseN=dU.substr(0,dU.length-15);return}parseN=dU}db.setProjectBaseName=function(M){if(M==""){prjBaseName="";return}var dU=M.substr(-4).toLowerCase();if((dU==".prj")||(dU==".tgz")){M=M.substring(0,M.length-4)}prjBaseName=M};function dt(){jQuery("#ht_project").html((prjBaseName=="")?"Untitled":prjBaseName)}db.cleanProject=function(dU){var M;dI("#taSource");MpcCpanel.saveSnap("taSource");for(M=1;M<10;M++){dI("#taVar"+M);MpcCpanel.saveSnap("taVar"+M)}c8("kebF1dXC9",{tzone:settings.tzone},function(dY){try{jp=jQuery.parseJSON(dY)}catch(dX){JsonError("JSON error with cleanProject")}db.prjUpdateTime(jp.tstamp);var dV,dW;for(dV=1;dV<6;dV++){if(jp["pv"+dV]==""){jQuery("#taPath"+dV).val("")}else{jQuery("#taPath"+dV).val(jp["pv"+dV].replace(/\\n/g,"\n")+"\n")}MpcCpanel.saveSnap("taPath"+dV)}arr={};for(dV=1;dV<6;dV++){arr["pc"+dV]=(jp["pc"+dV]==0)?" ":bA(jp["pc"+dV])}dU(arr)})};function dI(dV){var M=jQuery(dV);var dU=M.val();dU=dU.trim();dU=dU.replace(/\s*\n\s*/g,"\n");if(dU!=""){dU+="\n"}M.val(dU)}db.eraseProject=function(){dE(true);jQuery(".dimm_ne").css("opacity","0.3");jQuery("#txProjName").prop("disabled",true);jQuery("#eraMsg").html("Create new Project?");jQuery("#ynButtons").css("display","block")};db.eraseNo=function(){jQuery(".dimm_ne").css("opacity","1.0");dE(false);jQuery("#txProjName").prop("disabled",false);jQuery("#eraMsg").html("Empty all listboxes and set Project defaults.");jQuery("#ynButtons").css("display","none")};db.eraseYes=function(){jQuery("#eraMsg").html("Empty all listboxes and set Project defaults.");jQuery("#ynButtons").css("display","none");db.doEraseProject();jQuery(".dimm_ne").css("opacity","1.0");dE(false);jQuery("#txProjName").prop("disabled",false);jQuery("#px").html("0&nbsp;Paths");jQuery(".zc").html("");jQuery("#dupes").css("visibility","hidden");for(x=1;x<6;x++){jQuery("#pd"+x).html("")}jQuery("#txProjName").val("");jQuery("#bnSave").prop("disabled",true);jQuery("#jndiv").html("Untitled");db.smapDefaults();db.saveProjectSettings("none")};db.doEraseProject=function(){db.boxRemoveSingle("source");af("path");af("var");db.setProjectBaseName("");dt("");db.saveSnapName("");cP("bp1");db.switchPageStat("bv1")};function F(){jQuery("#uslinks").css("visibility","hidden");aj("ttlbusy")}function aV(){ca("ttlbusy");if(mem_tab!="settings"){jQuery("#uslinks").css("visibility","visible")}}db.cancelSaveProject=function(){if(bPolling||bPermu){db.setCancel(1)}if(!bPolling){Shadowbox.close()}};db.submitSaveProject=function(){if(bPolling){jQuery("#bnSave").prop("disabled",true);db.cancelSaveProject();return}var dX=jQuery("#txProjName");if(dX.val().trim()==""){dX.css("background-color","pink");return}dX.prop("readonly",true);F();var dW=jQuery("#spbtn");dW.toggleClass("save",false);dW.toggleClass("cancel",true);dW.html("Cancel Save");jQuery("#bnSave").prop("title","Cancel project save");jQuery(".somebtn").prop("disabled",true);var dX=jQuery("#txProjName");var dU=jQuery("#txProjTime");var dV=dX.val().trim();dV+=dU.val();dX.toggleClass("forced_none",true);dU.toggleClass("forced_none",true);jQuery(".dimm_ns").css("opacity","0.3");jQuery(".hide_ns").css("visibility","hidden");var M=(jQuery("#wr_y").hasClass("fsel"))?1:0;var dY=(settings.legacy_prj==1)?"jE7b20XAc":"jE8b20XAc";bO("svproj");dl();aN(dY,{dotdot:cp.dotdot,fname:dV,ver:cp.ver,iWebRoot:M},function(dZ){bPolling=false;db.setProjectBaseName(dV);dt(dV);rj=jQuery.parseJSON(dZ);Shadowbox.close();switch(rj.status){case"ex":cu("ERR:Save Project exception",rj.msg,"center",117,400);break;case"ng":cu("ERR:Save Project error",rj.msg,"center",117,400);break;case"cancel":cu("Project save cancelled","Project save was cancelled","center",117,400);break;case"ok_adv":jQuery("#iframe1").attr("src",cp.auxdir+"/projsv_adv.php?pn="+dV);break;case"ok_leg":jQuery("#iframe1").attr("src",cp.auxdir+"/projsv_leg.php?pn="+dV);break}});return};function bj(dU){var M=dU.substr(-4).toLowerCase();if((M!=".prj")&&(M!=".tgz")){Shadowbox.close();cu("ERR:Project load error","Incorrect file extension.<br>Only <b><tt>prj</tt></b> (Legacy) and <b><tt>tgz</tt></b> (Advanced) allowed.<br><b><tt>"+dU+"</tt></b>","center",150,450);return}var dV=(M==".prj")?"k0dE1fXCF":"k1dE1fXCF";aN(dV,{fname:dU,dotdot:cp.dotdot,mem_protected_source:mem_protected_source,mem_protected_paths:JSON.stringify(mem_protected_paths),mem_protected_vars:JSON.stringify(mem_protected_vars)},function(dY){var dX=jQuery.parseJSON(dY);switch(dX.status){case"ng":Shadowbox.close();cu("ERR:Load Project error",dX.msg,"center",(dX.msgln==2)?133:117,500);break;case"ok_leg":case"ok_adv":if(dX["protected"]!=1){db.setProjectBaseName(dU);dt()}jQuery("#taSource").val(cg(dX.SBOX));cq(aq(dX.SBOX),false);var dW;for(dW=1;dW<6;dW++){jQuery("#taPath"+dW).val(cg(dX["PBOX"+dW]));jQuery("#txPath"+dW).val(dX["PLAB"+dW])}for(dW=1;dW<10;dW++){jQuery("#taVar"+dW).val(cg(dX["VBOX"+dW]));jQuery("#txVar"+dW).val(dX["VLAB"+dW])}cP("bp1");db.switchPageStat("bv1");Shadowbox.close();if(dX.status=="ok_leg"){if(dX.FCOUNT>0){cD(dX.FNAMES)}}else{if((dX.isrc>0)||(dX.iweb>0)){dN(dX.isrc,dX.iweb,dX.asrc,dX.aweb)}}break;case"ex":Shadowbox.close();cu("ERR:Load Project exception",dX.msg,"center",(dX.msgln==2)?133:117,500);break}});return false}db.return2project=function(){Shadowbox.close();setTimeout(function(){MpcCpanel.mainProject("utility","none")},10)};db.setRemoteRad=function(M){if(!jQuery("#sm_remote").prop("checked")){$("#bnApply").prop("disabled",false)}jQuery("#sm_remote").prop("checked",true)};db.prefixKeydown=function(dU){jQuery("#bnApply").prop("disabled",false);l();var M=("which" in dU)?dU.which:dU.keyCode;if(M==32){dU.preventDefault()}return true};db.setLocalRad=function(M){if(!jQuery("#sm_local").prop("checked")){$("#bnApply").prop("disabled",false)}jQuery("#sm_local").prop("checked",true);c()};db.resetSitemap=function(){l();jQuery("#cb_smap_yn").prop("checked",(jsettings.smap_yn=="yes"));jQuery("#cb_lowurl_yn").prop("checked",(jsettings.lowurl_yn=="yes"));jQuery("#cb_smap_follow_yn").prop("checked",(jsettings.smap_follow_yn=="yes"));jQuery("#tx_smap_prefix").val(jsettings.smap_prefix);jQuery("input[name=sm_remote_yn][value="+jsettings.smap_remote_yn+"]").prop("checked",true);jQuery("#tx_smap_remote_url").val(jsettings.smap_remote_url);jQuery("#bnApply").prop("disabled",false);c();db.cbSmapClicked()};db.smapDefaults=function(){l();jQuery("#cb_smap_yn").prop("checked",true);jQuery("#cb_lowurl_yn").prop("checked",false);jQuery("#cb_smap_follow_yn").prop("checked",true);jQuery("#tx_smap_prefix").val("mpc");jQuery("input[name=sm_remote_yn][value=no]").prop("checked",true);jQuery("#tx_smap_remote_url").val("");jQuery("input[name=sm_exist][value=merge]").prop("checked",true);jQuery("input[name=sm_xover_yn][value=no]").prop("checked",true);c();jQuery("#bnApply").prop("disabled",false);db.cbSmapClicked()};function l(){jQuery("#smap_prefix_warning").css("visibility","hidden")}function c(){jQuery("#smap_url_warning").css("visibility","hidden")}db.saveProjectSettings=function(dW){if(jQuery("#tx_smap_prefix").val()==""){jQuery("#smap_prefix_warning").css("visibility","visible");return}if((jQuery("#tx_smap_remote_url").val()=="")&&(jQuery('input[name="sm_remote_yn"]:checked').val()=="yes")){jQuery("#smap_url_warning").css("visibility","visible");return}jQuery("#bnApply").prop("disabled",true);jsettings.smap_yn=(jQuery("#cb_smap_yn").prop("checked"))?"yes":"no";jsettings.lowurl_yn=(jQuery("#cb_lowurl_yn").prop("checked"))?"yes":"no";jsettings.smap_follow_yn=(jQuery("#cb_smap_follow_yn").prop("checked"))?"yes":"no";jsettings.smap_remote_yn=jQuery('input[name="sm_remote_yn"]:checked').val();var dU=jQuery("#tx_smap_prefix").val();dU=dU.replace(/^\/*/,"");dU=dU.replace(/\/*$/,"");jsettings.smap_prefix=dU;jQuery("#tx_smap_prefix").val(dU);var M=jQuery("#tx_smap_remote_url").val();M=M.trim();if(M!=""){M=M.replace(/\/*$/,"")}jsettings.smap_remote_url=M;jQuery("#tx_smap_remote_url").val(M);var dV=JSON.stringify(jsettings);aN("ajax_writeProjectSettings",{parm_ajax:dV,tzone:settings.tzone},function(dY){switch(dW){case"none":var dX=jQuery.parseJSON(dY);db.prjUpdateTime(dX.tstamp);break;case"build":MpcCpanel.return2build("project");break;case"urlpreview":MpcCpanel.return2urlpreview();break}});return false};db.prjUpdateTime=function(M){mem_tstamp=M;db.cbtimeClicked()};db.pnKeyup=function(){jQuery("#txProjName").css("background-color","white")};function aq(dV){var dU=dV.indexOf("\\n");if(dU!=-1){dV=dV.substr(0,dU)}dU=dV.indexOf(">");if(dU!=-1){dV=dV.substr(0,dU)}dU=dV.indexOf("]")+1;var M=dV.indexOf("/",dU);if(M==-1){M=0}dV=dV.substr(dU,M-dU);return dV.trim()}function cD(dV){g_ar_s=dV.split(",");var dU=g_ar_s.length;var M;var dW="";dW+='<div class="dia-content noselect" style="padding:10px 0 0 15px;text-align:left;white-space:nowrap">';dW+='<div style="font-size:14px;margin-bottom:5px;padding-right:15px;white-space:normal">';dW+="Project: "+prjBaseName;dW+="</div>";dW+='<div style="margin-bottom:10px;padding-right:15px;white-space:normal">';dW+="Project contains Source files that differ from current Source files.";dW+=" To restore source files, set checkboxes and click [Restore Files].";dW+="</div>";dW+='<div class="pinstripe twrapz" style="height:180px;width:460px;text-align:left;margin-bottom:14px;padding:0">';dW+='<table style="width:100%">';dW+="<tr>";dW+='<td style="text-align:left"><div style="font-size:14px;padding:5px 10px 0">Select Source files to overwrite</div></td>';dW+="<td></td>";dW+='<td style="text-align:right;width:60px">';dW+='<div style="padding:5px 8px 2px">';dW+='<div onclick="MpcCpanel.cbToggle(\'cbn\')" class="avis">TOGGLE ALL</div';dW+="</div>";dW+="</div>";dW+="</tr>";dW+="</table>";dW+='<div class="scrollboxPj">';for(M=0;M<dU;M++){dW+='<label for="cbn'+M+'"><div class="fi">&nbsp;<input id="cbn'+M+'" class="cbn cbx" onclick="MpcCpanel.cbxClicked()" type="checkbox">'+g_ar_s[M]+"</div></label>"}dW+="</div>";dW+="</div>";dW+='<div style="position:relative;width:100%">';dW+='<div id="ttlbusy" class="" style="position:absolute;top:0;right:22px"></div>';dW+='<table style="width:460px">';dW+="<tr>";dW+='<td style="width:100px">';dW+='<button class="sexybutton" id="restoreF" title="Restore checked Source files into Mpc project folder" ';dW+='onclick="MpcCpanel.submitRestoreLeg();return false;" disabled="disabled">';dW+='<span><span><span class="add">Restore Files</span></span></span>';dW+="</button>";dW+="</td>";dW+='<td style="width:100px">';dW+='<div style="margin-left:15px">';dW+='<button class="sexybutton" id="restoreFno" title="Close dialog without restoring any files" onclick="MpcCpanel.noRestore();return false;">';dW+='<span><span><span class="cancel">No Restore</span></span></span>';dW+="</button>";dW+="</div>";dW+="</td>";dW+="</tr>";dW+="</table>";dW+="</div>";dW+="</div>";Shadowbox.open({content:dW,title:"Found Differing Source files",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:0,onFinish:cI},height:316,width:500})}function dN(dW,dU,dY,dV){g_ar_s=dY;g_ar_w=dV;var M;var dX="";dX+='<div class="dia-content noselect" style="padding:10px 0 0 15px;text-align:left;white-space:nowrap">';dX+='<div style="font-size:14px;margin-bottom:5px;padding-right:15px;white-space:normal">';dX+="Project: "+prjBaseName;dX+="</div>";dX+='<div style="width:464px;text-align:center;margin:2px 0 10px;padding:2px 0;border-top:1px solid #808080;border-bottom:1px solid #808080">';dX+='For full description of this dialog, click the <span class="small_info">&nbsp;&nbsp;help&nbsp;&nbsp;</span> button';dX+="</div>";dX+='<div class="pinstripe twrapz" style="height:180px;width:460px;text-align:left;margin-bottom:14px;padding:0">';dX+='<table style="width:100%">';dX+="<tr>";dX+='<td style="text-align:left"><div style="font-size:14px;padding:5px 10px 0">Select Source files to overwrite</div></td>';dX+="<td></td>";dX+='<td style="text-align:right;width:60px">';dX+='<div style="padding:5px 8px 2px">';if(dW>0){dX+='<div onclick="MpcCpanel.cbToggle(\'cbs\')" class="avis">TOGGLE ALL</div'}dX+="</div>";dX+="</div>";dX+="</tr>";dX+="</table>";dX+='<div class="scrollboxPj">';if(dW==0){dX+='<div style="margin-top:60px"><table style="width:100%"><tr><td style="text-align:center">';dX+="No differing Sources to restore</div>";dX+="</td></tr></table></div>"}else{for(M=0;M<dW;M++){dX+='<label for="cbs'+M+'"><div class="fi">&nbsp;<input id="cbs'+M+'" class="cbs cbx" onclick="MpcCpanel.cbxClicked()" type="checkbox">'+dY[M]+"</div></label>"}}dX+="</div>";dX+="</div>";dX+='<div class="pinstripe twrapz" style="height:180px;width:460px;text-align:left;margin-bottom:14px;padding:0">';dX+='<table style="width:100%">';dX+="<tr>";dX+='<td style="text-align:left"><div style="font-size:14px;padding:5px 10px 0">Select WebRoot files to load</div></td>';dX+="<td></td>";dX+='<td style="text-align:right;width:60px">';dX+='<div style="padding:5px 8px 2px">';if(dU>0){dX+='<div onclick="MpcCpanel.cbToggle(\'cbw\')" class="avis">TOGGLE ALL</div'}dX+="</div>";dX+="</td>";dX+="</tr>";dX+="</table>";dX+='<div class="scrollboxPj">';if(dU==0){dX+='<div style="margin-top:60px"><table style="width:100%"><tr><td style="text-align:center">';dX+="No WebRoot files to load</div>";dX+="</td></tr></table></div>"}else{for(M=0;M<dU;M++){if(dV[M].charAt(dV[M].length-1)=="/"){dX+='<label for="cbw'+M+'"><div class="di">&nbsp;<input id="cbw'+M+'" class="cbw cbx" onclick="MpcCpanel.cbxClicked()" type="checkbox">'+dV[M]+"</div></label>"}else{dX+='<label for="cbw'+M+'"><div class="fi">&nbsp;<input id="cbw'+M+'" class="cbw cbx" onclick="MpcCpanel.cbxClicked()" type="checkbox">'+dV[M]+"</div></label>"}}}dX+="</div>";dX+="</div>";dX+='<div style="position:relative;width:100%">';dX+='<div id="ttlbusy" class="" style="position:absolute;top:0;right:22px"></div>';dX+="<table>";dX+="<tr>";dX+="<td>";dX+='<button class="sexybutton" id="restoreF" title="Restore checked Source files or Load checked WebRoot files" ';dX+='onclick="MpcCpanel.submitRestoreAdv('+dW+", "+dU+');return false;" disabled="disabled">';dX+='<span><span><span class="add">Restore Selected Items</span></span></span>';dX+="</button>";dX+="</td>";dX+="<td>";dX+='<div style="margin-left:15px">';dX+='<button class="sexybutton" id="restoreFno" title="Close dialog without restoring any files" onclick="MpcCpanel.noRestore();return false;">';dX+='<span><span><span class="cancel">No Restore</span></span></span>';dX+="</button>";dX+="</div>";dX+="</td>";dX+="</tr>";dX+="</table>";dX+="</div>";dX+="</div>";Shadowbox.open({content:dX,title:"Found WebRoot or Differing Source files",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"pjrestore",animate:0,onFinish:cI},height:504,width:500})}db.submitRestoreAdv=function(dX,dU){F("ttlbusy");jQuery(".tgall").css("visibility","hidden");jQuery("#restoreF").prop("disabled",true);jQuery("#restoreFno").prop("disabled",true);var dY={};var dW={};var M,dV;dV=0;for(M=0;M<dX;M++){if(jQuery("#cbs"+M).prop("checked")){dY[dV++]=g_ar_s[M]}}dV=0;for(M=0;M<dU;M++){if(jQuery("#cbw"+M).prop("checked")){dW[dV++]=g_ar_w[M]}}aN("kE8b20XAc",{strs:JSON.stringify(dY),strw:JSON.stringify(dW),dotdot:cp.dotdot},function(dZ){db.noRestore()})};db.submitRestoreLeg=function(){F("ttlbusy");var dV="";var M;len=g_ar_s.length;var dU=0;for(M=0;M<len;M++){if(!jQuery("#cbn"+M).prop("checked")){continue}dU++;if(dV!=""){dV+=","}dV+="F"+(M+1)+":"+g_ar_s[M]}var dW='{"LEN":'+dU+',"FNUM":"'+dV+'"}';aN("kE7b20XAc",{parm_ajax:dW},function(dX){db.noRestore()});return false};db.noRestore=function(){Shadowbox.close()};db.cbxClicked=function(){var M=false;jQuery(".cbx").each(function(){if($(this).prop("checked")){M=true;return false}});jQuery("#restoreF").prop("disabled",!M)};db.cbToggle=function(M){var dU=(jQuery("#"+M+"0").prop("checked"));jQuery("."+M).prop("checked",!dU);db.cbxClicked()};function cg(M){if(M==""){return M}return M.replace(/\\n/g,"\n")+"\n"}db.sendInfo=function(){var M="";M+='<div class="dia-content style="text-align:left">';M+="If you have been asked by our Support team to send diagnostic info, please enter code and click the button below.";M+="<p>This info will help us resolve most issues in a more timely manner.</p>";M+='<div style="position:relative;margin-top:15px;text-align:center;white-space:nowrap">';M+='<div id="ttlbusy" class="" style="position:absolute;top:0;right:0"></div>';M+='<table style="width:100%"><tr>';M+="<td>";M+='<button class="sexybutton" id="bnScode" disabled onclick="MpcCpanel.emailMe();return false" title="Send phpinfo() to Support"><span>';M+='<span><span class="email">Send Diagnostic Info</span></span></span>';M+="</button>";M+="</td>";M+='<td style="text-align:right;width:95%">';M+='<div class="scvis">Support code:</div>';M+="</td>";M+="<td>";M+='<div class="scvis"><input name="txScode" onkeyup="MpcCpanel.validateScode(event);return false;" id="txScode"';M+='title="Code given to you by Mpc Support" type="text" value="" /></div>';M+="</td>";M+="<td>";M+="</td>";M+="</tr></table>";M+="</div>";M+="</div>";Shadowbox.open({content:M,title:"Send Diagnostic Info to Support",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,qmarkTarget:"diagnostic",animate:settings.anim,onFinish:cf},height:146,width:500})};function cf(){cI();bn("txScode")}db.emailMe=function(){jQuery("#bnScode").prop("disabled",true);jQuery(".scvis").css("display","none");aj("ttlbusy");var M=(settings.force_ssl==1)?"https":cp.ssl;aN("k21F21X2d",{scode:document.getElementById("txScode").value,ver:cp.ver,dotdot:cp.dotdot,ssl:M,email:cp.email,theDomainP:cp.theDomainP,theFnameUrl:cp.theFnameUrl},function(dU){Shadowbox.close()});return false};db.validateScode=function(dV){var M=document.getElementById("txScode");var dU=document.getElementById("bnScode");if(M.value.length>5){M.value=M.value.substring(0,5)}else{if(M.value.match(/[^a-zA-Z0-9]/g)){M.value=M.value.replace(/[^a-zA-Z0-9]/g,"")}}M.value=M.value.toUpperCase();dU.disabled=(M.value.length<4);return false};db.switchPageStat=function(M){cP(M);db.statBtnEmpty()};function cP(dW){var M;var dV=document.getElementById("bpage");var dU=dW.charAt(2);if(dW.charAt(1)=="p"){for(M=1;M<6;M++){jQuery("#pathbox"+M).css("display","none");jQuery("#pathlab"+M).css("display","none");jQuery("#bp"+M).css("color",theme.btnUnSel)}jQuery("#pathbox"+dU).css("display","block");jQuery("#pathlab"+dU).css("display","block");jQuery("#pathTitle").html("Path"+dU);cG=dU;jQuery("#bp"+dU).css("color",theme.btnSel);jQuery("#taPath"+dU).focus()}else{for(M=1;M<10;M++){jQuery("#varbox"+M).css("display","none");jQuery("#varlab"+M).css("display","none");jQuery("#bv"+M).css("color",theme.btnUnSel)}jQuery("#varbox"+dU).css("display","block");jQuery("#varlab"+dU).css("display","block");jQuery("#varTitle").html("Var"+dU+"&nbsp;");bf=dU;jQuery("#bv"+dU).css("color",theme.btnSel);jQuery("#taVar"+dU).focus()}}db.switchPrevPage=function(dW){var dU=cG;var M="#taPath";if(dW=="bv"){dU=bf;M="#taVar"}dU--;var dV=(dW=="bp")?5:9;if(dU<1){dU=dV}db.switchPageStat(dW+dU);jQuery(M+dU).focus()};db.switchNextPage=function(dW){var dU=cG;var M="#taPath";if(dW=="bv"){dU=bf;M="#taVar"}dU++;var dV=(dW=="bp")?5:9;if(dU>dV){dU=1}db.switchPageStat(dW+dU);jQuery(M+dU).focus()};db.statBtnEmpty=function(){aH();aB()};function aH(){var M,dU;for(M=1;M<6;M++){dU=jQuery("#bp"+M);if(jQuery("#txPath"+M).val()!=""){dU.css("background-color",theme.btnFull);continue}dU.css("background-color",(cZ("#taPath"+M))?theme.btnEmpty:theme.btnFull)}}function aB(){var M,dU;for(M=1;M<10;M++){dU=jQuery("#bv"+M);if(jQuery("#txVar"+M).val()!=""){dU.css("background-color",theme.btnFull);continue}dU.css("background-color",(cZ("#taVar"+M))?theme.btnEmpty:theme.btnFull)}}function cZ(dU){var M=jQuery(dU).val();M=ce(M);return(M.length==0)}function b(dV){var M=cp.theFnameFld;var dU="k0A522XX0";if(dV=="importList"){M="Wordlists";dU="k0ca24XG9"}c8(dU,{parm_ajax:dV},function(dW){jQuery("#browser").html('<li class="open"><span class="folder">'+M+"</span>"+dW+"</li>");$("#browser").treeview({animated:"fast",unique:true,collapsed:true});jQuery("#agif").css("display","none")});return false}db.treeClick=function(M,dU){treeSelFname=M;if(dU=="editPage"){b2(M)}if(dU=="addPage"){b9(M)}if(dU=="addDefault"){cF(M)}if(dU=="addGroup"){bZ(M)}if(dU=="delPage"){b5(M)}if(dU=="addAsset"){de(M)}if(dU=="importPathList"){bW(M)}if(dU=="copyP2W"){I(M)}if(dU=="copyP2P"){P(M)}};function bk(){aN("kG7525X8F",{},function(M){});return false}function cs(dU){var M=/\w@\w/;return M.test(dU)}function cv(M){var dU=/\w\w\.\w\w/;return dU.test(M)}db.forceDigits=function(M){if(M.value.match(/[^0-9]/g)){M.value=M.value.replace(/[^0-9]/g,"")}db.hideDiaStatus()};db.forceDigitsC=function(M){if(M.value.match(/[^0-9,]/g)){M.value=M.value.replace(/[^0-9,]/g,"")}db.hideDiaStatus()};db.forceEmail=function(M){if(M.value.match(/[^a-zA-Z0-9_\-@\.]/g)){M.value=M.value.replace(/[^a-zA-Z0-9_\-@\.]/g,"")}return false};db.forceWord=function(M){if(M.value.match(/[^a-zA-Z0-9\-_]/g)){M.value=M.value.replace(/[^a-zA-Z0-9\-_]/g,"")}return false};db.forcePrintable=function(M){if(M.value.match(/[\s]+/g)){M.value=M.value.replace(/[\s]+/g,"")}return false};db.forceKey=function(M){if(M.value.match(/[^a-zA-Z0-9\-]/g)){M.value=M.value.replace(/[^a-zA-Z0-9\-]/g,"")}else{M.value=M.value.toUpperCase()}return false};function ad(dU,dV){var M=jQuery(".dia-status");M.html(dV);if((dU!="pink")&&(dU!="lightgreen")){dU="gold"}M.css({"background-color":dU,visibility:"visible"})}function a(dW,dU,dV){var M=jQuery("#"+dW);M.html(dV);M.css({"background-color":dU,visibility:"visible"})}db.hideDiaStatus=function(){var M=jQuery(".dia-status");M.css("visibility","hidden");M.html("")};db.hideDiaStatusSp=function(){var M=jQuery(".dia-status");M.css("visibility","hidden");M.html("&nbsp;")};db.hideDiaStatusPink=function(){var M=jQuery(".dia-status");M.css("visibility","hidden");M.html("");jQuery(".epink").css("background-color","white")};db.hideDiaStatusPinkSp=function(){var M=jQuery(".dia-status");M.css("visibility","hidden");M.html("&nbsp;");jQuery(".epink").css("background-color","white")};db.hideDiaStatusK=function(dV){var M=("which" in dV)?dV.which:dV.keyCode;if(M!=13){var dU=jQuery(".dia-status");dU.css("visibility","hidden");dU.html("")}return false};db.diaSortSource=function(){var M=jQuery("#txPath"+cG).val();var dV=(M=="")?'Sort <span style="color:gold">Path'+cG+"</span>":'Sort <span style="color:gold">'+M+"</span> path";var dU="";dU+='<div class="dia-content">';dU+="This function formats Source box items into the following order:</br>";dU+="sources, [default], [groups], [indexes], [assets], [webroot].";dU+='<div style="margin:7px 0 10px">';dU+="You control what happens to the order <b>within</b> [groups].";dU+="</div>";dU+='<div style="position:relative">';dU+='<div id="ttlbusy" style="position:absolute;top:0px;right:15px"></div>';dU+="<table>";dU+="<tr>";dU+='<td style="text-align:left">';dU+='<button class="sexybutton sortbtn" title="Alphabetize files within [groups]" onclick="MpcCpanel.sortSrcGroup(\'alpha\');return false;">';dU+=' <span><span><span class="sort">Alphabetize</span></span></span>';dU+="</button>&nbsp;&nbsp;";dU+="</td>";dU+='<td style="text-align:right">';dU+='<button class="sexybutton sortbtn" title="Randomize files within [groups]" onclick="MpcCpanel.sortSrcGroup(\'random\');return false;">';dU+=' <span><span><span class="sort">Randomize</span></span></span>';dU+="</button>&nbsp;&nbsp;";dU+="</td>";dU+='<td style="text-align:right">';dU+='<button class="sexybutton sortbtn" title="No change within [groups]" onclick="MpcCpanel.sortSrcGroup(\'none\');return false;">';dU+=' <span><span><span class="sort">No change</span></span></span>';dU+="</button>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";dU+="</div>";Shadowbox.open({content:dU,title:"Sort Source list box",player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:cI},height:129,width:504})};db.sortSrcGroup=function(M){aj("ttlbusy");jQuery(".sortbtn").prop("disabled",true);aN("ajax_sortSrcGroup",{sortby:M},function(dV){try{obj=jQuery.parseJSON(dV)}catch(dU){Shadowbox.close();return false}if(obj.stat=="ok"){jQuery("#taSource").val(obj.box);bX("taSource",0,0)}Shadowbox.close()})};db.diaSortPath=function(){var M=jQuery("#txPath"+cG).val();var dV=(M=="")?'Sort <span style="color:gold">Path'+cG+"</span>":'Sort <span style="color:gold">'+M+"</span> path";var dU="";dU+='<div class="dia-content">';dU+='<table style="width:100%">';dU+="<tr>";dU+='<td style="text-align:left">';dU+='<button class="sexybutton sortbtn" title="Alphabetize Path item order" onclick="MpcCpanel.sortPath(\'alpha\');return false;">';dU+=' <span><span><span class="sort">Alphabetize items</span></span></span>';dU+="</button>";dU+="</td>";dU+='<td style="text-align:center"><div id="ttlbusy" class="" ></div></td>';dU+='<td style="text-align:right">';dU+='<button class="sexybutton sortbtn" title="Randomize Path item order" onclick="MpcCpanel.sortPath(\'random\');return false;">';dU+=' <span><span><span class="sort">Randomize items</span></span></span>';dU+="</button>";dU+="</td>";dU+="</tr>";dU+="</table>";dU+="</div>";Shadowbox.open({content:dU,title:dV,player:"html",handleOversize:"none",options:{loadingColor:theme.sbload,bodyColor:theme.sbbody,animate:settings.anim,onFinish:cI},height:64,width:390})};db.sortPath=function(M){aj("ttlbusy");jQuery(".sortbtn").prop("disabled",true);aN("ajax_sortPath",{pathnum:cG,sortby:M},function(dU){rj=jQuery.parseJSON(dU);if(rj.stat=="ok"){jQuery("#taPath"+cG).val(rj.boxdata)}bX("taPath"+cG,0,0);Shadowbox.close()})};db.setLower=function(dV){var dW=(dV=="p")?"taPath"+cG:"taVar"+bf;var dU=jQuery("#"+dW);var M=dU.val();dU.val(M.toLowerCase());db.saveSnap(dW);return false};db.setUpper=function(dV){var dW=(dV=="p")?"taPath"+cG:"taVar"+bf;var dU=jQuery("#"+dW);var M=dU.val();dU.val(M.toUpperCase());db.saveSnap(dW);return false};db.setTitle=function(d1){var M=(d1=="p")?"taPath"+cG:"taVar"+bf;var d0=jQuery("#"+M).val();var dV=d0.split("\n");var dY=0;var dX=0;var dZ;var dW;var dU;for(dY=0;dY<dV.length;dY++){dU=dV[dY].split(" ");for(dX=0;dX<dU.length;dX++){dZ=dU[dX];dZ=dZ.toLowerCase();dW=dZ.charAt(0).toUpperCase();dU[dX]=dW+dZ.slice(1)}dV[dY]=dU.join(" ")}jQuery("#"+M).val(dV.join("\n"));db.saveSnap(M);return false};function cY(dU){switch(dU){case"legacy":theme={linkAsc:"Legacy",bgnd:"#666",text:"black",tree:"#000000",pinstripe:"#f8f8f8",inpColor:"black",inpBgnd:"white",inpBord:"#808080",cpBoxBgnd:"#c4c4c4",cpBoxBdrC:"#333",btnFull:"#255190",btnEmpty:"#666666",btnSel:"gold",btnUnSel:"white",dbtnHov:"#b3d3ec",dbtnSel:"#cbf0a6",footc:"#f0f0f0",foota:"#ffd700",sblink:"blue",sbload:"#c4c4c4",sbbody:"#c4c4c4",sbdisColor:"#a0a0a0",sbdisBgnd:"#c4c4c4",sberrColor:"black",sberrBgnd:"pink",sbwrap:"black",texurl:cp.auxdir+"/images/bg.gif",texyn:"y",cpBoxMarT:"21px",cpBoxBdrW:"1px 2px 2px 1px"};break;case"gray":theme={linkAsc:"Gray",bgnd:"#666",text:"black",tree:"#000000",pinstripe:"#f8f8f8",inpColor:"black",inpBgnd:"white",inpBord:"#808080",cpBoxBgnd:"#c4c4c4",cpBoxBdrC:"#333",btnFull:"#255190",btnEmpty:"#666666",btnSel:"gold",btnUnSel:"white",dbtnHov:"#b3d3ec",dbtnSel:"#cbf0a6",footc:"#f0f0f0",foota:"#ffd700",sblink:"blue",sbload:"#c4c4c4",sbbody:"#c4c4c4",sbdisColor:"#a0a0a0",sbdisBgnd:"#c4c4c4",sberrColor:"black",sberrBgnd:"pink",sbwrap:"black",texurl:"none",texyn:"n",cpBoxMarT:"21px",cpBoxBdrW:"1px 2px 2px 1px"};break;case"blue":theme={linkAsc:"Blue",bgnd:"#c2ceea",text:"black",tree:"#808080",pinstripe:"#fff",inpColor:"black",inpBgnd:"white",inpBord:"#aabbcc",cpBoxBgnd:"#c2ceea",cpBoxBdrC:"#fff",btnFull:"#2675b5",btnEmpty:"#666666",btnSel:"gold",btnUnSel:"white",dbtnHov:"#b3d3ec",dbtnSel:"#cbf0a6",footc:"#000",foota:"blue",sblink:"blue",sbload:"#c2ceea",sbbody:"#c2ceea",sbdisColor:"#a0a0a0",sbdisBgnd:"#c2ceea",sberrColor:"black",sberrBgnd:"pink",sbwrap:"black",texurl:"none",texyn:"n",cpBoxMarT:"20px",cpBoxBdrW:"2px"};break;case"green":theme={linkAsc:"Green",bgnd:"#afd76b",text:"#000",tree:"#000000",pinstripe:"#fff",inpColor:"black",inpBgnd:"white",inpBord:"#8DC334",cpBoxBgnd:"#afd76b",cpBoxBdrC:"#fff",btnFull:"#257a25",btnEmpty:"#666666",btnSel:"gold",btnUnSel:"white",dbtnHov:"#b3d3ec",dbtnSel:"#cbf0a6",footc:"#000",foota:"blue",sblink:"blue",sbload:"#afd76b",sbbody:"#afd76b",sbdisColor:"#a0a0a0",sbdisBgnd:"#afd76b",sberrColor:"black",sberrBgnd:"pink",sbwrap:"black",texurl:"none",texyn:"n",cpBoxMarT:"20px",cpBoxBdrW:"2px"};break;case"rose":theme={linkAsc:"Rose",bgnd:"#F5C0D0",text:"black",tree:"#ffffff",pinstripe:"#fff",inpColor:"black",inpBgnd:"white",inpBord:"#EC7EA0",cpBoxBgnd:"#f5c0d0",cpBoxBdrC:"#fff",btnFull:"#5e0c0c",btnEmpty:"#666",btnSel:"gold",btnUnSel:"white",dbtnHov:"#b3d3ec",dbtnSel:"#cbf0a6",footc:"black",foota:"blue",sblink:"blue",sbload:"#F5C0D0",sbbody:"#F5C0D0",sbdisColor:"#a0a0a0",sbdisBgnd:"#F5C0D0",sberrColor:"black",sberrBgnd:"pink",sbwrap:"black",texurl:"none",texyn:"n",cpBoxMarT:"20px",cpBoxBdrW:"2px"};break;case"magenta":theme={linkAsc:"Magenta",bgnd:"#cab6eb",text:"#000",tree:"#000000",pinstripe:"#fff",inpColor:"black",inpBgnd:"white",inpBord:"#B7A9CC",cpBoxBgnd:"#cab6eb",cpBoxBdrC:"#fff",btnFull:"#46257A",btnEmpty:"#666666",btnSel:"gold",btnUnSel:"white",dbtnHov:"#b3d3ec",dbtnSel:"#cbf0a6",footc:"#000",foota:"blue",sblink:"blue",sbload:"#cab6eb",sbbody:"#cab6eb",sbdisColor:"#a0a0a0",sbdisBgnd:"#cab6eb",sberrColor:"black",sberrBgnd:"pink",sbwrap:"black",texurl:"none",texyn:"n",cpBoxMarT:"20px",cpBoxBdrW:"2px"};break;case"gold":theme={linkAsc:"Gold",bgnd:"#f6dc76",text:"black",tree:"#000000",pinstripe:"#fff",inpColor:"black",inpBgnd:"white",inpBord:"#F0CA2E",cpBoxBgnd:"#f6dc76",cpBoxBdrC:"#fff",btnFull:"#635106",btnEmpty:"#666",btnSel:"gold",btnUnSel:"white",dbtnHov:"#b3d3ec",dbtnSel:"#cbf0a6",footc:"#000",foota:"blue",sblink:"blue",sbload:"#f6dc76",sbbody:"#f6dc76",sbdisColor:"#a0a0a0",sbdisBgnd:"#f6dc76",sberrColor:"black",sberrBgnd:"pink",sbwrap:"black",texurl:"none",texyn:"n",cpBoxMarT:"20px",cpBoxBdrW:"2px"};break;case"ibm":theme={linkAsc:"IBM-PC",bgnd:"black",text:"#00ff00",tree:"#00ff00",pinstripe:"green",inpColor:"#00ff00",inpBgnd:"black",inpBord:"green",cpBoxBgnd:"black",cpBoxBdrC:"#00ff00",btnFull:"#008000",btnEmpty:"#004000",btnSel:"gold",btnUnSel:"white",dbtnHov:"#b3d3ec",dbtnSel:"#cbf0a6",footc:"#00ff00",foota:"#00ff00",sblink:"#00ff00",sbload:"black",sbbody:"black",sbdisColor:"#a0a0a0",sbdisBgnd:"black",sberrColor:"red",sberrBgnd:"black",sbwrap:"#004477",texurl:"none",texyn:"n",cpBoxMarT:"20px",cpBoxBdrW:"2px"};break}if(theme.texurl!="none"){theme.cpBoxBgnd="url("+theme.texurl+")";theme.sbbody="url("+theme.texurl+")"}if(parseInt(cp.ver)>270){var M=theme.tree.substr(1);var dV="";dV+=".treeview .hitarea {background: url("+cp.auxdir+"/images/treeview-thm."+M+".gif) -64px -25px no-repeat;";dV+="height:16px;width:16px;margin-left:-16px;float:left;cursor:pointer;}";dV+=".treeview li {background:url(<"+cp.auxdir+"/images/treeview-thm-line."+M+".gif) 0 0 no-repeat;}";dV+=".treeview li.lastCollapsable, .treeview li.lastExpandable {background-image: url(<"+cp.auxdir+"/images/treeview-thm."+M+".gif);}";dV+=".treeview-black li {background-image: url("+cp.auxdir+"/images/treeview-thm-line."+M+".gif);}";dV+=".treeview-black .hitarea, .treeview-black li.lastCollapsable, .treeview-black li.lastExpandable { background-image: url("+cp.auxdir+"/images/treeview-thm."+M+".gif);}";jQuery("#treestyle").html(dV)}var dV="";dV+=".sb-dis {background-color:"+theme.sbdisBgnd+" !important;color:"+theme.sbdisColor+"}";dV+=".selok:hover{background-color:"+theme.dbtnHov+"}";dV+=".fsel,.fsel:hover{background-color:"+theme.dbtnSel+"}";dV+=".fsel,.fsel:hover{background-color:"+theme.dbtnSel+"}";dV+=".blownp:hover{border-color:"+theme.foota+"}";jQuery("#themestyle").html(dV);jQuery("body").css({background:theme.bgnd,color:theme.text});jQuery(".html").css("background",theme.cpBoxBgnd);jQuery('input[type="text"]').css({color:theme.inpColor,"background-color":theme.inpBgnd,"border-color":theme.inpBord});jQuery("textarea").css({color:theme.inpColor,"background-color":theme.inpBgnd,"border-color":theme.inpBord});jQuery(".parmOutline").css({background:theme.cpBoxBgnd,"margin-top":theme.cpBoxMarT,"border-width":theme.cpBoxBdrW,"border-color":theme.cpBoxBdrC});jQuery(".btnFull").css("background-color",theme.btnFull);jQuery(".btnUnSel").css("color",theme.btnUnSel);jQuery("#footer").css("color",theme.footc);jQuery("#footer a:link").css("color",theme.foota);jQuery("#footer a:visited").css("color",theme.foota);jQuery(".blownp").css("color",theme.foota);cP("bp"+cG);db.switchPageStat("bv"+bf)}function cI(){jQuery("#sb-wrapper").css("border-color",theme.sbwrap);jQuery(".pinstripe").css("border-color",theme.pinstripe);jQuery("#sb-body a").css("color",theme.sblink);jQuery('input[type="text"]').css({color:theme.inpColor,"background-color":theme.inpBgnd,"border-color":theme.inpBord});jQuery("textarea").css({color:theme.inpColor,"background-color":theme.inpBgnd,"border-color":theme.inpBord});jQuery('input[type="password"]').css({color:theme.inpColor,"background-color":theme.inpBgnd,"border-color":theme.inpBord})}cK.MpcCpanel=db})(window);